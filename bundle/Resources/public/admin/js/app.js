(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var _adminUi = require('@netgen/admin-ui');

window.addEventListener('load', function () {
    (0, _adminUi.NgUiInit)();
});

},{"@netgen/admin-ui":2}],2:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NgUiInit=t():e.NgUiInit=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";(function(e){var n,i,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
i="undefined"!=typeof window?window:void 0,r=function(i,r){var a=[],o=i.document,d=Object.getPrototypeOf,l=a.slice,c=a.concat,h=a.push,u=a.indexOf,f={},p=f.toString,g=f.hasOwnProperty,_=g.toString,m=_.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},x={type:!0,src:!0,noModule:!0};function j(e,t,n){var i,r=(t=t||o).createElement("script");if(r.text=e,n)for(i in x)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function k(e){return null==e?e+"":"object"===(void 0===e?"undefined":s(e))||"function"==typeof e?f[p.call(e)]||"object":void 0===e?"undefined":s(e)}var w=function e(t,n){return new e.fn.init(t,n)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},w.extend=w.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},d=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[d]||{},d++),"object"===(void 0===o?"undefined":s(o))||y(o)||(o={}),d===l&&(o=this,d--);d<l;d++)if(null!=(e=arguments[d]))for(t in e)n=o[t],o!==(i=e[t])&&(c&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,a=n&&Array.isArray(n)?n:[]):a=n&&w.isPlainObject(n)?n:{},o[t]=w.extend(c,a,i)):void 0!==i&&(o[t]=i));return o},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=d(e))||"function"==typeof(n=g.call(t,"constructor")&&t.constructor)&&_.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){j(e)},each:function(e,t){var n,i=0;if(T(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,s=e.length,a=!n;r<s;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,a=[];if(T(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=a[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var N=
/*!
  * Sizzle CSS Selector Engine v2.3.3
  * https://sizzlejs.com/
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license
  * http://jquery.org/license
  *
  * Date: 2016-08-08
  */
function(e){var t,n,i,r,s,a,o,d,l,c,h,u,f,p,g,_,m,v,y,b="sizzle"+1*new Date,x=e.document,j=0,k=0,w=ae(),C=ae(),T=ae(),N=function(e,t){return e===t&&(h=!0),0},S={}.hasOwnProperty,E=[],A=E.pop,O=E.push,L=E.push,D=E.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+M+"*("+H+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+M+"*\\]",I=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),W=new RegExp("^"+M+"*,"+M+"*"),B=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),U=new RegExp(I),K=new RegExp("^"+H+"$"),X={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,V=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){u()},re=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(E=D.call(x.childNodes),x.childNodes),E[x.childNodes.length].nodeType}catch(e){L={apply:E.length?function(e,t){O.apply(e,D.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var s,o,l,c,h,p,m,v=t&&t.ownerDocument,j=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==j&&9!==j&&11!==j)return i;if(!r&&((t?t.ownerDocument||t:x)!==f&&u(t),t=t||f,g)){if(11!==j&&(h=G.exec(e)))if(s=h[1]){if(9===j){if(!(l=t.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&y(t,l)&&l.id===s)return i.push(l),i}else{if(h[2])return L.apply(i,t.getElementsByTagName(e)),i;if((s=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(i,t.getElementsByClassName(s)),i}if(n.qsa&&!T[e+" "]&&(!_||!_.test(e))){if(1!==j)v=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),o=(p=a(e)).length;o--;)p[o]="#"+c+" "+me(p[o]);m=p.join(","),v=Q.test(e)&&ge(t.parentNode)||t}if(m)try{return L.apply(i,v.querySelectorAll(m)),i}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return d(e.replace(R,"$1"),t,i,r)}function ae(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function oe(e){return e[b]=!0,e}function de(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return oe(function(t){return t=+t,oe(function(n,i){for(var r,s=e([],n.length,t),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:x;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!s(f),x!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=de(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=de(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=V.test(f.getElementsByClassName),n.getById=de(function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(r=t.getElementsByName(e),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],_=[],(n.qsa=V.test(f.querySelectorAll))&&(de(function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+M+"*(?:value|"+q+")"),e.querySelectorAll("[id~="+b+"-]").length||_.push("~="),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||_.push(".#.+[+~]")}),de(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(n.matchesSelector=V.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&de(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",I)}),_=_.length&&new RegExp(_.join("|")),m=m.length&&new RegExp(m.join("|")),t=V.test(p.compareDocumentPosition),y=t||V.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===x&&y(x,e)?-1:t===f||t.ownerDocument===x&&y(x,t)?1:c?P(c,e)-P(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!r||!s)return e===f?-1:t===f?1:r?-1:s?1:c?P(c,e)-P(c,t):0;if(r===s)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;a[i]===o[i];)i++;return i?ce(a[i],o[i]):a[i]===x?-1:o[i]===x?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&u(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!T[t+" "]&&(!m||!m.test(t))&&(!_||!_.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==f&&u(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==f&&u(e);var r=i.attrHandle[t.toLowerCase()],s=r&&S.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==s?s:n.attributes||!g?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ne)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,s=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(N),h){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return c=null,e},r=se.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:oe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&w(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,d){var l,c,h,u,f,p,g=s!==a?"nextSibling":"previousSibling",_=t.parentNode,m=o&&t.nodeName.toLowerCase(),v=!d&&!o,y=!1;if(_){if(s){for(;g;){for(u=t;u=u[g];)if(o?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&v){for(y=(f=(l=(c=(h=(u=_)[b]||(u[b]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===j&&l[1])&&l[2],u=f&&_.childNodes[f];u=++f&&u&&u[g]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){c[e]=[j,f,y];break}}else if(v&&(y=f=(l=(c=(h=(u=t)[b]||(u[b]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===j&&l[1]),!1===y)for(;(u=++f&&u&&u[g]||(y=f=0)||p.pop())&&((o?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++y||(v&&((c=(h=u[b]||(u[b]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]=[j,y]),u!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var i,s=r(e,t),a=s.length;a--;)e[i=P(e,s[a])]=!(n[i]=s[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:oe(function(e){var t=[],n=[],i=o(e.replace(R,"$1"));return i[b]?oe(function(e,t,n,r){for(var s,a=i(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}}),has:oe(function(e){return function(t){return se(e,t).length>0}}),contains:oe(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:oe(function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:pe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=ue(t);function _e(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(e,t,n){var i=t.dir,r=t.next,s=r||i,a=n&&"parentNode"===s,o=k++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,d){var l,c,h,u=[j,o];if(d){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,d))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(c=(h=t[b]||(t[b]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=c[s])&&l[0]===j&&l[1]===o)return u[2]=l[2];if(c[s]=u,u[2]=e(t,n,d))return!0}return!1}}function ye(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,r){for(var s,a=[],o=0,d=e.length,l=null!=t;o<d;o++)(s=e[o])&&(n&&!n(s,i,r)||(a.push(s),l&&t.push(o)));return a}function xe(e,t,n,i,r,s){return i&&!i[b]&&(i=xe(i)),r&&!r[b]&&(r=xe(r,s)),oe(function(s,a,o,d){var l,c,h,u=[],f=[],p=a.length,g=s||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",o.nodeType?[o]:o,[]),_=!e||!s&&t?g:be(g,u,e,o,d),m=n?r||(s?e:p||i)?[]:a:_;if(n&&n(_,m,o,d),i)for(l=be(m,f),i(l,[],o,d),c=l.length;c--;)(h=l[c])&&(m[f[c]]=!(_[f[c]]=h));if(s){if(r||e){if(r){for(l=[],c=m.length;c--;)(h=m[c])&&l.push(_[c]=h);r(null,m=[],l,d)}for(c=m.length;c--;)(h=m[c])&&(l=r?P(s,h):u[c])>-1&&(s[l]=!(a[l]=h))}}else m=be(m===a?m.splice(p,m.length):m),r?r(null,a,m,d):L.apply(a,m)})}function je(e){for(var t,n,r,s=e.length,a=i.relative[e[0].type],o=a||i.relative[" "],d=a?1:0,c=ve(function(e){return e===t},o,!0),h=ve(function(e){return P(t,e)>-1},o,!0),u=[function(e,n,i){var r=!a&&(i||n!==l)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,r}];d<s;d++)if(n=i.relative[e[d].type])u=[ve(ye(u),n)];else{if((n=i.filter[e[d].type].apply(null,e[d].matches))[b]){for(r=++d;r<s&&!i.relative[e[r].type];r++);return xe(d>1&&ye(u),d>1&&me(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(R,"$1"),n,d<r&&je(e.slice(d,r)),r<s&&je(e=e.slice(r)),r<s&&me(e))}u.push(n)}return ye(u)}return _e.prototype=i.filters=i.pseudos,i.setFilters=new _e,a=se.tokenize=function(e,t){var n,r,s,a,o,d,l,c=C[e+" "];if(c)return t?0:c.slice(0);for(o=e,d=[],l=i.preFilter;o;){for(a in n&&!(r=W.exec(o))||(r&&(o=o.slice(r[0].length)||o),d.push(s=[])),n=!1,(r=B.exec(o))&&(n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),o=o.slice(n.length)),i.filter)!(r=X[a].exec(o))||l[a]&&!(r=l[a](r))||(n=r.shift(),s.push({value:n,type:a,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?se.error(e):C(e,d).slice(0)},o=se.compile=function(e,t){var n,r=[],s=[],o=T[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=je(t[n]))[b]?r.push(o):s.push(o);(o=T(e,function(e,t){var n=t.length>0,r=e.length>0,s=function(s,a,o,d,c){var h,p,_,m=0,v="0",y=s&&[],b=[],x=l,k=s||r&&i.find.TAG("*",c),w=j+=null==x?1:Math.random()||.1,C=k.length;for(c&&(l=a===f||a||c);v!==C&&null!=(h=k[v]);v++){if(r&&h){for(p=0,a||h.ownerDocument===f||(u(h),o=!g);_=e[p++];)if(_(h,a||f,o)){d.push(h);break}c&&(j=w)}n&&((h=!_&&h)&&m--,s&&y.push(h))}if(m+=v,n&&v!==m){for(p=0;_=t[p++];)_(y,b,a,o);if(s){if(m>0)for(;v--;)y[v]||b[v]||(b[v]=A.call(d));b=be(b)}L.apply(d,b),c&&!s&&b.length>0&&m+t.length>1&&se.uniqueSort(d)}return c&&(j=w,l=x),y};return n?oe(s):s}(s,r))).selector=e}return o},d=se.select=function(e,t,n,r){var s,d,l,c,h,u="function"==typeof e&&e,f=!r&&a(e=u.selector||e);if(n=n||[],1===f.length){if((d=f[0]=f[0].slice(0)).length>2&&"ID"===(l=d[0]).type&&9===t.nodeType&&g&&i.relative[d[1].type]){if(!(t=(i.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(s=X.needsContext.test(e)?0:d.length;s--&&(l=d[s],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace(Z,ee),Q.test(d[0].type)&&ge(t.parentNode)||t))){if(d.splice(s,1),!(e=r.length&&me(d)))return L.apply(n,r),n;break}}return(u||o(e,f))(r,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(N).join("")===b,n.detectDuplicates=!!h,u(),n.sortDetached=de(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),de(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&de(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),de(function(e){return null==e.getAttribute("disabled")})||le(q,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(i);w.find=N,w.expr=N.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=N.uniqueSort,w.text=N.getText,w.isXMLDoc=N.isXML,w.contains=N.contains,w.escapeSelector=N.escape;var S=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(n))break;i.push(e)}return i},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=w.expr.match.needsContext;function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?w.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)w.find(e,r[t],n);return i>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&A.test(e)?w(e):e||[],!1).length}});var P,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),L.test(i[1])&&w.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=o.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,P=w(o);var M=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,s=[],a="string"!=typeof e&&w(e);if(!A.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return O(e,"iframe")?e.contentDocument:(O(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,i){var r=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(H[e]||w.uniqueSort(r),M.test(e)&&r.reverse()),this.pushStack(r)}});var I=/[^\x20\t\r\n\f]+/g;function $(e){return e}function R(e){throw e}function W(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,i,r,s=[],a=[],o=-1,d=function(){for(r=r||e.once,i=t=!0;a.length;o=-1)for(n=a.shift();++o<s.length;)!1===s[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=s.length,n=!1);e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},l={add:function(){return s&&(n&&!t&&(o=s.length-1,a.push(n)),function t(n){w.each(n,function(n,i){y(i)?e.unique&&l.has(i)||s.push(i):i&&i.length&&"string"!==k(i)&&t(i)})}(arguments),n&&!t&&d()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,s,n))>-1;)s.splice(n,1),n<=o&&o--}),this},has:function(e){return e?w.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||t||(s=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||d()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},w.extend({Deferred:function(e){var t=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,i){var r=y(e[i[4]])&&e[i[4]];a[i[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var a=0;function o(e,t,n,r){return function(){var d=this,l=arguments,c=function(){var i,c;if(!(e<a)){if((i=n.apply(d,l))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"===(void 0===i?"undefined":s(i))||"function"==typeof i)&&i.then,y(c)?r?c.call(i,o(a,t,$,r),o(a,t,R,r)):(a++,c.call(i,o(a,t,$,r),o(a,t,R,r),o(a,t,$,t.notifyWith))):(n!==$&&(d=void 0,l=[i]),(r||t.resolveWith)(d,l))}},h=r?c:function(){try{c()}catch(i){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(i,h.stackTrace),e+1>=a&&(n!==R&&(d=void 0,l=[i]),t.rejectWith(d,l))}};e?h():(w.Deferred.getStackHook&&(h.stackTrace=w.Deferred.getStackHook()),i.setTimeout(h))}}return w.Deferred(function(i){t[0][3].add(o(0,i,y(r)?r:$,i.notifyWith)),t[1][3].add(o(0,i,y(e)?e:$)),t[2][3].add(o(0,i,y(n)?n:R))}).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},a={};return w.each(t,function(e,i){var s=i[2],o=i[5];r[i[1]]=s.add,o&&s.add(function(){n=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=s.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),s=w.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||s.resolveWith(i,r)}};if(t<=1&&(W(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||y(r[n]&&r[n].then)))return s.then();for(;n--;)W(r[n],a(n),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&B.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){i.setTimeout(function(){throw e})};var z=w.Deferred();function U(){o.removeEventListener("DOMContentLoaded",U),i.removeEventListener("load",U),w.ready()}w.fn.ready=function(e){return z.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||z.resolveWith(o,[w]))}}),w.ready.then=z.then,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?i.setTimeout(w.ready):(o.addEventListener("DOMContentLoaded",U),i.addEventListener("load",U));var K=function e(t,n,i,r,s,a,o){var d=0,l=t.length,c=null==i;if("object"===k(i))for(d in s=!0,i)e(t,n,d,i[d],!0,a,o);else if(void 0!==r&&(s=!0,y(r)||(o=!0),c&&(o?(n.call(t,r),n=null):(c=n,n=function(e,t,n){return c.call(w(e),n)})),n))for(;d<l;d++)n(t[d],i,o?r:r.call(t[d],d,n(t[d],i)));return s?t:c?n.call(t):l?n(t[0],i):a},X=/^-ms-/,Y=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function V(e){return e.replace(X,"ms-").replace(Y,J)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[V(t)]=n;else for(i in t)r[V(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in i?[t]:t.match(I)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Z=new Q,ee=new Q,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/[A-Z]/g;function ie(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:te.test(e)?JSON.parse(e):e)}(n)}catch(e){}ee.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return ee.hasData(e)||Z.hasData(e)},data:function(e,t,n){return ee.access(e,t,n)},removeData:function(e,t){ee.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=ee.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=V(i.slice(5)),ie(a,i,r[i]));Z.set(a,"hasDataAttrs",!0)}return r}return"object"===(void 0===e?"undefined":s(e))?this.each(function(){ee.set(this,e)}):K(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=ee.get(a,e))?n:void 0!==(n=ie(a,e))?n:void 0;this.each(function(){ee.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ee.remove(this,e)})}}),w.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z.get(e,t),n&&(!i||Array.isArray(n)?i=Z.access(e,t,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,r=n.shift(),s=w._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,function(){w.dequeue(e,t)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:w.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=w.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(s[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},de=function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in r=n.apply(e,i||[]),t)e.style[s]=a[s];return r};function le(e,t,n,i){var r,s,a=20,o=i?function(){return i.cur()}:function(){return w.css(e,t,"")},d=o(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+d)&&se.exec(w.css(e,t));if(c&&c[3]!==l){for(d/=2,l=l||c[3],c=+d||1;a--;)w.style(e,t,c+l),(1-s)*(1-(s=o()/d||.5))<=0&&(a=0),c/=s;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+d||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var ce={};function he(e){var t,n=e.ownerDocument,i=e.nodeName,r=ce[i];return r||(t=n.body.appendChild(n.createElement(i)),r=w.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ce[i]=r,r)}function ue(e,t){for(var n,i,r=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(r[s]=Z.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&oe(i)&&(r[s]=he(i))):"none"!==n&&(r[s]="none",Z.set(i,"display",n)));for(s=0;s<a;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?w(this).show():w(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ge=/^$|^module$|\/(?:java|ecma)script/i,_e={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&O(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td;var ye,be,xe=/<|&#?\w+;/;function je(e,t,n,i,r){for(var s,a,o,d,l,c,h=t.createDocumentFragment(),u=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===k(s))w.merge(u,s.nodeType?[s]:s);else if(xe.test(s)){for(a=a||h.appendChild(t.createElement("div")),o=(pe.exec(s)||["",""])[1].toLowerCase(),d=_e[o]||_e._default,a.innerHTML=d[1]+w.htmlPrefilter(s)+d[2],c=d[0];c--;)a=a.lastChild;w.merge(u,a.childNodes),(a=h.firstChild).textContent=""}else u.push(t.createTextNode(s));for(h.textContent="",f=0;s=u[f++];)if(i&&w.inArray(s,i)>-1)r&&r.push(s);else if(l=w.contains(s.ownerDocument,s),a=me(h.appendChild(s),"script"),l&&ve(a),n)for(c=0;s=a[c++];)ge.test(s.type||"")&&n.push(s);return h}ye=o.createDocumentFragment().appendChild(o.createElement("div")),(be=o.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),v.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var ke=o.documentElement,we=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Se(){return!1}function Ee(){try{return o.activeElement}catch(e){}}function Ae(e,t,n,i,r,a){var o,d;if("object"===(void 0===t?"undefined":s(t))){for(d in"string"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,d,n,i,t[d],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,r,i,n)})}w.event={global:{},add:function(e,t,n,i,r){var s,a,o,d,l,c,h,u,f,p,g,_=Z.get(e);if(_)for(n.handler&&(n=(s=n).handler,r=s.selector),r&&w.find.matchesSelector(ke,r),n.guid||(n.guid=w.guid++),(d=_.events)||(d=_.events={}),(a=_.handle)||(a=_.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(I)||[""]).length;l--;)f=g=(o=Te.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),f&&(h=w.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=w.event.special[f]||{},c=w.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:p.join(".")},s),(u=d[f])||((u=d[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?u.splice(u.delegateCount++,0,c):u.push(c),w.event.global[f]=!0)},remove:function(e,t,n,i,r){var s,a,o,d,l,c,h,u,f,p,g,_=Z.hasData(e)&&Z.get(e);if(_&&(d=_.events)){for(l=(t=(t||"").match(I)||[""]).length;l--;)if(f=g=(o=Te.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=w.event.special[f]||{},u=d[f=(i?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=u.length;s--;)c=u[s],!r&&g!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(u.splice(s,1),c.selector&&u.delegateCount--,h.remove&&h.remove.call(e,c));a&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,_.handle)||w.removeEvent(e,f,_.handle),delete d[f])}else for(f in d)w.event.remove(e,f+t[l],n,i,!0);w.isEmptyObject(d)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,s,a,o=w.event.fix(e),d=new Array(arguments.length),l=(Z.get(this,"events")||{})[o.type]||[],c=w.event.special[o.type]||{};for(d[0]=o,t=1;t<arguments.length;t++)d[t]=arguments[t];if(o.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,o)){for(a=w.event.handlers.call(this,o,l),t=0;(r=a[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,void 0!==(i=((w.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,d))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,r,s,a,o=[],d=t.delegateCount,l=e.target;if(d&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],a={},n=0;n<d;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?w(r,this).index(l)>-1:w.find(r,this,null,[l]).length),a[r]&&s.push(i);s.length&&o.push({elem:l,handlers:s})}return l=this,d<t.length&&o.push({elem:l,handlers:t.slice(d)}),o},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(e){return O(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===(void 0===e?"undefined":s(e))){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){w.event.remove(this,e,n,t)})}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Le=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,i,r,s,a,o,d,l;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.access(e),a=Z.set(t,s),l=s.events))for(r in delete a.handle,a.events={},l)for(n=0,i=l[r].length;n<i;n++)w.event.add(t,r,l[r][n]);ee.hasData(e)&&(o=ee.access(e),d=w.extend({},o),ee.set(t,d))}}function Ie(e,t,n,i){t=c.apply([],t);var r,s,a,o,d,l,h=0,u=e.length,f=u-1,p=t[0],g=y(p);if(g||u>1&&"string"==typeof p&&!v.checkClone&&De.test(p))return e.each(function(r){var s=e.eq(r);g&&(t[0]=p.call(this,r,s.html())),Ie(s,t,n,i)});if(u&&(s=(r=je(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(o=(a=w.map(me(r,"script"),Me)).length;h<u;h++)d=r,h!==f&&(d=w.clone(d,!0,!0),o&&w.merge(a,me(d,"script"))),n.call(e[h],d,h);if(o)for(l=a[a.length-1].ownerDocument,w.map(a,He),h=0;h<o;h++)d=a[h],ge.test(d.type||"")&&!Z.access(d,"globalEval")&&w.contains(l,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(d.src):j(d.textContent.replace(Pe,""),l,d))}return e}function $e(e,t,n){for(var i,r=t?w.filter(t,e):e,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||w.cleanData(me(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,n){var i,r,s,a,o,d,l,c=e.cloneNode(!0),h=w.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=me(c),i=0,r=(s=me(e)).length;i<r;i++)o=s[i],d=a[i],l=void 0,"input"===(l=d.nodeName.toLowerCase())&&fe.test(o.type)?d.checked=o.checked:"input"!==l&&"textarea"!==l||(d.defaultValue=o.defaultValue);if(t)if(n)for(s=s||me(e),a=a||me(c),i=0,r=s.length;i<r;i++)Fe(s[i],a[i]);else Fe(e,c);return(a=me(c,"script")).length>0&&ve(a,!h&&me(e,"script")),c},cleanData:function(e){for(var t,n,i,r=w.event.special,s=0;void 0!==(n=e[s]);s++)if(G(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[ee.expando]&&(n[ee.expando]=void 0)}}}),w.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return K(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!_e[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ie(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,i=[],r=w(e),s=r.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),w(r[a])[t](n),h.apply(i,n.get());return this.pushStack(i)}});var Re=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Be=new RegExp(ae.join("|"),"i");function ze(e,t,n){var i,r,s,a,o=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!v.pixelBoxStyles()&&Re.test(a)&&Be.test(t)&&(i=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=i,o.minWidth=r,o.maxWidth=s)),void 0!==a?a+"":a}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ke.appendChild(l).appendChild(c);var e=i.getComputedStyle(c);n="1%"!==e.top,d=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),r=36===t(e.width),c.style.position="absolute",s=36===c.offsetWidth||"absolute",ke.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,r,s,a,d,l=o.createElement("div"),c=o.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),s}}))}();var Ke=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"},Ve=["Webkit","Moz","ms"],Ge=o.createElement("div").style;function Qe(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=function(e){if(e in Ge)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ve.length;n--;)if((e=Ve[n]+t)in Ge)return e}(e)||e),t}function Ze(e,t,n){var i=se.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function et(e,t,n,i,r,s){var a="width"===t?1:0,o=0,d=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(d+=w.css(e,n+ae[a],!0,r)),i?("content"===n&&(d-=w.css(e,"padding"+ae[a],!0,r)),"margin"!==n&&(d-=w.css(e,"border"+ae[a]+"Width",!0,r))):(d+=w.css(e,"padding"+ae[a],!0,r),"padding"!==n?d+=w.css(e,"border"+ae[a]+"Width",!0,r):o+=w.css(e,"border"+ae[a]+"Width",!0,r));return!i&&s>=0&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-d-o-.5))),d}function tt(e,t,n){var i=We(e),r=ze(e,t,i),s="border-box"===w.css(e,"boxSizing",!1,i),a=s;if(Re.test(r)){if(!n)return r;r="auto"}return a=a&&(v.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===w.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+et(e,t,n||(s?"border":"content"),a,i,r)+"px"}function nt(e,t,n,i,r){return new nt.prototype.init(e,t,n,i,r)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,d=V(t),l=Xe.test(t),c=e.style;if(l||(t=Qe(d)),o=w.cssHooks[t]||w.cssHooks[d],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:c[t];"string"===(a=void 0===n?"undefined":s(n))&&(r=se.exec(n))&&r[1]&&(n=le(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(w.cssNumber[d]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,s,a,o=V(t);return Xe.test(t)||(t=Qe(o)),(a=w.cssHooks[t]||w.cssHooks[o])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=ze(e,t,i)),"normal"===r&&t in Je&&(r=Je[t]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,i){if(n)return!Ke.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,i):de(e,Ye,function(){return tt(e,t,i)})},set:function(e,n,i){var r,s=We(e),a="border-box"===w.css(e,"boxSizing",!1,s),o=i&&et(e,t,i,a,s);return a&&v.scrollboxSize()===s.position&&(o-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-et(e,t,"border",!1,s)-.5)),o&&(r=se.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ze(0,n,o)}}}),w.cssHooks.marginLeft=Ue(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-de(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ae[i]+t]=s[i]||s[i-2]||s[0];return r}},"margin"!==e&&(w.cssHooks[e+t].set=Ze)}),w.fn.extend({css:function(e,t){return K(this,function(e,t,n){var i,r,s={},a=0;if(Array.isArray(t)){for(i=We(e),r=t.length;a<r;a++)s[t[a]]=w.css(e,t[a],!1,i);return s}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=nt,nt.prototype={constructor:nt,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}},nt.prototype.init.prototype=nt.prototype,nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},nt.propHooks.scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=nt.prototype.init,w.fx.step={};var it,rt,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ot(){rt&&(!1===o.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ot):i.setTimeout(ot,w.fx.interval),w.fx.tick())}function dt(){return i.setTimeout(function(){it=void 0}),it=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ae[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,n){for(var i,r=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),s=0,a=r.length;s<a;s++)if(i=r[s].call(n,t,e))return i}function ht(e,t,n){var i,r,s=0,a=ht.prefilters.length,o=w.Deferred().always(function(){delete d.elem}),d=function(){if(r)return!1;for(var t=it||dt(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),s=0,a=l.tweens.length;s<a;s++)l.tweens[s].run(i);return o.notifyWith(e,[l,i,n]),i<1&&a?n:(a||o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l,t])):o.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,i,r,s,a;for(n in e)if(r=t[i=V(n)],s=e[n],Array.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(a=w.cssHooks[i])&&"expand"in a)for(n in s=a.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=r);else t[i]=r}(c,l.opts.specialEasing);s<a;s++)if(i=ht.prefilters[s].call(l,e,c,l.opts))return y(i.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,ct,l),y(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(d,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,se.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(I);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,s,a,o,d,l,c,h="width"in t||"height"in t,u=this,f={},p=e.style,g=e.nodeType&&oe(e),_=Z.get(e,"fxshow");for(i in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],st.test(r)){if(delete t[i],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!_||void 0===_[i])continue;g=!0}f[i]=_&&_[i]||w.style(e,i)}if((d=!w.isEmptyObject(t))||!w.isEmptyObject(f))for(i in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=_&&_.display)&&(l=Z.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(ue([e],!0),l=e.style.display||l,c=w.css(e,"display"),ue([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(d||(u.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),d=!1,f)d||(_?"hidden"in _&&(g=_.hidden):_=Z.access(e,"fxshow",{display:l}),s&&(_.hidden=!g),g&&ue([e],!0),u.done(function(){for(i in g||ue([e]),Z.remove(e,"fxshow"),f)w.style(e,i,f[i])})),d=ct(g?_[i]:0,i,u),i in _||(_[i]=d.start,g&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"===(void 0===e?"undefined":s(e))?w.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=w.isEmptyObject(e),s=w.speed(t,n,i),a=function(){var t=ht(this,w.extend({},e),s);(r||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=w.timers,a=Z.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&at.test(r)&&i(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Z.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=w.timers,a=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}}),w.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),it=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,ot())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=o.createElement("input"),t=o.createElement("select").appendChild(o.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=o.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ut,ft=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return K(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?w.prop(e,t,n):(1===s&&w.isXMLDoc(e)||(r=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(I);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ft[t]||w.find.attr;ft[t]=function(e,t,i){var r,s,a=t.toLowerCase();return i||(s=ft[a],ft[a]=r,r=null!=n(e,t,i)?a:null,ft[a]=s),r}});var pt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function _t(e){return(e.match(I)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}w.fn.extend({prop:function(e,t){return K(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(e)||(t=w.propFix[t]||t,r=w.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,i,r,s,a,o,d=0;if(y(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;n=this[d++];)if(r=mt(n),i=1===n.nodeType&&" "+_t(r)+" "){for(a=0;s=t[a++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(o=_t(i))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,r,s,a,o,d=0;if(y(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[d++];)if(r=mt(n),i=1===n.nodeType&&" "+_t(r)+" "){for(a=0;s=t[a++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");r!==(o=_t(i))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":s(e),i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,r,s,a;if(i)for(r=0,s=w(this),a=vt(e);t=a[r++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+_t(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;w.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,w(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(yt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:_t(w.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type,o=a?null:[],d=a?s+1:r.length;for(i=s<0?d:a?s:0;i<d;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,s=w.makeArray(t),a=r.length;a--;)((i=r[a]).selected=w.inArray(w.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},v.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in i;var bt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(e,t,n,r){var a,d,l,c,h,u,f,p,_=[n||o],m=g.call(e,"type")?e.type:e,v=g.call(e,"namespace")?e.namespace.split("."):[];if(d=p=l=n=n||o,3!==n.nodeType&&8!==n.nodeType&&!bt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),h=m.indexOf(":")<0&&"on"+m,(e=e[w.expando]?e:new w.Event(m,"object"===(void 0===e?"undefined":s(e))&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:w.makeArray(t,[e]),f=w.event.special[m]||{},r||!f.trigger||!1!==f.trigger.apply(n,t))){if(!r&&!f.noBubble&&!b(n)){for(c=f.delegateType||m,bt.test(c+m)||(d=d.parentNode);d;d=d.parentNode)_.push(d),l=d;l===(n.ownerDocument||o)&&_.push(l.defaultView||l.parentWindow||i)}for(a=0;(d=_[a++])&&!e.isPropagationStopped();)p=d,e.type=a>1?c:f.bindType||m,(u=(Z.get(d,"events")||{})[e.type]&&Z.get(d,"handle"))&&u.apply(d,t),(u=h&&d[h])&&u.apply&&G(d)&&(e.result=u.apply(d,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(_.pop(),t)||!G(n)||h&&y(n[m])&&!b(n)&&((l=n[h])&&(n[h]=null),w.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,xt),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,xt),w.event.triggered=void 0,l&&(n[h]=l)),e.result}},simulate:function(e,t,n){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),v.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Z.access(i,t);r||i.addEventListener(e,n,!0),Z.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Z.access(i,t)-1;r?Z.access(i,t,r):(i.removeEventListener(e,n,!0),Z.remove(i,t))}}});var jt=i.location,kt=Date.now(),wt=/\?/;w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var Ct=/\[\]$/,Tt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,i){var r;if(Array.isArray(t))w.each(t,function(t,r){n||Ct.test(e)?i(e,r):Et(e+"["+("object"===(void 0===r?"undefined":s(r))&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==k(t))i(e,t);else for(r in t)Et(e+"["+r+"]",t[r],n,i)}w.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){r(this.name,this.value)});else for(n in e)Et(n,e[n],t,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&St.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}});var At=/%20/g,Ot=/#.*$/,Lt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,qt=/^\/\//,Mt={},Ht={},Ft="*/".concat("*"),It=o.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(I)||[];if(y(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Rt(e,t,n,i){var r={},s=e===Ht;function a(o){var d;return r[o]=!0,w.each(e[o]||[],function(e,o){var l=o(t,n,i);return"string"!=typeof l||s||r[l]?s?!(d=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),d}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Wt(e,t){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&w.extend(!0,e,i),e}It.href=jt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,w.ajaxSettings),t):Wt(w.ajaxSettings,e)},ajaxPrefilter:$t(Mt),ajaxTransport:$t(Ht),ajax:function(e,t){"object"===(void 0===e?"undefined":s(e))&&(t=e,e=void 0),t=t||{};var n,r,a,d,l,c,h,u,f,p,g=w.ajaxSetup({},t),_=g.context||g,m=g.context&&(_.nodeType||_.jquery)?w(_):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=g.statusCode||{},x={},j={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(h){if(!d)for(d={};t=Dt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?a:null},setRequestHeader:function(e,t){return null==h&&(e=j[e.toLowerCase()]=j[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==h&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),T(0,t),this}};if(v.promise(C),g.url=((e||g.url||jt.href)+"").replace(qt,jt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(I)||[""],null==g.crossDomain){c=o.createElement("a");try{c.href=g.url,c.href=c.href,g.crossDomain=It.protocol+"//"+It.host!=c.protocol+"//"+c.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=w.param(g.data,g.traditional)),Rt(Mt,g,t,C),h)return C;for(f in(u=w.event&&g.global)&&0==w.active++&&w.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Pt.test(g.type),r=g.url.replace(Ot,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(At,"+")):(p=g.url.slice(r.length),g.data&&(g.processData||"string"==typeof g.data)&&(r+=(wt.test(r)?"&":"?")+g.data,delete g.data),!1===g.cache&&(r=r.replace(Lt,"$1"),p=(wt.test(r)?"&":"?")+"_="+kt+++p),g.url=r+p),g.ifModified&&(w.lastModified[r]&&C.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&C.setRequestHeader("If-None-Match",w.etag[r])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ft+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(f,g.headers[f]);if(g.beforeSend&&(!1===g.beforeSend.call(_,C,g)||h))return C.abort();if(k="abort",y.add(g.complete),C.done(g.success),C.fail(g.error),n=Rt(Ht,g,t,C)){if(C.readyState=1,u&&m.trigger("ajaxSend",[C,g]),h)return C;g.async&&g.timeout>0&&(l=i.setTimeout(function(){C.abort("timeout")},g.timeout));try{h=!1,n.send(x,T)}catch(e){if(h)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,s,o){var d,c,f,p,x,j=t;h||(h=!0,l&&i.clearTimeout(l),n=void 0,a=o||"",C.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(p=function(e,t,n){for(var i,r,s,a,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){d.unshift(r);break}if(d[0]in n)s=d[0];else{for(r in n){if(!d[0]||e.converters[r+" "+d[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==d[0]&&d.unshift(s),n[s]}(g,C,s)),p=function(e,t,n,i){var r,s,a,o,d,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!d&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=s,s=c.shift())if("*"===s)s=d;else if("*"!==d&&d!==s){if(!(a=l[d+" "+s]||l["* "+s]))for(r in l)if((o=r.split(" "))[1]===s&&(a=l[d+" "+o[0]]||l["* "+o[0]])){!0===a?a=l[r]:!0!==l[r]&&(s=o[0],c.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+d+" to "+s}}}return{state:"success",data:t}}(g,p,C,d),d?(g.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(w.etag[r]=x)),204===e||"HEAD"===g.type?j="nocontent":304===e?j="notmodified":(j=p.state,c=p.data,d=!(f=p.error))):(f=j,!e&&j||(j="error",e<0&&(e=0))),C.status=e,C.statusText=(t||j)+"",d?v.resolveWith(_,[c,j,C]):v.rejectWith(_,[C,j,f]),C.statusCode(b),b=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[C,g,d?c:f]),y.fireWith(_,[C,j]),u&&(m.trigger("ajaxComplete",[C,g]),--w.active||w.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:r,data:n,success:i},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},zt=w.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,w.ajaxTransport(function(e){var t,n;if(v.cors||zt&&!e.crossDomain)return{send:function(r,s){var a,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)o[a]=e.xhrFields[a];for(a in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(Bt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ut,Kt=[],Xt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||w.expando+"_"+kt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,n){var r,s,a,o=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Xt,"$1"+r):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||w.error(r+" was not called"),a[0]},e.dataTypes[0]="json",s=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===s?w(i).removeProp(r):i[r]=s,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),a&&y(s)&&s(a[0]),a=s=void 0}),"script"}),v.createHTMLDocument=((Ut=o.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,t.head.appendChild(i)):t=o),s=!n&&[],(r=L.exec(e))?[t.createElement(r[1])]:(r=je([e],t,s),s&&s.length&&w(s).remove(),w.merge([],r.childNodes)));var i,r,s},w.fn.load=function(e,t,n){var i,r,a,o=this,d=e.indexOf(" ");return d>-1&&(i=_t(e.slice(d)),e=e.slice(0,d)),y(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":s(t))&&(r="POST"),o.length>0&&w.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var i,r,s,a,o,d,l=w.css(e,"position"),c=w(e),h={};"static"===l&&(e.style.position="relative"),o=c.offset(),s=w.css(e,"top"),d=w.css(e,"left"),("absolute"===l||"fixed"===l)&&(s+d).indexOf("auto")>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(d)||0),y(t)&&(t=t.call(e,n,w.extend({},o))),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):c.css(h)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),r.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-w.css(i,"marginTop",!0),left:t.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ke})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(i){return K(this,function(e,i,r){var s;if(b(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):e[i]=r},e,i,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=Ue(v.pixelPosition,function(e,n){if(n)return n=ze(e,t),Re.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){w.fn[i]=function(r,s){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===s?"margin":"border");return K(this,function(t,n,r){var s;return b(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?w.css(t,n,o):w.style(t,n,r,o)},t,a?r:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||w.guid++,r},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=O,w.isFunction=y,w.isWindow=b,w.camelCase=V,w.type=k,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return w}.apply(t,[]))||(e.exports=n);var Yt=i.jQuery,Jt=i.$;return w.noConflict=function(e){return i.$===w&&(i.$=Jt),e&&i.jQuery===w&&(i.jQuery=Yt),w},r||(i.jQuery=i.$=w),w},"object"===s(e)&&"object"===s(e.exports)?e.exports=i.document?r(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(i)}).call(this,n(5)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NgUiTooltipInit=t.NgUiTreeInit=t.NgUiTabsInit=t.NgUiBtnInit=t.NgUiInit=void 0;var i=l(n(2)),r=l(n(3)),s=l(n(4)),a=l(n(7)),o=l(n(8)),d=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=document.getElementsByClassName(e||"ng-ui-btn");[].forEach.call(t,function(e){return new i.default(e)})}function h(e){var t=document.getElementsByClassName(e||"ng-ui-tabs");[].forEach.call(t,function(e){return new r.default(e)})}function u(e,t){var n=document.getElementsByClassName(e||"ng-ui-tree-wrapper");[].forEach.call(n,function(e){return new s.default(e,t)})}function f(e){var t=document.getElementsByClassName(e||"ng-ui-tt");[].forEach.call(t,function(e){return new o.default(e)})}t.NgUiInit=function(){var e,t,n;c(),h(),u(),f(),(0,d.default)(),n=document.getElementsByClassName(e||"ng-ui-sidebar-resizable"),[].forEach.call(n,function(e){return new a.default(e,t||{connectWith:".ng-ui-logo"})})},t.NgUiBtnInit=c,t.NgUiTabsInit=h,t.NgUiTreeInit=u,t.NgUiTooltipInit=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.init()}return i(e,[{key:"init",value:function(){this.el.dataset.nguibtn||(this.setupEvents(),this.el.dataset.nguibtn=!0)}},{key:"setupEvents",value:function(){var e=this;this.el.addEventListener("click",function(e){e.currentTarget.attributes.disabled&&e.preventDefault()}),this.el.addEventListener("mousedown",function(t){e.removeEffect(),e.addEffect(t)})}},{key:"addEffect",value:function(e){var t=document.createElement("span");t.classList.add("ng-ui-btn-effect"),this.el.appendChild(t),this.calcPos(e,t),t.addEventListener("animationend",this.removeEffect.bind(this))}},{key:"removeEffect",value:function(){this.el.querySelector(".ng-ui-btn-effect")&&this.el.removeChild(this.el.querySelector(".ng-ui-btn-effect"))}},{key:"calcPos",value:function(e,t){var n=this.el.offsetWidth,i=e.pageX-this.el.offsetLeft,r=i<=n/2?2.4*(n-i):2.4*i,s={left:i+"px",top:e.pageY-this.el.offsetTop+"px",width:r+"px",height:r+"px"};Object.assign(t.style,s)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.controls=this.el.querySelectorAll(".ng-ui-tab-control"),this.init()}return i(e,[{key:"init",value:function(){this.el.dataset.nguitabs||(this.el.dataset.nguitabs=!0,this.setupEvents(),this.initialSelect())}},{key:"initialSelect",value:function(){var e=this.controls[0];localStorage.tagsTabActive&&this.controls.forEach(function(t){t.hash===localStorage.tagsTabActive&&(e=t)}),this.showTab(e)}},{key:"setupEvents",value:function(){var e=this;this.controls.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var n=t.currentTarget;localStorage.tagsTabActive=n.hash,e.toggleActive(n)})})}},{key:"toggleActive",value:function(e){this.deactivateTab(),this.showTab(e)}},{key:"deactivateTab",value:function(){var e=this.el.querySelector("[data-tab].active");this.controls.forEach(function(e){e.parentNode.classList.contains("active")&&e.parentNode.classList.remove("active")}),e&&e.classList.remove("active")}},{key:"showTab",value:function(e){e&&e.parentNode.classList.add("active");var t=this.el.querySelector('[data-tab="'+e.hash+'"]');t&&t.classList.add("active")}}]),e}();t.default=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),a=(i=s)&&i.__esModule?i:{default:i};n(6);var o=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.dataset.nguitree||(this.settings=Object.assign({},{modal:!1,treeClassName:"ng-ui-tree",modalClassName:"ng-modal"},n),this.el=e,this.tree=this.el.querySelector("."+this.settings.treeClassName),this.$tree=(0,a.default)(this.tree),this.disableSubtree=this.tree.dataset.disablesubtree,this.settings.modal&&(this.modal=this.el.querySelector("."+this.settings.modalClassName),this.modalInit()),this.treeInit())}return r(t,[{key:"treeInit",value:function(){var n=this;e.$=e.jQuery=a.default,this.el.dataset.nguitree=!0,this.$tree.jstree({plugins:["sort","contextmenu","ui"],contextmenu:{select_node:!1,items:this.settings.modal?"":t.treeContextMenu},core:{worker:!1,data:{url:function(e){var t=n.tree.dataset.path,i=n.tree.dataset.rootitemid;return t.replace("_itemId_",e.id).replace("#",i+"/true")}},themes:{name:"ng-ui"}}}).on("ready.jstree",function(e,t){var i=n.tree.dataset.selecteditempath||"/0/";i=i.replace(/^\//,"").replace(/\/$/,"").split("/"),n.$tree.jstree(!0).load_node(i,function(){var e=i[i.length-1];t.instance.select_node(e),n.settings.modal||n.$tree.find("a#"+e+"_anchor").addClass("selected")}),""!==n.disableSubtree&&n.disableSubtree.toString().split(",").forEach(function(e){n.disableNode(e)})}).on("load_node.jstree",function(e,t){""!==n.disableSubtree&&-1!==n.disableSubtree.toString().split(",").indexOf(t.node.id)&&n.disableNode(t.node.id)}).on("open_node.jstree",function(){""!==n.disableSubtree&&n.disableNode(n.disableSubtree)}).on("click",".jstree-anchor",function(e){var t=(0,a.default)(e.currentTarget).jstree(!0).get_node((0,a.default)(e.currentTarget));if(""!==n.disableSubtree){if(n.disableSubtree=n.disableSubtree.toString().split(","),-1!==n.disableSubtree.indexOf(t.id))return;if(n.disableSubtree.filter(function(e){return-1!==t.parents.indexOf(e)}).length>0)return}n.settings.modal?(n.el.querySelector("input.item-id").value=t.id,void 0===t.text||"0"===t.id?n.el.querySelector("span.ng-ui-keyword").innerHTML=n.el.dataset.novaluetext:n.el.querySelector("span.ng-ui-keyword").innerHTML=t.text,n.closeModal()):document.location.href=t.a_attr.href})}},{key:"disableNode",value:function(e){this.$tree.find("li#"+e).addClass("disabled")}},{key:"modalInit",value:function(){var e=this;(0,a.default)(this.el).on("click",".modal-tree-button",this.openModal.bind(this)),(0,a.default)(this.modal).on("click",".close",this.closeModal.bind(this)),(0,a.default)(window).on("click",function(t){t.target.className===e.settings.modalClassName&&e.closeModal()})}},{key:"openModal",value:function(){this.settings.modal&&(0,a.default)(this.modal).show()}},{key:"closeModal",value:function(){this.settings.modal&&(0,a.default)(this.modal).hide()}}],[{key:"treeContextMenu",value:function(e){var t={};return e.data.context_menu.forEach(function(e){t[e.name]={label:e.text,action:function(){window.location.href=e.url}}}),t}}]),t}();t.default=o}).call(this,n(10))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var i,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(0)],void 0===(s="function"==typeof(i=function(e,t){
/*!
  * jsTree 3.3.7
  * http://jstree.com/
  *
  * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
  *
  * Licensed same as jquery - under the terms of the MIT License
  *   http://www.opensource.org/licenses/mit-license.php
  */
/*!
  * if using jslint please allow for the jQuery global and use following options:
  * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
  */
if(!e.jstree){var n=0,i=!1,r=!1,s=!1,o=[],d=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.7",defaults:{plugins:[]},plugins:{},path:d&&-1!==d.indexOf("/")?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,i){var r=new e.jstree.core(++n),s=i;return i=e.extend(!0,{},e.jstree.defaults,i),s&&s.plugins&&(i.plugins=s.plugins),e.each(i.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,i[t]))}),e(t).data("jstree",r),r.init(t,i),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=e(t)}catch(e){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?n=i:e(".jstree").each(function(){var i=e(this).data("jstree");if(i&&i._model.data[t])return n=i,!1}),n},e.fn.jstree=function(n){var i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),s=null;return!(!0===n&&!this.length)&&(this.each(function(){var a=e.jstree.reference(this),o=i&&a?a[n]:null;if(s=i&&o?o.apply(a,r):null,a||i||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!i||!0===n)&&(s=a||!1),null!==s&&s!==t)return!1}),null!==s&&s!==t?s:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=l.createElement("LI");return n.setAttribute("role","treeitem"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,i,r=this.settings.core.keyboard;for(n in r)if(r.hasOwnProperty(n)&&("-"!==(i=n)&&"+"!==i&&(i=(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),i===t))return r[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,i=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),i=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,i=[];for(t=0,n=this._data.core.selected.length;t<n;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(i=e.vakata.array_unique(i),t=0,n=i.length;t<n;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var r=String.fromCharCode(i.which).toLowerCase(),s=this.element.find(".jstree-anchor").filter(":visible"),a=s.index(l.activeElement)||0,o=!1;if((t+=r).length>1){if(s.slice(a).each(e.proxy(function(n,i){if(0===e(i).text().toLowerCase().indexOf(t))return e(i).focus(),o=!0,!1},this)),o)return;if(s.slice(0,a).each(e.proxy(function(n,i){if(0===e(i).text().toLowerCase().indexOf(t))return e(i).focus(),o=!0,!1},this)),o)return}if(new RegExp("^"+r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(s.slice(a+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===r)return e(n).focus(),o=!0,!1},this)),o)return;if(s.slice(0,a+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===r)return e(n).focus(),o=!0,!1},this)),o)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-i>500&&!this._data.core.focused&&this.settings.core.restore_focus){i=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var i;t&&t.id&&(t=t.id),t instanceof jQuery&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=this.element.find(t)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=this.element.find(t)).length||!i.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,i){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var r,s,a=[];for(a.push(i?t.id:t.text),r=0,s=t.parents.length;r<s;r++)a.push(i?t.parents[r]:this.get_text(t.parents[r]));return a=a.reverse().slice(1),n?a.join(n):a},get_next_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do{i=this._nextSibling(i)}while(i&&0===i.offsetHeight);return!!i&&e(i)}if(t.hasClass("jstree-open")){for(i=this._firstChild(t.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return e(i)}i=t[0];do{i=this._nextSibling(i)}while(i&&0===i.offsetHeight);return null!==i?e(i):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do{i=this._previousSibling(i)}while(i&&0===i.offsetHeight);return!!i&&e(i)}i=t[0];do{i=this._previousSibling(i)}while(i&&0===i.offsetHeight);if(null!==i){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(i=t[0].parentNode.parentNode)||!i.className||-1===i.className.indexOf("jstree-node"))&&e(i)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var i,r,s,a,o;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,s=0,a=t.parents.length;s<a;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(i=0,r=t.children_d.length;i<r;i++)this._model.data[t.children_d[i]].state.selected&&(o=!0),delete this._model.data[t.children_d[i]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var i=this.get_node(t,!0),r=0,s=0,a=this._model.data,o=!1;for(r=0,s=t.children.length;r<s;r++)if(a[t.children[r]]&&!a[t.children[r]].state.hidden){o=!0;break}t.state.loaded&&i&&i.length&&(i.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&i.addClass(t.state.opened?"jstree-open":"jstree-closed"):i.addClass("jstree-leaf")),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,i){var r,s,a=!0,o=function(){this._load_nodes(e,t,!0)},d=this._model.data,l=[];for(r=0,s=e.length;r<s;r++)d[e[r]]&&(!d[e[r]].state.loaded&&!d[e[r]].state.failed||!n&&i)&&(this.is_loading(e[r])||this.load_node(e[r],o),a=!1);if(a){for(r=0,s=e.length;r<s;r++)d[e[r]]&&d[e[r]].state.loaded&&l.push(e[r]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,r,s=[],a=this._model.data,o=a[t.id].children_d;for(t.state&&!t.state.loaded&&s.push(t.id),i=0,r=o.length;i<r;i++)a[o[i]]&&a[o[i]].state&&!a[o[i]].state.loaded&&s.push(o[i]);s.length?this._load_nodes(s,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var i,r=this.settings.core.data,s=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?e.isFunction(r)?r.call(this,t,e.proxy(function(i){!1===i?n.call(this,!1):this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(s):i,function(e){n.call(this,e)})},this)):"object"===(void 0===r?"undefined":a(r))?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(i,r,o){var d=o.getResponseHeader("Content-Type");return d&&-1!==d.indexOf("json")||"object"===(void 0===i?"undefined":a(i))?this._append_json_data(t,i,function(e){n.call(this,e)}):d&&-1!==d.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(e.parseHTML(i)).filter(s),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(i=e.isArray(r)?e.extend(!0,[],r):e.isPlainObject(r)?e.extend(!0,{},r):r,t.id===e.jstree.root?this._append_json_data(t,i,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof r?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(r)).filter(s),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,i){(t=this.get_node(t)).children=[],t.children_d=[];var r,s,a,o=n.is("ul")?n.children():n,d=t.id,l=[],c=[],h=this._model.data,u=h[d],f=this._data.core.selected.length;for(o.each(e.proxy(function(t,n){(r=this._parse_model_from_html(e(n),d,u.parents.concat()))&&(l.push(r),c.push(r),h[r].children_d.length&&(c=c.concat(h[r].children_d)))},this)),u.children=l,u.children_d=c,s=0,a=u.parents.length;s<a;s++)h[u.parents[s]].children_d=h[u.parents[s]].children_d.concat(c);this.trigger("model",{nodes:c,parent:d}),d!==e.jstree.root?(this._node_changed(d),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,n,i,r){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var s=null,o={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},d=function(e,t){e.data&&(e=e.data);var n,i,r,s,o=e.dat,d=e.par,l=[],c=[],h=[],u=e.df,f=e.t_id,p=e.t_cnt,g=e.m,_=g[d],m=e.sel,v=function e(n,i,r){r=r?r.concat():[],i&&r.unshift(i);var s,o,d,l,c=n.id.toString(),f={id:c,text:n.text||"",icon:n.icon===t||n.icon,parent:i,parents:r,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in u)u.hasOwnProperty(s)&&(f.state[s]=u[s]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(s in n.data.jstree)n.data.jstree.hasOwnProperty(s)&&(f.state[s]=n.data.jstree[s]);if(n&&"object"===a(n.state))for(s in n.state)n.state.hasOwnProperty(s)&&(f.state[s]=n.state[s]);if(n&&"object"===a(n.li_attr))for(s in n.li_attr)n.li_attr.hasOwnProperty(s)&&(f.li_attr[s]=n.li_attr[s]);if(f.li_attr.id||(f.li_attr.id=c),n&&"object"===a(n.a_attr))for(s in n.a_attr)n.a_attr.hasOwnProperty(s)&&(f.a_attr[s]=n.a_attr[s]);for(n&&n.children&&!0===n.children&&(f.state.loaded=!1,f.children=[],f.children_d=[]),g[f.id]=f,s=0,o=f.children.length;s<o;s++)d=e(g[f.children[s]],f.id,r),l=g[d],f.children_d.push(d),l.children_d.length&&(f.children_d=f.children_d.concat(l.children_d));return delete n.data,delete n.children,g[f.id].original=n,f.state.selected&&h.push(f.id),f.id},y=function e(n,i,r){r=r?r.concat():[],i&&r.unshift(i);var s,o,d,l,c,_=!1;do{_="j"+f+"_"+ ++p}while(g[_]);for(s in c={id:!1,text:"string"==typeof n?n:"",icon:"object"!==(void 0===n?"undefined":a(n))||n.icon===t||n.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(s)&&(c.state[s]=u[s]);if(n&&n.id&&(c.id=n.id.toString()),n&&n.text&&(c.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(c.icon=n.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),n&&n.data&&(c.data=n.data,n.data.jstree))for(s in n.data.jstree)n.data.jstree.hasOwnProperty(s)&&(c.state[s]=n.data.jstree[s]);if(n&&"object"===a(n.state))for(s in n.state)n.state.hasOwnProperty(s)&&(c.state[s]=n.state[s]);if(n&&"object"===a(n.li_attr))for(s in n.li_attr)n.li_attr.hasOwnProperty(s)&&(c.li_attr[s]=n.li_attr[s]);if(c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString()),c.id||(c.id=_),c.li_attr.id||(c.li_attr.id=c.id),n&&"object"===a(n.a_attr))for(s in n.a_attr)n.a_attr.hasOwnProperty(s)&&(c.a_attr[s]=n.a_attr[s]);if(n&&n.children&&n.children.length){for(s=0,o=n.children.length;s<o;s++)d=e(n.children[s],c.id,r),l=g[d],c.children.push(d),l.children_d.length&&(c.children_d=c.children_d.concat(l.children_d));c.children_d=c.children_d.concat(c.children)}return n&&n.children&&!0===n.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),delete n.data,delete n.children,c.original=n,g[c.id]=c,c.state.selected&&h.push(c.id),c.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(i=0,r=o.length;i<r;i++)o[i].children||(o[i].children=[]),o[i].state||(o[i].state={}),g[o[i].id.toString()]=o[i];for(i=0,r=o.length;i<r;i++)g[o[i].parent.toString()]?(g[o[i].parent.toString()].children.push(o[i].id.toString()),_.children_d.push(o[i].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:o[i].id.toString(),parent:o[i].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(i=0,r=_.children.length;i<r;i++)n=v(g[_.children[i]],d,_.parents.concat()),c.push(n),g[n].children_d.length&&(c=c.concat(g[n].children_d));for(i=0,r=_.parents.length;i<r;i++)g[_.parents[i]].children_d=g[_.parents[i]].children_d.concat(c);s={cnt:p,mod:g,sel:m,par:d,dpc:c,add:h}}else{for(i=0,r=o.length;i<r;i++)(n=y(o[i],d,_.parents.concat()))&&(l.push(n),c.push(n),g[n].children_d.length&&(c=c.concat(g[n].children_d)));for(_.children=l,_.children_d=c,i=0,r=_.parents.length;i<r;i++)g[_.parents[i]].children_d=g[_.parents[i]].children_d.concat(c);s={cnt:p,mod:g,sel:m,par:d,dpc:c,add:h}}if("undefined"!=typeof window&&void 0!==window.document)return s;postMessage(s)},l=function(t,n){if(null!==this.element){this._cnt=t.cnt;var r,s=this._model.data;for(r in s)s.hasOwnProperty(r)&&s[r].state&&s[r].state.loading&&t.mod[r]&&(t.mod[r].state.loading=!0);if(this._model.data=t.mod,n){var a,o=t.add,d=t.sel,l=this._data.core.selected.slice();if(s=this._model.data,d.length!==l.length||e.vakata.array_unique(d.concat(l)).length!==d.length){for(r=0,a=d.length;r<a;r++)-1===e.inArray(d[r],o)&&-1===e.inArray(d[r],l)&&(s[d[r]].state.selected=!1);for(r=0,a=l.length;r<a;r++)-1===e.inArray(l[r],d)&&(s[l[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+d.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,(s=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{s.terminate(),s=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),o.par?s.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,i,!0])}catch(e){l.call(this,d(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,d(o),!1)}},_parse_model_from_html:function(n,i,r){r=r?[].concat(r):[],i&&r.unshift(i);var s,a,o,d,l,c=this._model.data,h={id:!1,text:!1,icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(d=e.vakata.attributes(n,!0),e.each(d,function(t,n){if(!(n=e.trim(n)).length)return!0;h.li_attr[t]=n,"id"===t&&(h.id=n.toString())}),(d=n.children("a").first()).length&&(d=e.vakata.attributes(d,!0),e.each(d,function(t,n){(n=e.trim(n)).length&&(h.a_attr[t]=n)})),(d=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),d=d.html(),d=e("<div />").html(d),h.text=this.settings.core.force_text?d.text():d.html(),d=n.data(),h.data=d?e.extend(!0,{},d):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);(d=n.children("a").children(".jstree-themeicon")).length&&(h.icon=!d.hasClass("jstree-themeicon-hidden")&&d.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),d=n.children("ul").children("li");do{l="j"+this._id+"_"+ ++this._cnt}while(c[l]);return h.id=h.li_attr.id?h.li_attr.id.toString():l,d.length?(d.each(e.proxy(function(t,n){s=this._parse_model_from_html(e(n),h.id,r),a=this._model.data[s],h.children.push(s),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d))},this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),c[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,s,o,d,l=e.id.toString(),c=this._model.data,h=this._model.default_state,u={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in h)h.hasOwnProperty(r)&&(u.state[r]=h[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(u.icon=e.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),e&&e.data&&(u.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(u.state[r]=e.data.jstree[r]);if(e&&"object"===a(e.state))for(r in e.state)e.state.hasOwnProperty(r)&&(u.state[r]=e.state[r]);if(e&&"object"===a(e.li_attr))for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(u.li_attr[r]=e.li_attr[r]);if(u.li_attr.id||(u.li_attr.id=l),e&&"object"===a(e.a_attr))for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(u.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),c[u.id]=u,r=0,s=u.children.length;r<s;r++)o=this._parse_model_from_flat_json(c[u.children[r]],u.id,i),d=c[o],u.children_d.push(o),d.children_d.length&&(u.children_d=u.children_d.concat(d.children_d));return delete e.data,delete e.children,c[u.id].original=e,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,s,o,d,l,c=!1,h=this._model.data,u=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(h[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!==(void 0===e?"undefined":a(e))||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(r)&&(l.state[r]=u[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"===a(e.state))for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"===a(e.li_attr))for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"===a(e.a_attr))for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,s=e.children.length;r<s;r++)o=this._parse_model_from_json(e.children[r],l.id,i),d=h[o],l.children.push(o),d.children_d.length&&(l.children_d=l.children_d.concat(d.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,h[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,i,r=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),s=l.createElement("UL"),a=this._data.core.focused;for(n=0,i=r.length;n<i;n++)(t=this.redraw_node(r[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&s.appendChild(t);this._model.force_full_redraw&&(s.className=this.get_container_ul()[0].className,s.setAttribute("role","group"),this.element.empty().append(s)),null!==a&&this.settings.core.restore_focus&&((t=this.get_node(a,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:r})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),i=!1,r=!1,s=!1,a=l;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((s=a.createElement("UL")).setAttribute("role","group"),s.className="jstree-children",i=0,r=n.children.length;i<r;i++)s.appendChild(this.redraw_node(n.children[i],!0,!0));t.appendChild(s)}},redraw_node:function(t,n,i,r){var s=this.get_node(t),a=!1,o=!1,d=!1,c=!1,h=!1,u=!1,f="",p=l,g=this._model.data,_=!1,m=null,v=0,y=0,b=!1,x=!1;if(!s)return!1;if(s.id===e.jstree.root)return this.redraw(!0);if(n=n||0===s.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(s.id[0])?"\\3"+s.id[0]+" "+s.id.substr(1).replace(e.jstree.idregex,"\\$&"):s.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(s.id))t=e(t),i||((a=t.parent().parent()[0])===this.element[0]&&(a=null),o=t.index()),n||!s.children.length||t.children(".jstree-children").length||(n=!0),n||(d=t.children(".jstree-children")[0]),_=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(n=!0,!i){if(!(null===(a=s.parent!==e.jstree.root?e("#"+s.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||a&&g[s.parent].state.opened))return!1;o=e.inArray(s.id,null===a?g[e.jstree.root].children:g[s.parent].children)}for(c in t=this._data.core.node.cloneNode(!0),f="jstree-node ",s.li_attr)if(s.li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"!==c?t.setAttribute(c,s.li_attr[c]):f+=s.li_attr[c]}for(s.a_attr.id||(s.a_attr.id=s.id+"_anchor"),t.setAttribute("aria-selected",!!s.state.selected),t.setAttribute("aria-level",s.parents.length),t.setAttribute("aria-labelledby",s.a_attr.id),s.state.disabled&&t.setAttribute("aria-disabled",!0),c=0,h=s.children.length;c<h;c++)if(!g[s.children[c]].state.hidden){b=!0;break}if(null!==s.parent&&g[s.parent]&&!s.state.hidden&&(c=e.inArray(s.id,g[s.parent].children),x=s.id,-1!==c))for(c++,h=g[s.parent].children.length;c<h&&(g[g[s.parent].children[c]].state.hidden||(x=g[s.parent].children[c]),x===s.id);c++);for(h in s.state.hidden&&(f+=" jstree-hidden"),s.state.loading&&(f+=" jstree-loading"),s.state.loaded&&!b?f+=" jstree-leaf":(f+=s.state.opened&&s.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",s.state.opened&&s.state.loaded)),x===s.id&&(f+=" jstree-last"),t.id=s.id,t.className=f,f=(s.state.selected?" jstree-clicked":"")+(s.state.disabled?" jstree-disabled":""),s.a_attr)if(s.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===s.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,s.a_attr[h]):f+=" "+s.a_attr[h]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(s.icon&&!0!==s.icon||!1===s.icon)&&(!1===s.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===s.icon.indexOf("/")&&-1===s.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+s.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+s.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(s.text)):t.childNodes[1].innerHTML+=s.text,n&&s.children.length&&(s.state.opened||r)&&s.state.loaded){for((u=p.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",c=0,h=s.children.length;c<h;c++)u.appendChild(this.redraw_node(s.children[c],n,!0));t.appendChild(u)}if(d&&t.appendChild(d),!i){for(a||(a=this.element[0]),c=0,h=a.childNodes.length;c<h;c++)if(a.childNodes[c]&&a.childNodes[c].className&&-1!==a.childNodes[c].className.indexOf("jstree-children")){m=a.childNodes[c];break}m||((m=p.createElement("UL")).setAttribute("role","group"),m.className="jstree-children",a.appendChild(m)),o<(a=m).childNodes.length?a.insertBefore(t,a.childNodes[o]):a.appendChild(t),_&&(v=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=y)}return s.state.opened&&!s.state.loaded&&(s.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(s.id,!1,0)},this),0)),t},open_node:function(n,i,r){var s,a,o,d;if(e.isArray(n)){for(n=n.slice(),s=0,a=n.length;s<a;s++)this.open_node(n[s],i,r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(r=r===t?this.settings.core.animation:r,this.is_closed(n)?this.is_loaded(n)?(o=this.get_node(n,!0),d=this,o.length&&(r&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(n),r?(this.trigger("before_open",{node:n}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",d.element&&d.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,i&&i.call(this,n,!0),o.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),r&&o.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,i,r)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,i,r):!!i&&i.call(this,e,!1)}):(i&&i.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,i,r=t.parents;for(n=0,i=r.length;n<i;n+=1)n!==e.jstree.root&&this.open_node(r[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,i){var r,s,a,o;if(e.isArray(n)){for(n=n.slice(),r=0,s=n.length;r<s;r++)this.close_node(n[r],i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&!this.is_closed(n)&&(i=i===t?this.settings.core.animation:i,a=this,o=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(o.length?i?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,function(){this.style.display="",o.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:n})}):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n})))},toggle_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,s,a,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(r=0,s=t.children_d.length;r<s;r++)this.is_closed(this._model.data[t.children_d[r]])&&(this._model.data[t.children_d[r]].state.opened=!0);return this.trigger("open_all",{node:t})}i=i||o,a=this,(o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed")).each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,i)},n||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,r,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(s.length&&(s=this.is_open(t)?s.find(".jstree-open").addBack():s.find(".jstree-open"),e(s.get().reverse()).each(function(){a.close_node(this,n||0)})),i=0,r=t.children_d.length;i<r;i++)this._model.data[t.children_d[i]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.hide_node(t[i],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.show_node(t[i],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,i=this._model.data,r=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&!i[n].state.hidden&&(i[n].state.hidden=!0,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(t){var n,i=this._model.data,r=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&i[n].state.hidden&&(i[n].state.hidden=!1,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"===(void 0===n?"undefined":a(n))||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var i,r,s=this.get_node(e).id,o=this._data.core.last_clicked.id,d=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(i=0,r=d.length;i<r;i+=1)d[i]===s&&(l=!l),d[i]===o&&(l=!l),this.is_disabled(d[i])||!l&&d[i]!==s&&d[i]!==o?this.deselect_node(d[i],!0,n):this.is_hidden(d[i])||this.select_node(d[i],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,i,r){var s,a,o;if(e.isArray(t)){for(t=t.slice(),a=0,o=t.length;a<o;a++)this.select_node(t[a],n,i,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(s=this._open_to(t)),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))},deselect_node:function(t,n,i){var r,s,a;if(e.isArray(t)){for(t=t.slice(),r=0,s=t.length;r<s;r++)this.deselect_node(t[r],n,i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i}))},select_all:function(t){var n,i,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,i=this._data.core.selected.length;n<i;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,i,r,s,a=this.get_selected(!0),o={};for(n=0,i=a.length;n<i;n++)o[a[n].id]=a[n];for(n=0,i=a.length;n<i;n++)for(r=0,s=a[n].children_d.length;r<s;r++)o[a[n].children_d[r]]&&delete o[a[n].children_d[r]];for(n in a=[],o)o.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,i,r=this.get_selected(!0),s=[];for(n=0,i=r.length;n<i;n++)r[n].children.length||s.push(r[n].id);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},
/*!
     'themes' : {
     	'name' : this.get_theme(),
     	'icons' : this._data.core.themes.icons,
     	'dots' : this._data.core.themes.dots
     },
     */
selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,i){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var r,s;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,function(e){delete n.core.loaded,this.set_state(n,i)}):(delete n.core.loaded,this.set_state(n,i)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,i)}):(delete n.core.open,this.set_state(n,i)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,i),!1;if(n.core.selected)return r=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,function(e,t){r.select_node(t,!1,!0)})),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,i),!1;for(s in n)n.hasOwnProperty(s)&&"core"!==s&&-1===e.inArray(s,this.settings.plugins)&&delete n[s];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,i),!1}return!e.isEmptyObject(n)||(n=null,i&&i.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var i=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],i=[],r=this._data.core.selected.concat([]);i.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id),n.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,r,s=this._model.data,a=t.id;for(n=n.toString(),s[t.parent].children[e.inArray(t.id,s[t.parent].children)]=n,i=0,r=t.parents.length;i<r;i++)s[t.parents[i]].children_d[e.inArray(t.id,s[t.parents[i]].children_d)]=n;for(i=0,r=t.children.length;i<r;i++)s[t.children[i]].parent=n;for(i=0,r=t.children_d.length;i<r;i++)s[t.children_d[i]].parents[e.inArray(t.id,s[t.children_d[i]].parents)]=n;return-1!==(i=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[i]=n),(i=this.get_node(t.id,!0))&&(i.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete s[t.id],t.id=n,t.li_attr.id=n,s[n]=t,this.trigger("set_id",{node:t,new:t.id,old:a}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.set_text(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),0))},get_json:function(t,n,i){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!i&&(i=[]);var r,s,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],n&&n.no_state)delete a.state;else for(r in t.state)t.state.hasOwnProperty(r)&&(a.state[r]=t.state[r]);if(n&&n.no_li_attr&&delete a.li_attr,n&&n.no_a_attr&&delete a.a_attr,n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&i.push(a),!n||!n.no_children)for(r=0,s=t.children.length;r<s;r++)n&&n.flat?this.get_json(t.children[r],n,i):a.children.push(this.get_json(t.children[r],n));return n&&n.flat?i:t.id===e.jstree.root?a.children:a},create_node:function(n,i,r,s,a){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,i,r,s,!0)});var o,d,l,c;switch(i||(i={text:this.get_string("New node")}),(i="string"==typeof i?{text:i}:e.extend(!0,{},i)).text===t&&(i.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":o=this.get_node(n.parent),r=e.inArray(n.id,o.children),n=o;break;case"after":o=this.get_node(n.parent),r=e.inArray(n.id,o.children)+1,n=o;break;case"inside":case"first":r=0;break;case"last":r=n.children.length;break;default:r||(r=0)}if(r>n.children.length&&(r=n.children.length),i.id||(i.id=!0),!this.check("create_node",i,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===i.id&&delete i.id,!(i=this._parse_model_from_json(i,n.id,n.parents.concat())))return!1;for(o=this.get_node(i),(d=[]).push(i),d=d.concat(o.children_d),this.trigger("model",{nodes:d,parent:n.id}),n.children_d=n.children_d.concat(d),l=0,c=n.parents.length;l<c;l++)this._model.data[n.parents[l]].children_d=this._model.data[n.parents[l]].children_d.concat(d);for(i=o,o=[],l=0,c=n.children.length;l<c;l++)o[l>=r?l+1:l]=n.children[l];return o[r]=i.id,n.children=o,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(i),parent:n.id,position:r}),s&&s.call(this,this.get_node(i)),i.id},rename_node:function(t,n){var i,r,s;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.rename_node(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(s=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:s}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(t){var n,i,r,s,a,o,d,l,c,h,u,f;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(r=this.get_node(t.parent),s=e.inArray(t.id,r.children),h=!1,!this.check("delete_node",t,r,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==s&&(r.children=e.vakata.array_remove(r.children,s)),(a=t.children_d.concat([])).push(t.id),o=0,d=t.parents.length;o<d;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(t){return-1===e.inArray(t,a)});for(l=0,c=a.length;l<c;l++)if(this._model.data[a[l]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:r.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),l=0,c=a.length;l<c;l++)delete this._model.data[a[l]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,r.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(r,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(r,!0),!0},check:function(t,n,i,r,s){n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i);var a=t.match(/^move_node|copy_node|create_node$/i)?i:n,o=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||s&&s.is_multi||n.id!==i.id&&("move_node"!==t||e.inArray(n.id,i.children)!==r)&&-1===e.inArray(i.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(!1===a.functions[t]||!0===a.functions[t])?(!1===a.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a.functions[t]):!(!1===o||e.isFunction(o)&&!1===o.call(this,t,n,i,r,s)||o&&!1===o[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,i,r,s,a,o,d){var l,c,h,u,f,p,g,_,m,v,y,b,x,j;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.move_node(n,i,r,s,!0,!1,d)});if(e.isArray(n)){if(1!==n.length){for(l=0,c=n.length;l<c;l++)(m=this.move_node(n[l],i,r,s,a,!1,d))&&(i=m,r="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),f=r.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,p=d||(this._model.data[n.id]?this:e.jstree.reference(n.id)),g=!p||!p._id||this._id!==p._id,u=p&&p._id&&h&&p._model.data[h]&&p._model.data[h].children?e.inArray(n.id,p._model.data[h].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return!!(m=this.copy_node(n,i,r,s,a,!1,d))&&(p&&p.delete_node(n),m);switch(i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,f.children);break;case"after":r=e.inArray(i.id,f.children)+1;break;case"inside":case"first":r=0;break;case"last":r=f.children.length;break;default:r||(r=0)}if(r>f.children.length&&(r=f.children.length),!this.check("move_node",n,f,r,{core:!0,origin:d,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(_=f.children.concat(),-1!==(m=e.inArray(n.id,_))&&(_=e.vakata.array_remove(_,m),r>m&&r--),m=[],v=0,y=_.length;v<y;v++)m[v>=r?v+1:v]=_[v];m[r]=n.id,f.children=m,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for((m=n.children_d.concat()).push(n.id),v=0,y=n.parents.length;v<y;v++){for(_=[],j=p._model.data[n.parents[v]].children_d,b=0,x=j.length;b<x;b++)-1===e.inArray(j[b],m)&&_.push(j[b]);p._model.data[n.parents[v]].children_d=_}for(p._model.data[h].children=e.vakata.array_remove_item(p._model.data[h].children,n.id),v=0,y=f.parents.length;v<y;v++)this._model.data[f.parents[v]].children_d=this._model.data[f.parents[v]].children_d.concat(m);for(_=[],v=0,y=f.children.length;v<y;v++)_[v>=r?v+1:v]=f.children[v];for(_[r]=n.id,f.children=_,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,(m=f.parents.concat()).unshift(f.id),j=n.parents.length,n.parents=m,m=m.concat(),v=0,y=n.children_d.length;v<y;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*j),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,m);h!==e.jstree.root&&f.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(f.id)),o||this.redraw()}return s&&s.call(this,n,f,r),this.trigger("move_node",{node:n,parent:f.id,position:r,old_parent:h,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,i,r,s,a,o,d){var l,c,h,u,f,p,g,_,m,v;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.copy_node(n,i,r,s,!0,!1,d)});if(e.isArray(n)){if(1!==n.length){for(l=0,c=n.length;l<c;l++)(u=this.copy_node(n[l],i,r,s,a,!0,d))&&(i=u,r="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(_=(n.parent||e.jstree.root).toString(),m=r.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,!(v=d||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!v._id||(this._id,v._id),v&&v._id&&(n=v._model.data[n.id]),i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,m.children);break;case"after":r=e.inArray(i.id,m.children)+1;break;case"inside":case"first":r=0;break;case"last":r=m.children.length;break;default:r||(r=0)}if(r>m.children.length&&(r=m.children.length),!this.check("copy_node",n,m,r,{core:!0,origin:d,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,m.id,m.parents.concat())))return!1;for(u=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:m.id}),f=0,p=m.parents.length;f<p;f++)this._model.data[m.parents[f]].children_d=this._model.data[m.parents[f]].children_d.concat(h);for(h=[],f=0,p=m.children.length;f<p;f++)h[f>=r?f+1:f]=m.children[f];return h[r]=u.id,m.children=h,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),o||this.redraw(m.id===e.jstree.root),s&&s.call(this,u,m,r),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:r,old_parent:_,old_position:v&&v._id&&_&&v._model.data[_]&&v._model.data[_].children?e.inArray(n.id,v._model.data[_].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,o,d=[];for(a=0,o=t.length;a<o;a++)(n=this.get_node(t[a]))&&n.id&&n.id!==e.jstree.root&&d.push(n);if(!d.length)return!1;i=d,s=this,r="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,o,d=[];for(a=0,o=t.length;a<o;a++)(n=this.get_node(t[a]))&&n.id&&n.id!==e.jstree.root&&d.push(n);if(!d.length)return!1;i=d,s=this,r="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:r,node:i,inst:s}},can_paste:function(){return!1!==r&&!1!==i},paste:function(e,t){if(!((e=this.get_node(e))&&r&&r.match(/^(copy_node|move_node)$/)&&i))return!1;this[r](i,e,t,!1,!1,!1,s)&&this.trigger("paste",{parent:e.id,node:i,mode:r}),i=!1,r=!1,s=!1},clear_buffer:function(){i=!1,r=!1,s=!1,this.trigger("clear_buffer")},edit:function(t,n,i){var r,s,a,o,d,c,h,u,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,r=this._data.core.rtl,s=this.element.width(),this._data.core.focused=f.id,a=t.children(".jstree-anchor").focus(),o=e("<span>"),
/*!
   oi = obj.children("i:visible"),
   ai = a.children("i:visible"),
   w1 = oi.width() * oi.length,
   w2 = ai.width() * ai.length,
   */
d=n,c=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),h=e("<input />",{value:d,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var r,s=o.children(".jstree-rename-input"),l=s.val(),u=this.settings.core.force_text;""===l&&(l=d),c.remove(),o.replaceWith(a),o.remove(),d=u?d:e("<div></div>").append(e.parseHTML(d)).html(),t=this.get_node(t),this.set_text(t,d),(r=!!this.rename_node(t,u?e("<div></div>").text(l).text():e("<div></div>").append(e.parseHTML(l)).html()))||this.set_text(t,d),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),i&&i.call(this,f,r,p),h=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=d),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(c.text("pW"+this.value).width(),s))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},o.attr("class",a.attr("class")).append(a.contents().clone()).append(h),a.replaceWith(o),c.css(u),h.css(u).width(Math.min(c.text("pW"+h[0].value).width(),s))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),n=i+"/"+t+"/style.css"}n&&-1===e.inArray(n,o)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),o.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,i){var r,s,a,o;if(e.isArray(n)){for(n=n.slice(),r=0,s=n.length;r<s;r++)this.set_icon(n[r],i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root||(o=n.icon,n.icon=!0===i||null===i||i===t||""===i||i,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===i?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===i||null===i||i===t||""===i?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),!1===o&&this.show_icon(n)):-1===i.indexOf("/")&&-1===i.indexOf(".")?(a.removeClass(o).css("background",""),a.addClass(i+" jstree-themeicon-custom").attr("rel",i),!1===o&&this.show_icon(n)):(a.removeClass(o).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+i+"') center center no-repeat").attr("rel",i),!1===o&&this.show_icon(n)),0))},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var i=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.trim(r.value)&&(n?i[r.name]=r.value:i.push(r.name))}),i},e.vakata.array_unique=function(e){var n,i,r=[],s={};for(n=0,i=e.length;n<i;n++)s[e[n]]===t&&(r.push(e[n]),s[e[n]]=!0);return r},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var i=e.inArray(n,t);return-1!==i?e.vakata.array_remove(t,i):t},e.vakata.array_filter=function(e,t,n,i,r){if(e.filter)return e.filter(t,n);for(r in i=[],e)~~r+""==r+""&&r>=0&&t.call(n,e[r],+r,e)&&i.push(e[r]);return i},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,i){var r,s;if(i||(i={}),"changed"===e.replace(".jstree","")){i.changed={selected:[],deselected:[]};var a={};for(r=0,s=n.length;r<s;r++)a[n[r]]=1;for(r=0,s=i.selected.length;r<s;r++)a[i.selected[r]]?a[i.selected[r]]=2:i.changed.selected.push(i.selected[r]);for(r=0,s=n.length;r<s;r++)1===a[n[r]]&&i.changed.deselected.push(n[r]);n=i.selected.slice()}t.trigger.call(this,e,i)},this.refresh=function(e,i){return n=[],t.refresh.apply(this,arguments)}};var c,h,u=l.createElement("I");u.className="jstree-icon jstree-checkbox",u.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,i,r=this._model.data,s=(r[t.parent],t.nodes);for(n=0,i=s.length;n<i;n++)r[s[n]].state.checked=r[s[n]].state.checked||r[s[n]].original&&r[s[n]].original.state&&r[s[n]].original.state.checked,r[s[n]].state.checked&&this._data.checkbox.selected.push(s[n])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy(function(t,n){var i,r,s,a,o,d,l=this._model.data,c=l[n.parent],h=n.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(c.state[p?"selected":"checked"]){for(r=0,s=h.length;r<s;r++)l[h[r]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h)}else for(r=0,s=h.length;r<s;r++)if(l[h[r]].state[p?"selected":"checked"]){for(a=0,o=l[h[r]].children_d.length;a<o;a++)l[l[h[r]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(l[h[r]].children_d)}if(-1!==f.indexOf("up")){for(r=0,s=c.children_d.length;r<s;r++)l[c.children_d[r]].children.length||u.push(l[c.children_d[r]].parent);for(u=e.vakata.array_unique(u),a=0,o=u.length;a<o;a++)for(c=l[u[a]];c&&c.id!==e.jstree.root;){for(i=0,r=0,s=c.children.length;r<s;r++)i+=l[c.children[r]].state[p?"selected":"checked"];if(i!==s)break;c.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(c.id),(d=this.get_node(c,!0))&&d.length&&d.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var i,r,s,a,o=n.node,d=this._model.data,l=this.get_node(o.parent),c=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},f=this._data[h?"core":"checkbox"].selected;for(i=0,r=f.length;i<r;i++)u[f[i]]=!0;if(-1!==c.indexOf("down")){var p=this._cascade_new_checked_state(o.id,!0),g=o.children_d.concat(o.id);for(i=0,r=g.length;i<r;i++)p.indexOf(g[i])>-1?u[g[i]]=!0:delete u[g[i]]}if(-1!==c.indexOf("up"))for(;l&&l.id!==e.jstree.root;){for(s=0,i=0,r=l.children.length;i<r;i++)s+=d[l.children[i]].state[h?"selected":"checked"];if(s!==r)break;l.state[h?"selected":"checked"]=!0,u[l.id]=!0,(a=this.get_node(l,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}for(i in f=[],u)u.hasOwnProperty(i)&&f.push(i);this._data[h?"core":"checkbox"].selected=f},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var i,r,s,a=this.get_node(e.jstree.root),o=this._model.data;for(i=0,r=a.children_d.length;i<r;i++)(s=o[a.children_d[i]])&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(e,t){var n,i,r,s=t.node,a=(this.get_node(s,!0),this.settings.checkbox.cascade),o=this.settings.checkbox.tie_selection,d=this._data[o?"core":"checkbox"].selected,l=s.children_d.concat(s.id);if(-1!==a.indexOf("down")){var c=this._cascade_new_checked_state(s.id,!1);d=d.filter(function(e){return-1===l.indexOf(e)||c.indexOf(e)>-1})}if(-1!==a.indexOf("up")&&-1===d.indexOf(s.id)){for(n=0,i=s.parents.length;n<i;n++)(r=this._model.data[s.parents[n]]).state[o?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),(r=this.get_node(s.parents[n],!0))&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked");d=d.filter(function(e){return-1===s.parents.indexOf(e)})}this._data[o?"core":"checkbox"].selected=d},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var i,r,s,a,o=this.get_node(n.parent),d=this._model.data,l=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[l?"selected":"checked"];){for(s=0,i=0,r=o.children.length;i<r;i++)s+=d[o.children[i]].state[l?"selected":"checked"];if(!(r>0&&s===r))break;o.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(o.id),(a=this.get_node(o,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var i,r,s,a,o,d=n.is_multi,l=n.old_parent,c=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!d)for(i=this.get_node(l);i&&i.id!==e.jstree.root&&!i.state[u?"selected":"checked"];){for(r=0,s=0,a=i.children.length;s<a;s++)r+=h[i.children[s]].state[u?"selected":"checked"];if(!(a>0&&r===a))break;i.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(i.id),(o=this.get_node(i,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=c;i&&i.id!==e.jstree.root;){for(r=0,s=0,a=i.children.length;s<a;s++)r+=h[i.children[s]].state[u?"selected":"checked"];if(r===a)i.state[u?"selected":"checked"]||(i.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(i.id),(o=this.get_node(i,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!i.state[u?"selected":"checked"])break;i.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,i.id),(o=this.get_node(i,!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var i,r,s,a,o={},d=this._model.data,l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,h=[],u=this,f=[];for(i=0,r=c.length;i<r;i++)if(d[c[i]]&&d[c[i]].parents)for(s=0,a=d[c[i]].parents.length;s<a&&o[d[c[i]].parents[s]]===t;s++)d[c[i]].parents[s]!==e.jstree.root&&(o[d[c[i]].parents[s]]=!0,h.push(d[c[i]].parents[s]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var n,l=u.get_node(this);if(l)if(l.state.loaded){for(i=0,r=l.children_d.length;i<r;i++)if(!(n=d[l.children_d[i]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(o[n.id]===t&&n.id!==e.jstree.root&&(o[n.id]=!0,h.push(n.id)),s=0,a=n.parents.length;s<a;s++)o[n.parents[s]]===t&&n.parents[s]!==e.jstree.root&&(o[n.parents[s]]=!0,h.push(n.parents[s]))}else if(l.original&&l.original.state&&l.original.state.undetermined&&!0===l.original.state.undetermined)for(o[l.id]===t&&l.id!==e.jstree.root&&(o[l.id]=!0,h.push(l.id)),s=0,a=l.parents.length;s<a;s++)o[l.parents[s]]===t&&l.parents[s]!==e.jstree.root&&(o[l.parents[s]]=!0,h.push(l.parents[s]))}),i=0,r=h.length;i<r;i++)d[h[i]].state[l?"selected":"checked"]||f.push(n?d[h[i]]:h[i]);return f},this._undetermined=function(){if(null!==this.element){var e,t,n,i=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=i.length;e<t;e++)(n=this.get_node(i[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,r,s){if(t=i.redraw_node.apply(this,arguments)){var a,o,d=null,l=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(d.className+=" jstree-checked"),l=u.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(l.className+=" jstree-checkbox-disabled"),d.insertBefore(l,d.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,i,r=this.settings.checkbox.cascade,s=this.settings.checkbox.tie_selection,a=this._data[s?"core":"checkbox"].selected,o=this._model.data;if(!t||!0===t.state[s?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,i=t.children_d.length;n<i;n++)if(-1!==e.inArray(t.children_d[n],a)||!o[t.children_d[n]].state.loaded&&o[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?i.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,i,r,s=this.settings.checkbox.tie_selection,a=this._model.data[e],o=[],d=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)r=this.get_checked_descendants(e),a.state[s?"selected":"checked"]&&r.push(a.id),o=o.concat(r);else{if(a.children)for(n=0,i=a.children.length;n<i;n++){var l=a.children[n];r=this._cascade_new_checked_state(l,t),o=o.concat(r),r.indexOf(l)>-1&&d.push(l)}var c=this.get_node(a,!0),h=d.length>0&&d.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=h),h?(a.state[s?"selected":"checked"]=!1,c.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked")):t&&d.length===a.children.length?(a.state[s?"selected":"checked"]=t,o.push(a.id),c.attr("aria-selected",!0).children(".jstree-anchor").addClass(s?"jstree-clicked":"jstree-checked")):(a.state[s?"selected":"checked"]=!1,c.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked"))}return o},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection,i=t._model.data[e];return i.children_d.filter(function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var i,r,s;if(e.isArray(t)){for(t=t.slice(),r=0,s=t.length;r<s;r++)this.check_node(t[r],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var i,r,s;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.uncheck_node(t[i],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),s.length&&s.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,i,r,s,a=this.get_checked(!0),o={};for(n=0,i=a.length;n<i;n++)o[a[n].id]=a[n];for(n=0,i=a.length;n<i;n++)for(r=0,s=a[n].children_d.length;r<s;r++)o[a[n].children_d[r]]&&delete o[a[n].children_d[r]];for(n in a=[],o)o.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,i,r=this.get_checked(!0),s=[];for(n=0,i=r.length;n<i;n++)r[n].children.length||s.push(r[n].id);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},this.load_node=function(t,n){var r,s,a;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(a=this.get_node(t))&&a.state.loaded)for(r=0,s=a.children_d.length;r<s;r++)this._model.data[a.children_d[r]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,a.children_d[r]));return i.load_node.apply(this,arguments)},this.get_state=function(){var e=i.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var r=i.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var s=this;e.each(t.checkbox,function(e,t){s.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),i.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.create_node(i,{},"last",function(e){try{n.edit(e)}catch(t){setTimeout(function(){n.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",
/*!
     "shortcut"			: 113,
     "shortcut_label"	: 'F2',
     "icon"				: "glyphicon glyphicon-leaf",
     */
action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.delete_node(n.get_selected()):n.delete_node(i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.cut(n.get_top_selected()):n.cut(i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.copy(n.get_top_selected()):n.copy(i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(n,i){this.bind=function(){i.bind.call(this);var t,n,r=0,s=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||s)&&(r=+new Date+1e4),s&&clearTimeout(s),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(t=i.originalEvent.changedTouches[0].clientX,n=i.originalEvent.changedTouches[0].clientY,s=setTimeout(function(){e(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(i){s&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(Math.abs(t-i.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-i.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(s),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){s&&clearTimeout(s)}),
/*!
   if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
   	var el = null, tm = null;
   	this.element
   		.on("touchstart", ".jstree-anchor", function (e) {
   			el = e.currentTarget;
   			tm = +new Date();
   			$(document).one("touchend", function (e) {
   				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
   				e.currentTarget = e.target;
   				tm = ((+(new Date())) - tm);
   				if(e.target === el && tm > 600 && tm < 1000) {
   					e.preventDefault();
   					$(el).trigger('contextmenu', e);
   				}
   				el = null;
   				tm = null;
   			});
   		});
   }
   */
e(l).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(n,i,r,s){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var a=this.settings.contextmenu,o=this.get_node(n,!0),d=o.children(".jstree-anchor"),l=!1,c=!1;(a.show_at_node||i===t||r===t)&&(l=d.offset(),i=l.left,r=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,s),c=a.items,e.isFunction(c)&&(c=c.call(this,n,e.proxy(function(e){this._show_contextmenu(n,i,r,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(n,i,r,c)},this._show_contextmenu=function(t,n,i,r){var s=this.get_node(t,!0),a=s.children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,n){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(i),a.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:i},r),this.trigger("show_contextmenu",{node:t,x:n,y:i})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,i){if(!t)return!1;i||(n.html="",n.items=[]);var r,s="",a=!1;return i&&(s+="<ul>"),e.each(t,function(t,i){if(!i)return!0;n.items.push(i),!a&&i.separator_before&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,s+="<li class='"+(i._class||"")+(!0===i._disabled||e.isFunction(i._disabled)&&i._disabled({item:i,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",s+="<a href='#' rel='"+(n.items.length-1)+"' "+(i.title?"title='"+i.title+"'":"")+">",e.vakata.context.settings.icons&&(s+="<i ",i.icon&&(-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?s+=" style='background:url(\""+i.icon+"\") center center no-repeat' ":s+=" class='"+i.icon+"' "),s+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),s+=(e.isFunction(i.label)?i.label({item:t,reference:n.reference,element:n.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(r=e.vakata.context._parse(i.submenu,!0))&&(s+=r),s+="</li>",i.separator_after&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)}),s=s.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(s+="</ul>"),i||(n.html=s,e.vakata.context._trigger("parse")),s.length>10&&s},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var i=n.children("ul"),r=n.offset().left,s=r+n.outerWidth(),a=n.offset().top,o=i.width(),d=i.height(),l=e(window).width()+e(window).scrollLeft(),c=e(window).height()+e(window).scrollTop();t?n[s-(o+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[s+o>l&&r>l-s?"addClass":"removeClass"]("vakata-context-right"),a+d+10>c&&i.css("bottom","-1px"),n.hasClass("vakata-context-right")?r<o&&i.css("margin-right",r-o):l-s<o&&i.css("margin-left",l-s-o),i.show()}},show:function(i,r,s){var a,o,d,c,h,u,f,p;switch(n.element&&n.element.length&&n.element.width(""),!0){case!r&&!i:return!1;case!!r&&!!i:n.reference=i,n.position_x=r.x,n.position_y=r.y;break;case!r&&!!i:n.reference=i,a=i.offset(),n.position_x=a.left+i.outerHeight(),n.position_y=a.top;break;case!!r&&!i:n.position_x=r.x,n.position_y=r.y}i&&!s&&e(i).data("vakata_contextmenu")&&(s=e(i).data("vakata_contextmenu")),e.vakata.context._parse(s)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(l.body),o=n.element,d=n.position_x,c=n.position_y,h=o.width(),u=o.height(),f=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&(d-=o.outerWidth()-e(i).outerWidth())<e(window).scrollLeft()+20&&(d=e(window).scrollLeft()+20),d+h+20>f&&(d=f-(h+20)),c+u+20>p&&(c=p-(u+20)),n.element.css({left:d,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e(l.body).css("direction");var i=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,i){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),i=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(r=e.vakata.html.escape(r)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_top_selected(!0):[n],t))){if(c={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:i>1?this.get_top_selected():[n.id]},h=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,c,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:h,data:c})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:h,data:c}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:h,data:c}),!1},this))},this.redraw_node=function(e,t,i,r){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var s,a,o=null;for(s=0,a=e.childNodes.length;s<a;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){o=e.childNodes[s];break}o&&o.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,i=!1,r=!1,s=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",function(t){h&&e.vakata.dnd._trigger("move",t,{helper:e(),element:h,data:c})}).on("drop.vakata.jstree",function(t){h&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:h,data:c}),h=null,c=null)}).on("dnd_start.vakata.jstree",function(e,t){n=!1,r=!1,t&&t.data&&t.data.jstree&&a.appendTo(l.body)}).on("dnd_move.vakata.jstree",function(o,d){var l=d.event.target!==r.target;if(s&&(d.event&&"dragover"===d.event.type&&!l||clearTimeout(s)),d&&d.data&&d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){r=d.event;var c,h,u,f,p,g,_,m,v,y,b,x,j,k,w,C,T=e.jstree.reference(d.event.target),N=!1,S=!1,E=!1;if(T&&T._data&&T._data.dnd)if(a.attr("class","jstree-"+T.get_theme()+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")),w=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+T.get_theme()+" jstree-"+T.get_theme()+"-"+T.get_theme_variant()+" "+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[w?"show":"hide"](),d.event.target!==T.element[0]&&d.event.target!==T.get_container_ul()[0]||0!==T.get_container_ul().children().length){if((N=T.settings.dnd.large_drop_target?e(d.event.target).closest(".jstree-node").children(".jstree-anchor"):e(d.event.target).closest(".jstree-anchor"))&&N.length&&N.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(S=N.offset(),E=(d.event.pageY!==t?d.event.pageY:d.event.originalEvent.pageY)-S.top,u=N.outerHeight(),g=E<u/3?["b","i","a"]:E>u-u/3?["a","i","b"]:E>u/2?["i","a","b"]:["i","b","a"],e.each(g,function(t,r){switch(r){case"b":c=S.left-6,h=S.top,f=T.get_parent(N),p=N.parent().index();break;case"i":j=T.settings.dnd.inside_pos,k=T.get_node(N.parent()),c=S.left-2,h=S.top+u/2+1,f=k.id,p="first"===j?0:"last"===j?k.children.length:Math.min(j,k.children.length);break;case"a":c=S.left-6,h=S.top+u,f=T.get_parent(N),p=N.parent().index()+1}for(_=!0,m=0,v=d.data.nodes.length;m<v;m++)if(y=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===y&&"a"===r&&d.data.origin&&d.data.origin===T&&f===T.get_parent(d.data.nodes[m])&&(x=T.get_node(f),b>e.inArray(d.data.nodes[m],x.children)&&(b-=1)),!(_=_&&(T&&T.settings&&T.settings.dnd&&!1===T.settings.dnd.check_while_dragging||T.check(y,d.data.origin&&d.data.origin!==T?d.data.origin.get_node(d.data.nodes[m]):d.data.nodes[m],f,b,{dnd:!0,ref:T.get_node(N.parent()),pos:r,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==T,is_foreign:!d.data.origin})))){T&&T.last_error&&(i=T.last_error());break}var o,E;if("i"===r&&N.parent().is(".jstree-closed")&&T.settings.dnd.open_timeout&&(d.event&&"dragover"===d.event.type&&!l||(s&&clearTimeout(s),s=setTimeout((o=T,E=N,function(){o.open_node(E)}),T.settings.dnd.open_timeout))),_)return(C=T.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),C.addClass("jstree-dnd-parent")),n={ins:T,par:f,pos:"i"!==r||"last"!==j||0!==p||T.is_loaded(k)?p:"last"},a.css({left:c+"px",top:h+"px"}).show(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"),i={},g=!0,!1}),!0===g))return}else{for(_=!0,m=0,v=d.data.nodes.length;m<v&&(_=_&&T.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==T?d.data.origin.get_node(d.data.nodes[m]):d.data.nodes[m],e.jstree.root,"last",{dnd:!0,ref:T.get_node(e.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==T,is_foreign:!d.data.origin}));m++);if(_)return n={ins:T,par:e.jstree.root,pos:"last"},a.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),d.event.originalEvent&&d.event.originalEvent.dataTransfer,a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),n=!1,r=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,o){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),s&&clearTimeout(s),o&&o.data&&o.data.jstree){a.hide().detach();var d,l,c=[];if(n){for(d=0,l=o.data.nodes.length;d<l;d++)c[d]=o.data.origin?o.data.origin.get_node(o.data.nodes[d]):o.data.nodes[d];n.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](c,n.par,n.pos,!1,!1,!1,o.data.origin)}else(d=e(o.event.target).closest(".jstree")).length&&i&&i.error&&"check"===i.error&&(d=d.jstree(!0))&&d.settings.core.error.call(this,i);r=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,o){(o=e.vakata.dnd._get())&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(s&&clearTimeout(s),n=!1,i=!1,r=!1,s=!1,a.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,i,r){r===t&&(r=e.vakata.dnd._get()),r.event=i,e(l).triggerHandler("dnd_"+n+".vakata",r)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var i=n.scroll_e.scrollTop(),r=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(i+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(r+n.scroll_l*e.vakata.dnd.settings.scroll_speed),i===n.scroll_e.scrollTop()&&r===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,i,r){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=i,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==r&&(n.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(l.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var i=!1,r=!1,s=!1,a=!1,o=!1,d=!1,c=!1,h=!1,u=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var i=e(this),r=i.offset();if(this.scrollHeight>this.offsetHeight&&(r.top+i.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+i.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1}),n.scroll_e||(i=e(l),r=e(window),s=i.height(),a=r.height(),o=i.width(),d=r.width(),c=i.scrollTop(),h=i.scrollLeft(),s>a&&t.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),s>a&&a-(t.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),o>d&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),o>d&&d-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=i)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),s&&u+25>s&&(u=s-50),o&&f+n.helper_w>o&&(f=o-(n.helper_w+2)),n.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var i=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){i&&clearTimeout(i)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,i,r,s){var o,d,l,c=this.settings.massload,h=(JSON.stringify(t),[]),u=this._model.data;if(!r){for(o=0,d=t.length;o<d;o++)u[t[o]]&&(u[t[o]].state.loaded||u[t[o]].state.failed)&&!s||(h.push(t[o]),(l=this.get_node(t[o],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},h.length){if(e.isFunction(c))return c.call(this,h,e.proxy(function(e){var a,o;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,o=t.length;a<o;a++)(l=this.get_node(t[a],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,r,s)},this));if("object"===(void 0===c?"undefined":a(c))&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,h)),e.isFunction(c.data)&&(c.data=c.data.call(this,h)),e.ajax(c).done(e.proxy(function(e,a,o){var d,c;if(e)for(d in e)e.hasOwnProperty(d)&&(this._data.massload[d]=e[d]);for(d=0,c=t.length;d<c;d++)(l=this.get_node(t[d],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,r,s)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,i,r,s)},this))}}return n._load_nodes.call(this,t,i,r,s)},this._load_node=function(t,i){var r,s=this._data.massload[t.id],a=null;return s?(a=this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter(function(){return 3!==this.nodeType}):s,function(e){i.call(this,e)}),(r=this.get_node(t.id,!0))&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):n._load_node.call(this,t,i)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var i,r,s,a,o=this._model.data,d=[];for(i=0,r=n.res.length;i<r;i++)if(o[n.res[i]]&&!o[n.res[i]].state.hidden&&(d.push(n.res[i]),d=d.concat(o[n.res[i]].parents),this._data.search.smc))for(s=0,a=o[n.res[i]].children_d.length;s<a;s++)o[o[n.res[i]].children_d[s]]&&!o[o[n.res[i]].children_d[s]].state.hidden&&d.push(o[n.res[i]].children_d[s]);d=e.vakata.array_remove_item(e.vakata.array_unique(d),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(d,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,i,r,s,a,o){if(!1===n||""===e.trim(n.toString()))return this.clear_search();s=(s=this.get_node(s))&&s.id?s.id:null,n=n.toString();var d,l,c=this.settings.search,h=!!c.ajax&&c.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!a&&this.clear_search(),r===t&&(r=c.show_only_matches),o===t&&(o=c.show_only_matches_children),!i&&!1!==h)return e.isFunction(h)?h.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,s,a,o)})},this),s):((h=e.extend({},h)).data||(h.data={}),h.data.str=n,s&&(h.data.inside=s),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,s,a,o)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=o),f=new e.vakata.search(n,!0,{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),e.each(u[s||e.jstree.root].children_d,function(e,t){var i=u[t];i.text&&!i.state.hidden&&(!c.search_leaves_only||i.state.loaded&&0===i.children.length)&&(c.search_callback&&c.search_callback.call(this,n,i)||!c.search_callback&&f.search(i.text).isMatch)&&(p.push(t),g=g.concat(i.parents))}),p.length){for(g=e.vakata.array_unique(g),d=0,l=g.length;d<l;d++)g[d]!==e.jstree.root&&u[g[d]]&&!0===this.open_node(g[d],null,0)&&this._data.search.opn.push(g[d]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,r,s){if((t=i.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var a,o,d=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(d.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,i){i=i||{},!1!==(i=e.extend({},e.vakata.search.defaults,i)).fuzzy&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var r,s,a,o,d=i.location,l=i.distance,c=i.threshold,h=t.length;return h>32&&(i.fuzzy=!1),i.fuzzy&&(r=1<<h-1,s=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),a=function(e,t){var n=e/h,i=Math.abs(d-t);return l?n+i/l:i?1:n}),o=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,o,l,u,f,p,g,_,m,v=e.length,y=c,b=e.indexOf(t,d),x=h+v,j=1,k=[];for(-1!==b&&(y=Math.min(a(0,b),y),-1!==(b=e.lastIndexOf(t,d+h))&&(y=Math.min(a(0,b),y))),b=-1,n=0;n<h;n++){for(l=0,u=x;l<u;)a(n,d+u)<=y?l=u:x=u,u=Math.floor((x-l)/2+l);for(x=u,p=Math.max(1,d-u+1),g=Math.min(d+u,v)+h,(_=new Array(g+2))[g+1]=(1<<n)-1,o=g;o>=p;o--)if(m=s[e.charAt(o-1)],_[o]=0===n?(_[o+1]<<1|1)&m:(_[o+1]<<1|1)&m|(f[o+1]|f[o])<<1|1|f[o+1],_[o]&r&&(j=a(n,o-1))<=y){if(y=j,b=o-1,k.push(b),!(b>d))break;p=Math.max(1,2*d-b)}if(a(n+1,d)>y)break;f=_}return{isMatch:b>=0,score:j}},!0===n?{search:o}:o(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var i,r;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,r=t.children_d.length;i<r;i++)this.sort(t.children_d[i],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){f&&clearTimeout(f),f=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl||(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!t||(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(n,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),0)))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,i){this.init=function(n,r){var s,a;if(r&&r.types&&r.types.default)for(s in r.types)if("default"!==s&&s!==e.jstree.root&&r.types.hasOwnProperty(s))for(a in r.types.default)r.types.default.hasOwnProperty(a)&&r.types[s][a]===t&&(r.types[s][a]=r.types.default[a]);i.init.call(this,n,r),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){i.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,i){var r,s,o,d=this._model.data,l=i.nodes,c=this.settings.types,h="default";for(r=0,s=l.length;r<s;r++){if(h="default",d[l[r]].original&&d[l[r]].original.type&&c[d[l[r]].original.type]&&(h=d[l[r]].original.type),d[l[r]].data&&d[l[r]].data.jstree&&d[l[r]].data.jstree.type&&c[d[l[r]].data.jstree.type]&&(h=d[l[r]].data.jstree.type),d[l[r]].type=h,!0===d[l[r]].icon&&c[h].icon!==t&&(d[l[r]].icon=c[h].icon),c[h].li_attr!==t&&"object"===a(c[h].li_attr))for(o in c[h].li_attr)if(c[h].li_attr.hasOwnProperty(o)){if("id"===o)continue;d[l[r]].li_attr[o]===t?d[l[r]].li_attr[o]=c[h].li_attr[o]:"class"===o&&(d[l[r]].li_attr.class=c[h].li_attr.class+" "+d[l[r]].li_attr.class)}if(c[h].a_attr!==t&&"object"===a(c[h].a_attr))for(o in c[h].a_attr)if(c[h].a_attr.hasOwnProperty(o)){if("id"===o)continue;d[l[r]].a_attr[o]===t?d[l[r]].a_attr[o]=c[h].a_attr[o]:"href"===o&&"#"===d[l[r]].a_attr[o]?d[l[r]].a_attr.href=c[h].a_attr.href:"class"===o&&(d[l[r]].a_attr.class=c[h].a_attr.class+" "+d[l[r]].a_attr.class)}}d[e.jstree.root].type=e.jstree.root},this)),i.bind.call(this)},this.get_json=function(t,n,r){var s,a,o=this._model.data,d=n?e.extend(!0,{},n,{no_id:!1}):{},l=i.get_json.call(this,t,d,r);if(!1===l)return!1;if(e.isArray(l))for(s=0,a=l.length;s<a;s++)l[s].type=l[s].id&&o[l[s].id]&&o[l[s].id].type?o[l[s].id].type:"default",n&&n.no_id&&(delete l[s].id,l[s].li_attr&&l[s].li_attr.id&&delete l[s].li_attr.id,l[s].a_attr&&l[s].a_attr.id&&delete l[s].a_attr.id);else l.type=l.id&&o[l.id]&&o[l.id].type?o[l.id].type:"default",n&&n.no_id&&(l=this._delete_ids(l));return l},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,i=t.length;n<i;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,r,s,a,o){if(!1===i.check.call(this,n,r,s,a,o))return!1;r=r&&r.id?r:this.get_node(r),s=s&&s.id?s:this.get_node(s);var d,l,c,h,u=r&&r.id?o&&o.origin?o.origin:e.jstree.reference(r.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(r.id,s.children)){if((d=this.get_rules(s)).max_children!==t&&-1!==d.max_children&&d.max_children===s.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})},!1;if(d.valid_children!==t&&-1!==d.valid_children&&-1===e.inArray(r.type||"default",d.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})},!1;if(u&&r.children_d&&r.parents){for(l=0,c=0,h=r.children_d.length;c<h;c++)l=Math.max(l,u[r.children_d[c]].parents.length);l=l-r.parents.length+1}(l<=0||l===t)&&(l=1);do{if(d.max_depth!==t&&-1!==d.max_depth&&d.max_depth<l)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})},!1;s=this.get_node(s.parent),d=this.get_rules(s),l++}while(s)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,i){var r,s,o,d,l,c,h,u,f=this._model.data;if(e.isArray(n)){for(n=n.slice(),s=0,o=n.length;s<o;s++)this.set_type(n[s],i);return!0}if(r=this.settings.types,n=this.get_node(n),!r[i]||!n)return!1;if((h=this.get_node(n,!0))&&h.length&&(u=h.children(".jstree-anchor")),d=n.type,l=this.get_icon(n),n.type=i,(!0===l||!r[d]||r[d].icon!==t&&l===r[d].icon)&&this.set_icon(n,r[i].icon===t||r[i].icon),r[d]&&r[d].li_attr!==t&&"object"===a(r[d].li_attr))for(c in r[d].li_attr)if(r[d].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(f[n.id].li_attr.class=(f[n.id].li_attr.class||"").replace(r[d].li_attr[c],""),h&&h.removeClass(r[d].li_attr[c])):f[n.id].li_attr[c]===r[d].li_attr[c]&&(f[n.id].li_attr[c]=null,h&&h.removeAttr(c))}if(r[d]&&r[d].a_attr!==t&&"object"===a(r[d].a_attr))for(c in r[d].a_attr)if(r[d].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(f[n.id].a_attr.class=(f[n.id].a_attr.class||"").replace(r[d].a_attr[c],""),u&&u.removeClass(r[d].a_attr[c])):f[n.id].a_attr[c]===r[d].a_attr[c]&&("href"===c?(f[n.id].a_attr[c]="#",u&&u.attr("href","#")):(delete f[n.id].a_attr[c],u&&u.removeAttr(c)))}if(r[i].li_attr!==t&&"object"===a(r[i].li_attr))for(c in r[i].li_attr)if(r[i].li_attr.hasOwnProperty(c)){if("id"===c)continue;f[n.id].li_attr[c]===t?(f[n.id].li_attr[c]=r[i].li_attr[c],h&&("class"===c?h.addClass(r[i].li_attr[c]):h.attr(c,r[i].li_attr[c]))):"class"===c&&(f[n.id].li_attr.class=r[i].li_attr[c]+" "+f[n.id].li_attr.class,h&&h.addClass(r[i].li_attr[c]))}if(r[i].a_attr!==t&&"object"===a(r[i].a_attr))for(c in r[i].a_attr)if(r[i].a_attr.hasOwnProperty(c)){if("id"===c)continue;f[n.id].a_attr[c]===t?(f[n.id].a_attr[c]=r[i].a_attr[c],u&&("class"===c?u.addClass(r[i].a_attr[c]):u.attr(c,r[i].a_attr[c]))):"href"===c&&"#"===f[n.id].a_attr[c]?(f[n.id].a_attr.href=r[i].a_attr.href,u&&u.attr("href",r[i].a_attr.href)):"class"===c&&(f[n.id].a_attr.class=r[i].a_attr.class+" "+f[n.id].a_attr.class,u&&u.addClass(r[i].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,i){this.check=function(t,n,r,s,a){if(!1===i.check.call(this,t,n,r,s,a))return!1;if(n=n&&n.id?n:this.get_node(n),!(r=r&&r.id?r:this.get_node(r))||!r.children)return!0;var o,d,l,c="rename_node"===t?s:n.text,h=[],u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(o=0,d=r.children.length;o<d;o++)l=p[r.children[o]].text,u||(l=l.toLowerCase()),f&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(l);switch(u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return l=n.text||"",u||(l=l.toLowerCase()),f&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(o=-1===e.inArray(c,h)||n.text&&l===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o;case"create_node":return(o=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o;case"copy_node":return(o=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o;case"move_node":return(o=n.parent===r.id&&(!a||!a.is_multi)||-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o}return!0},this.create_node=function(n,r,s,a,o){if(!r||r.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return i.create_node.call(this,n,r,s,a,o);if(!(s=s===t?"last":s).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return i.create_node.call(this,n,r,s,a,o);r||(r={});var d,l,c,h,u,f,p=this._model.data,g=this.settings.unique.case_sensitive,_=this.settings.unique.trim_whitespace,m=this.settings.unique.duplicate;for(l=d=this.get_string("New node"),c=[],h=0,u=n.children.length;h<u;h++)f=p[n.children[h]].text,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(f);for(h=1,f=l,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,c);)l=m.call(this,d,++h).toString(),f=l,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));r.text=l}return i.create_node.call(this,n,r,s,a,o)}};var p=l.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,r=!1;for(n=0,i=t.selected.length;n<i;n++)(r=this.get_node(t.selected[n],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this))
/*!
   .on("mousedown.jstree touchstart.jstree", ".jstree-wholerow", function (e) {
   		if(e.target === e.currentTarget) {
   			var a = $(e.currentTarget).closest(".jstree-node").children(".jstree-anchor");
   			e.target = a[0];
   			a.trigger(e);
   		}
   	})
   */.on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,i,r,s){if(t=n.redraw_node.apply(this,arguments)){var a=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var g=Object.create(HTMLElement.prototype);g.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",function(){},{prototype:g})}catch(e){}}}})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.dataset.nguiresize||(this.el=t,this.settings=Object.assign({},{connectWith:!1,minWidth:140},n),this.handle=document.createElement("div"),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.init())}return i(e,[{key:"init",value:function(){this.el.dataset.nguiresize=!0,this.settings.connectWith&&(this.connected=document.querySelector(this.settings.connectWith)),this.initialResize(),this.el.classList.add("ng-ui-resizable"),this.handle.classList.add("ng-ui-resizable-handle"),this.el.appendChild(this.handle),this.setupEvents()}},{key:"setupEvents",value:function(){var e=this;this.handle.addEventListener("mousedown",function(t){t.preventDefault(),document.getElementsByTagName("body")[0].classList.add("ng-ui-resizing"),window.addEventListener("mousemove",e.onMouseMove,!1),window.addEventListener("mouseup",e.onMouseUp,!1)})}},{key:"onMouseUp",value:function(){window.removeEventListener("mousemove",this.onMouseMove,!1),window.removeEventListener("mouseup",this.onMouseUp,!1);var e=document.getElementsByTagName("body")[0];e.classList.contains("ng-ui-resizing")&&(e.classList.remove("ng-ui-resizing"),window.sessionStorage.ngUiResize=this.el.offsetWidth)}},{key:"onMouseMove",value:function(e){this.resizeEl(e.pageX-this.el.offsetLeft)}},{key:"initialResize",value:function(){(window.sessionStorage.ngUiResize||this.el.offsetWidth)<this.settings.minWidth?this.resizeEl(this.settings.minWidth):window.sessionStorage.ngUiResize&&this.resizeEl(window.sessionStorage.ngUiResize)}},{key:"resizeEl",value:function(e){e<this.settings.minWidth||(Object.assign(this.el.style,{flex:"0 0 "+e+"px"}),this.settings.connectWith&&this.connected&&(this.connected.style.width=e+"px"))}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.title=t.title,this.visible=!1,this.title.length&&this.init()}return i(e,[{key:"init",value:function(){this.el.removeAttribute("title"),this.tooltip=document.createElement("div"),this.tooltip.className="ng-ui-tt-content",this.tooltip.innerHTML=this.title,this.el.addEventListener("mouseenter",this.onHover.bind(this)),this.el.addEventListener("mouseleave",this.onOut.bind(this)),this.tooltip.addEventListener("mouseenter",this.onHover.bind(this)),this.tooltip.addEventListener("mouseleave",this.onOut.bind(this))}},{key:"onHover",value:function(){clearTimeout(this.timer),this.showTooltip()}},{key:"onOut",value:function(){this.tooltip.classList.add("out"),this.timer=setTimeout(this.hideTooltip.bind(this),200)}},{key:"showTooltip",value:function(){this.tooltip.classList.remove("out"),!this.visible&&this.title.length&&(this.visible=!0,document.getElementsByTagName("body")[0].appendChild(this.tooltip),this.getTooltipPosition())}},{key:"hideTooltip",value:function(){this.visible&&(this.visible=!1,this.tooltip.parentNode.removeChild(this.tooltip))}},{key:"getTooltipPosition",value:function(){var e=this.el.getBoundingClientRect(),t=this.tooltip.getBoundingClientRect();e.left+e.width/2>t.width/2&&window.innerWidth-e.left-e.width/2>t.width/2?(this.x="center",this.tooltip.style.left=e.left+e.width/2-t.width/2+"px"):e.left>t.width?(this.x="left",this.tooltip.style.left=e.left-t.width-10+"px"):(this.x="right",this.tooltip.style.left=e.left+e.width+10+"px"),"center"!==this.x?e.top+e.height/2>t.height/2&&window.innerHeight-e.top-e.height/2>t.height/2?(this.y="center",this.tooltip.style.top=e.top+e.height/2-t.height/2+"px"):e.top>t.height?(this.y="top",this.tooltip.style.top=e.top+e.height-t.height+"px"):(this.y="bottom",this.tooltip.style.top=e.top+"px"):e.top>t.height?(this.y="top",this.tooltip.style.top=e.top-t.height-10+"px"):(this.y="bottom",this.tooltip.style.top=e.top+e.height+10+"px"),this.tooltip.dataset.x=this.x,this.tooltip.dataset.y=this.y}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(){var e=document.querySelectorAll("input[data-enable]");Array.from(e).reduce(function(e,t){var n=t.dataset.enable;return e.includes(n)||e.push(n),e},[]).forEach(function(e){return new r(e)})};var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.inputs=document.querySelectorAll('input[type="checkbox"][data-enable="'+t+'"]'),this.buttons=document.querySelectorAll('[data-enabler="'+t+'"]'),this.init()}return i(e,[{key:"init",value:function(){this.toggleButtons(),this.setupEvents()}},{key:"isChecked",value:function(){return Array.from(this.inputs).some(function(e){return e.checked})}},{key:"toggleButtons",value:function(){var e=!this.isChecked();this.buttons.forEach(function(t){t.disabled=e})}},{key:"setupEvents",value:function(){var e=this;this.inputs.forEach(function(t){return t.addEventListener("change",e.toggleButtons.bind(e))})}}]),e}()},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i}])});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidW5kbGUvUmVzb3VyY2VzL2VzNi9hcHAuanMiLCJub2RlX21vZHVsZXMvQG5ldGdlbi9hZG1pbi11aS9kaXN0L2pzL2J1bmRsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7O0FBRUEsT0FBTyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxZQUFNO0FBQ2xDO0FBQ0gsQ0FGRDs7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IE5nVWlJbml0IH0gZnJvbSAnQG5ldGdlbi9hZG1pbi11aSc7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIE5nVWlJbml0KCk7XG59KTtcbiIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuTmdVaUluaXQ9dCgpOmUuTmdVaUluaXQ9dCgpfSh3aW5kb3csZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHI9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW4uZChpLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz0xKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG4saSxyLHM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07XG4vKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMy4xXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxOC0wMS0yMFQxNzoyNFpcbiAqL1xuaT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAscj1mdW5jdGlvbihpLHIpe3ZhciBhPVtdLG89aS5kb2N1bWVudCxkPU9iamVjdC5nZXRQcm90b3R5cGVPZixsPWEuc2xpY2UsYz1hLmNvbmNhdCxoPWEucHVzaCx1PWEuaW5kZXhPZixmPXt9LHA9Zi50b1N0cmluZyxnPWYuaGFzT3duUHJvcGVydHksXz1nLnRvU3RyaW5nLG09Xy5jYWxsKE9iamVjdCksdj17fSx5PWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJlwibnVtYmVyXCIhPXR5cGVvZiBlLm5vZGVUeXBlfSxiPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlPT09ZS53aW5kb3d9LHg9e3R5cGU6ITAsc3JjOiEwLG5vTW9kdWxlOiEwfTtmdW5jdGlvbiBqKGUsdCxuKXt2YXIgaSxyPSh0PXR8fG8pLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50ZXh0PWUsbilmb3IoaSBpbiB4KW5baV0mJihyW2ldPW5baV0pO3QuaGVhZC5hcHBlbmRDaGlsZChyKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpfWZ1bmN0aW9uIGsoZSl7cmV0dXJuIG51bGw9PWU/ZStcIlwiOlwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnMoZSkpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2ZbcC5jYWxsKGUpXXx8XCJvYmplY3RcIjp2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cyhlKX12YXIgdz1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIG5ldyBlLmZuLmluaXQodCxuKX0sQz0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2c7ZnVuY3Rpb24gVChlKXt2YXIgdD0hIWUmJlwibGVuZ3RoXCJpbiBlJiZlLmxlbmd0aCxuPWsoZSk7cmV0dXJuIXkoZSkmJiFiKGUpJiYoXCJhcnJheVwiPT09bnx8MD09PXR8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKX13LmZuPXcucHJvdG90eXBlPXtqcXVlcnk6XCIzLjMuMVwiLGNvbnN0cnVjdG9yOncsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBsLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9sLmNhbGwodGhpcyk6ZTwwP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PXcubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiB3LmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayh3Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGwuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6aCxzb3J0OmEuc29ydCxzcGxpY2U6YS5zcGxpY2V9LHcuZXh0ZW5kPXcuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscixhLG89YXJndW1lbnRzWzBdfHx7fSxkPTEsbD1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgbyYmKGM9byxvPWFyZ3VtZW50c1tkXXx8e30sZCsrKSxcIm9iamVjdFwiPT09KHZvaWQgMD09PW8/XCJ1bmRlZmluZWRcIjpzKG8pKXx8eShvKXx8KG89e30pLGQ9PT1sJiYobz10aGlzLGQtLSk7ZDxsO2QrKylpZihudWxsIT0oZT1hcmd1bWVudHNbZF0pKWZvcih0IGluIGUpbj1vW3RdLG8hPT0oaT1lW3RdKSYmKGMmJmkmJih3LmlzUGxhaW5PYmplY3QoaSl8fChyPUFycmF5LmlzQXJyYXkoaSkpKT8ocj8ocj0hMSxhPW4mJkFycmF5LmlzQXJyYXkobik/bjpbXSk6YT1uJiZ3LmlzUGxhaW5PYmplY3Qobik/bjp7fSxvW3RdPXcuZXh0ZW5kKGMsYSxpKSk6dm9pZCAwIT09aSYmKG9bdF09aSkpO3JldHVybiBvfSx3LmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhcIjMuMy4xXCIrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4hKCFlfHxcIltvYmplY3QgT2JqZWN0XVwiIT09cC5jYWxsKGUpKSYmKCEodD1kKGUpKXx8XCJmdW5jdGlvblwiPT10eXBlb2Yobj1nLmNhbGwodCxcImNvbnN0cnVjdG9yXCIpJiZ0LmNvbnN0cnVjdG9yKSYmXy5jYWxsKG4pPT09bSl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH0sZ2xvYmFsRXZhbDpmdW5jdGlvbihlKXtqKGUpfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4saT0wO2lmKFQoZSkpZm9yKG49ZS5sZW5ndGg7aTxuJiYhMSE9PXQuY2FsbChlW2ldLGksZVtpXSk7aSsrKTtlbHNlIGZvcihpIGluIGUpaWYoITE9PT10LmNhbGwoZVtpXSxpLGVbaV0pKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6KGUrXCJcIikucmVwbGFjZShDLFwiXCIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKFQoT2JqZWN0KGUpKT93Lm1lcmdlKG4sXCJzdHJpbmdcIj09dHlwZW9mIGU/W2VdOmUpOmguY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTp1LmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgsaT0wLHI9ZS5sZW5ndGg7aTxuO2krKyllW3IrK109dFtpXTtyZXR1cm4gZS5sZW5ndGg9cixlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9W10scj0wLHM9ZS5sZW5ndGgsYT0hbjtyPHM7cisrKSF0KGVbcl0scikhPT1hJiZpLnB1c2goZVtyXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIGkscixzPTAsYT1bXTtpZihUKGUpKWZvcihpPWUubGVuZ3RoO3M8aTtzKyspbnVsbCE9KHI9dChlW3NdLHMsbikpJiZhLnB1c2gocik7ZWxzZSBmb3IocyBpbiBlKW51bGwhPShyPXQoZVtzXSxzLG4pKSYmYS5wdXNoKHIpO3JldHVybiBjLmFwcGx5KFtdLGEpfSxndWlkOjEsc3VwcG9ydDp2fSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYody5mbltTeW1ib2wuaXRlcmF0b3JdPWFbU3ltYm9sLml0ZXJhdG9yXSksdy5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSx0KXtmW1wiW29iamVjdCBcIit0K1wiXVwiXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgTj1cbi8qIVxuICAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuM1xuICAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICAqXG4gICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAgKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gICpcbiAgKiBEYXRlOiAyMDE2LTA4LTA4XG4gICovXG5mdW5jdGlvbihlKXt2YXIgdCxuLGkscixzLGEsbyxkLGwsYyxoLHUsZixwLGcsXyxtLHYseSxiPVwic2l6emxlXCIrMSpuZXcgRGF0ZSx4PWUuZG9jdW1lbnQsaj0wLGs9MCx3PWFlKCksQz1hZSgpLFQ9YWUoKSxOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoaD0hMCksMH0sUz17fS5oYXNPd25Qcm9wZXJ0eSxFPVtdLEE9RS5wb3AsTz1FLnB1c2gsTD1FLnB1c2gsRD1FLnNsaWNlLFA9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxpPWUubGVuZ3RoO248aTtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHE9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLE09XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLEg9XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXDAtXFxcXHhhMF0pK1wiLEY9XCJcXFxcW1wiK00rXCIqKFwiK0grXCIpKD86XCIrTStcIiooWypeJHwhfl0/PSlcIitNK1wiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIrSCtcIikpfClcIitNK1wiKlxcXFxdXCIsST1cIjooXCIrSCtcIikoPzpcXFxcKCgoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXwoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIrRitcIikqKXwuKilcXFxcKXwpXCIsJD1uZXcgUmVnRXhwKE0rXCIrXCIsXCJnXCIpLFI9bmV3IFJlZ0V4cChcIl5cIitNK1wiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIitNK1wiKyRcIixcImdcIiksVz1uZXcgUmVnRXhwKFwiXlwiK00rXCIqLFwiK00rXCIqXCIpLEI9bmV3IFJlZ0V4cChcIl5cIitNK1wiKihbPit+XXxcIitNK1wiKVwiK00rXCIqXCIpLHo9bmV3IFJlZ0V4cChcIj1cIitNK1wiKihbXlxcXFxdJ1xcXCJdKj8pXCIrTStcIipcXFxcXVwiLFwiZ1wiKSxVPW5ldyBSZWdFeHAoSSksSz1uZXcgUmVnRXhwKFwiXlwiK0grXCIkXCIpLFg9e0lEOm5ldyBSZWdFeHAoXCJeIyhcIitIK1wiKVwiKSxDTEFTUzpuZXcgUmVnRXhwKFwiXlxcXFwuKFwiK0grXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIitIK1wifFsqXSlcIiksQVRUUjpuZXcgUmVnRXhwKFwiXlwiK0YpLFBTRVVETzpuZXcgUmVnRXhwKFwiXlwiK0kpLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK00rXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIitNK1wiKig/OihbKy1dfClcIitNK1wiKihcXFxcZCspfCkpXCIrTStcIipcXFxcKXwpXCIsXCJpXCIpLGJvb2w6bmV3IFJlZ0V4cChcIl4oPzpcIitxK1wiKSRcIixcImlcIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoXCJeXCIrTStcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrTStcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrTStcIipcXFxcKXwpKD89W14tXXwkKVwiLFwiaVwiKX0sWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLEo9L15oXFxkJC9pLFY9L15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxHPS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFE9L1srfl0vLFo9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK00rXCI/fChcIitNK1wiKXwuKVwiLFwiaWdcIiksZWU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVwiMHhcIit0LTY1NTM2O3JldHVybiBpIT1pfHxuP3Q6aTwwP1N0cmluZy5mcm9tQ2hhckNvZGUoaSs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShpPj4xMHw1NTI5NiwxMDIzJml8NTYzMjApfSx0ZT0vKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXDAtXFx4MWZcXHg3Zi1cXHVGRkZGXFx3LV0vZyxuZT1mdW5jdGlvbihlLHQpe3JldHVybiB0P1wiXFwwXCI9PT1lP1wi77+9XCI6ZS5zbGljZSgwLC0xKStcIlxcXFxcIitlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkudG9TdHJpbmcoMTYpK1wiIFwiOlwiXFxcXFwiK2V9LGllPWZ1bmN0aW9uKCl7dSgpfSxyZT12ZShmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUuZGlzYWJsZWQmJihcImZvcm1cImluIGV8fFwibGFiZWxcImluIGUpfSx7ZGlyOlwicGFyZW50Tm9kZVwiLG5leHQ6XCJsZWdlbmRcIn0pO3RyeXtMLmFwcGx5KEU9RC5jYWxsKHguY2hpbGROb2RlcykseC5jaGlsZE5vZGVzKSxFW3guY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe0w9e2FwcGx5OkUubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7Ty5hcHBseShlLEQuY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLGk9MDtlW24rK109dFtpKytdOyk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UoZSx0LGkscil7dmFyIHMsbyxsLGMsaCxwLG0sdj10JiZ0Lm93bmVyRG9jdW1lbnQsaj10P3Qubm9kZVR5cGU6OTtpZihpPWl8fFtdLFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhZXx8MSE9PWomJjkhPT1qJiYxMSE9PWopcmV0dXJuIGk7aWYoIXImJigodD90Lm93bmVyRG9jdW1lbnR8fHQ6eCkhPT1mJiZ1KHQpLHQ9dHx8ZixnKSl7aWYoMTEhPT1qJiYoaD1HLmV4ZWMoZSkpKWlmKHM9aFsxXSl7aWYoOT09PWope2lmKCEobD10LmdldEVsZW1lbnRCeUlkKHMpKSlyZXR1cm4gaTtpZihsLmlkPT09cylyZXR1cm4gaS5wdXNoKGwpLGl9ZWxzZSBpZih2JiYobD12LmdldEVsZW1lbnRCeUlkKHMpKSYmeSh0LGwpJiZsLmlkPT09cylyZXR1cm4gaS5wdXNoKGwpLGl9ZWxzZXtpZihoWzJdKXJldHVybiBMLmFwcGx5KGksdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSksaTtpZigocz1oWzNdKSYmbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEwuYXBwbHkoaSx0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLGl9aWYobi5xc2EmJiFUW2UrXCIgXCJdJiYoIV98fCFfLnRlc3QoZSkpKXtpZigxIT09ail2PXQsbT1lO2Vsc2UgaWYoXCJvYmplY3RcIiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKChjPXQuZ2V0QXR0cmlidXRlKFwiaWRcIikpP2M9Yy5yZXBsYWNlKHRlLG5lKTp0LnNldEF0dHJpYnV0ZShcImlkXCIsYz1iKSxvPShwPWEoZSkpLmxlbmd0aDtvLS07KXBbb109XCIjXCIrYytcIiBcIittZShwW29dKTttPXAuam9pbihcIixcIiksdj1RLnRlc3QoZSkmJmdlKHQucGFyZW50Tm9kZSl8fHR9aWYobSl0cnl7cmV0dXJuIEwuYXBwbHkoaSx2LnF1ZXJ5U2VsZWN0b3JBbGwobSkpLGl9Y2F0Y2goZSl7fWZpbmFsbHl7Yz09PWImJnQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4gZChlLnJlcGxhY2UoUixcIiQxXCIpLHQsaSxyKX1mdW5jdGlvbiBhZSgpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbiB0KG4scil7cmV0dXJuIGUucHVzaChuK1wiIFwiKT5pLmNhY2hlTGVuZ3RoJiZkZWxldGUgdFtlLnNoaWZ0KCldLHRbbitcIiBcIl09cn19ZnVuY3Rpb24gb2UoZSl7cmV0dXJuIGVbYl09ITAsZX1mdW5jdGlvbiBkZShlKXt2YXIgdD1mLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBsZShlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwifFwiKSxyPW4ubGVuZ3RoO3ItLTspaS5hdHRySGFuZGxlW25bcl1dPXR9ZnVuY3Rpb24gY2UoZSx0KXt2YXIgbj10JiZlLGk9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZlLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYoaSlyZXR1cm4gaTtpZihuKWZvcig7bj1uLm5leHRTaWJsaW5nOylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIGhlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm5cImlucHV0XCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnQudHlwZT09PWV9fWZ1bmN0aW9uIHVlKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PW58fFwiYnV0dG9uXCI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVyblwiZm9ybVwiaW4gdD90LnBhcmVudE5vZGUmJiExPT09dC5kaXNhYmxlZD9cImxhYmVsXCJpbiB0P1wibGFiZWxcImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1lOnQuZGlzYWJsZWQ9PT1lOnQuaXNEaXNhYmxlZD09PWV8fHQuaXNEaXNhYmxlZCE9PSFlJiZyZSh0KT09PWU6dC5kaXNhYmxlZD09PWU6XCJsYWJlbFwiaW4gdCYmdC5kaXNhYmxlZD09PWV9fWZ1bmN0aW9uIHBlKGUpe3JldHVybiBvZShmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxvZShmdW5jdGlvbihuLGkpe2Zvcih2YXIgcixzPWUoW10sbi5sZW5ndGgsdCksYT1zLmxlbmd0aDthLS07KW5bcj1zW2FdXSYmKG5bcl09IShpW3JdPW5bcl0pKX0pfSl9ZnVuY3Rpb24gZ2UoZSl7cmV0dXJuIGUmJnZvaWQgMCE9PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9Zm9yKHQgaW4gbj1zZS5zdXBwb3J0PXt9LHM9c2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmKGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmXCJIVE1MXCIhPT10Lm5vZGVOYW1lfSx1PXNlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHIsYT1lP2Uub3duZXJEb2N1bWVudHx8ZTp4O3JldHVybiBhIT09ZiYmOT09PWEubm9kZVR5cGUmJmEuZG9jdW1lbnRFbGVtZW50PyhwPShmPWEpLmRvY3VtZW50RWxlbWVudCxnPSFzKGYpLHghPT1mJiYocj1mLmRlZmF1bHRWaWV3KSYmci50b3AhPT1yJiYoci5hZGRFdmVudExpc3RlbmVyP3IuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGllLCExKTpyLmF0dGFjaEV2ZW50JiZyLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixpZSkpLG4uYXR0cmlidXRlcz1kZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9XCJpXCIsIWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksbi5nZXRFbGVtZW50c0J5VGFnTmFtZT1kZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChmLmNyZWF0ZUNvbW1lbnQoXCJcIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGh9KSxuLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9Vi50ZXN0KGYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksbi5nZXRCeUlkPWRlKGZ1bmN0aW9uKGUpe3JldHVybiBwLmFwcGVuZENoaWxkKGUpLmlkPWIsIWYuZ2V0RWxlbWVudHNCeU5hbWV8fCFmLmdldEVsZW1lbnRzQnlOYW1lKGIpLmxlbmd0aH0pLG4uZ2V0QnlJZD8oaS5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFosZWUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PXR9fSxpLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10LmdldEVsZW1lbnRCeUlkJiZnKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooaS5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFosZWUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj12b2lkIDAhPT1lLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19LGkuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQuZ2V0RWxlbWVudEJ5SWQmJmcpe3ZhciBuLGkscixzPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYocyl7aWYoKG49cy5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bc107Zm9yKHI9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxpPTA7cz1yW2krK107KWlmKChuPXMuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW3NdfXJldHVybltdfX0pLGkuZmluZC5UQUc9bi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10LmdldEVsZW1lbnRzQnlUYWdOYW1lP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6bi5xc2E/dC5xdWVyeVNlbGVjdG9yQWxsKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixpPVtdLHI9MCxzPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoXCIqXCI9PT1lKXtmb3IoO249c1tyKytdOykxPT09bi5ub2RlVHlwZSYmaS5wdXNoKG4pO3JldHVybiBpfXJldHVybiBzfSxpLmZpbmQuQ0xBU1M9bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZylyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxtPVtdLF89W10sKG4ucXNhPVYudGVzdChmLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGRlKGZ1bmN0aW9uKGUpe3AuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPVwiPGEgaWQ9J1wiK2IrXCInPjwvYT48c2VsZWN0IGlkPSdcIitiK1wiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsZS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoJiZfLnB1c2goXCJbKl4kXT1cIitNK1wiKig/OicnfFxcXCJcXFwiKVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8Xy5wdXNoKFwiXFxcXFtcIitNK1wiKig/OnZhbHVlfFwiK3ErXCIpXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIrYitcIi1dXCIpLmxlbmd0aHx8Xy5wdXNoKFwifj1cIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxfLnB1c2goXCI6Y2hlY2tlZFwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiK2IrXCIrKlwiKS5sZW5ndGh8fF8ucHVzaChcIi4jLitbK35dXCIpfSksZGUoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9XCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjt2YXIgdD1mLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZfLnB1c2goXCJuYW1lXCIrTStcIipbKl4kfCF+XT89XCIpLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGgmJl8ucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIikscC5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmRpc2FibGVkXCIpLmxlbmd0aCYmXy5wdXNoKFwiOmVuYWJsZWRcIixcIjpkaXNhYmxlZFwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpLF8ucHVzaChcIiwuKjpcIil9KSksKG4ubWF0Y2hlc1NlbGVjdG9yPVYudGVzdCh2PXAubWF0Y2hlc3x8cC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHAubW96TWF0Y2hlc1NlbGVjdG9yfHxwLm9NYXRjaGVzU2VsZWN0b3J8fHAubXNNYXRjaGVzU2VsZWN0b3IpKSYmZGUoZnVuY3Rpb24oZSl7bi5kaXNjb25uZWN0ZWRNYXRjaD12LmNhbGwoZSxcIipcIiksdi5jYWxsKGUsXCJbcyE9JyddOnhcIiksbS5wdXNoKFwiIT1cIixJKX0pLF89Xy5sZW5ndGgmJm5ldyBSZWdFeHAoXy5qb2luKFwifFwiKSksbT1tLmxlbmd0aCYmbmV3IFJlZ0V4cChtLmpvaW4oXCJ8XCIpKSx0PVYudGVzdChwLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx5PXR8fFYudGVzdChwLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUsaT10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1pfHwhKCFpfHwxIT09aS5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMoaSk6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LE49dD9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBoPSEwLDA7dmFyIGk9IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGl8fCgxJihpPShlLm93bmVyRG9jdW1lbnR8fGUpPT09KHQub3duZXJEb2N1bWVudHx8dCk/ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IW4uc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09aT9lPT09Znx8ZS5vd25lckRvY3VtZW50PT09eCYmeSh4LGUpPy0xOnQ9PT1mfHx0Lm93bmVyRG9jdW1lbnQ9PT14JiZ5KHgsdCk/MTpjP1AoYyxlKS1QKGMsdCk6MDo0Jmk/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGg9ITAsMDt2YXIgbixpPTAscj1lLnBhcmVudE5vZGUscz10LnBhcmVudE5vZGUsYT1bZV0sbz1bdF07aWYoIXJ8fCFzKXJldHVybiBlPT09Zj8tMTp0PT09Zj8xOnI/LTE6cz8xOmM/UChjLGUpLVAoYyx0KTowO2lmKHI9PT1zKXJldHVybiBjZShlLHQpO2ZvcihuPWU7bj1uLnBhcmVudE5vZGU7KWEudW5zaGlmdChuKTtmb3Iobj10O249bi5wYXJlbnROb2RlOylvLnVuc2hpZnQobik7Zm9yKDthW2ldPT09b1tpXTspaSsrO3JldHVybiBpP2NlKGFbaV0sb1tpXSk6YVtpXT09PXg/LTE6b1tpXT09PXg/MTowfSxmKTpmfSxzZS5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHNlKGUsbnVsbCxudWxsLHQpfSxzZS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtpZigoZS5vd25lckRvY3VtZW50fHxlKSE9PWYmJnUoZSksdD10LnJlcGxhY2UoeixcIj0nJDEnXVwiKSxuLm1hdGNoZXNTZWxlY3RvciYmZyYmIVRbdCtcIiBcIl0mJighbXx8IW0udGVzdCh0KSkmJighX3x8IV8udGVzdCh0KSkpdHJ5e3ZhciBpPXYuY2FsbChlLHQpO2lmKGl8fG4uZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gaX1jYXRjaChlKXt9cmV0dXJuIHNlKHQsZixudWxsLFtlXSkubGVuZ3RoPjB9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPT1mJiZ1KGUpLHkoZSx0KX0sc2UuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09ZiYmdShlKTt2YXIgcj1pLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxzPXImJlMuY2FsbChpLmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9yKGUsdCwhZyk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1zP3M6bi5hdHRyaWJ1dGVzfHwhZz9lLmdldEF0dHJpYnV0ZSh0KToocz1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZzLnNwZWNpZmllZD9zLnZhbHVlOm51bGx9LHNlLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4oZStcIlwiKS5yZXBsYWNlKHRlLG5lKX0sc2UuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsaT1bXSxyPTAscz0wO2lmKGg9IW4uZGV0ZWN0RHVwbGljYXRlcyxjPSFuLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KE4pLGgpe2Zvcig7dD1lW3MrK107KXQ9PT1lW3NdJiYocj1pLnB1c2gocykpO2Zvcig7ci0tOyllLnNwbGljZShpW3JdLDEpfXJldHVybiBjPW51bGwsZX0scj1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49XCJcIixpPTAscz1lLm5vZGVUeXBlO2lmKHMpe2lmKDE9PT1zfHw5PT09c3x8MTE9PT1zKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZS50ZXh0Q29udGVudClyZXR1cm4gZS50ZXh0Q29udGVudDtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpbis9cihlKX1lbHNlIGlmKDM9PT1zfHw0PT09cylyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSBmb3IoO3Q9ZVtpKytdOyluKz1yKHQpO3JldHVybiBufSwoaT1zZS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpvZSxtYXRjaDpYLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKFosZWUpLGVbM109KGVbM118fGVbNF18fGVbNV18fFwiXCIpLnJlcGxhY2UoWixlZSksXCJ+PVwiPT09ZVsyXSYmKGVbM109XCIgXCIrZVszXStcIiBcIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8c2UuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooXCJldmVuXCI9PT1lWzNdfHxcIm9kZFwiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fFwib2RkXCI9PT1lWzNdKSk6ZVszXSYmc2UuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIFguQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8XCJcIjpuJiZVLnRlc3QobikmJih0PWEobiwhMCkpJiYodD1uLmluZGV4T2YoXCIpXCIsbi5sZW5ndGgtdCktbi5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsdCksZVsyXT1uLnNsaWNlKDAsdCkpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoWixlZSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD13W2UrXCIgXCJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKFwiKF58XCIrTStcIilcIitlK1wiKFwiK00rXCJ8JClcIikpJiZ3KGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChcInN0cmluZ1wiPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHx2b2lkIDAhPT1lLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIil9KX0sQVRUUjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciByPXNlLmF0dHIoaSxlKTtyZXR1cm4gbnVsbD09cj9cIiE9XCI9PT10OiF0fHwocis9XCJcIixcIj1cIj09PXQ/cj09PW46XCIhPVwiPT09dD9yIT09bjpcIl49XCI9PT10P24mJjA9PT1yLmluZGV4T2Yobik6XCIqPVwiPT09dD9uJiZyLmluZGV4T2Yobik+LTE6XCIkPVwiPT09dD9uJiZyLnNsaWNlKC1uLmxlbmd0aCk9PT1uOlwifj1cIj09PXQ/KFwiIFwiK3IucmVwbGFjZSgkLFwiIFwiKStcIiBcIikuaW5kZXhPZihuKT4tMTpcInw9XCI9PT10JiYocj09PW58fHIuc2xpY2UoMCxuLmxlbmd0aCsxKT09PW4rXCItXCIpKX19LENISUxEOmZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIHM9XCJudGhcIiE9PWUuc2xpY2UoMCwzKSxhPVwibGFzdFwiIT09ZS5zbGljZSgtNCksbz1cIm9mLXR5cGVcIj09PXQ7cmV0dXJuIDE9PT1pJiYwPT09cj9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24odCxuLGQpe3ZhciBsLGMsaCx1LGYscCxnPXMhPT1hP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLF89dC5wYXJlbnROb2RlLG09byYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9IWQmJiFvLHk9ITE7aWYoXyl7aWYocyl7Zm9yKDtnOyl7Zm9yKHU9dDt1PXVbZ107KWlmKG8/dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bToxPT09dS5ub2RlVHlwZSlyZXR1cm4hMTtwPWc9XCJvbmx5XCI9PT1lJiYhcCYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKHA9W2E/Xy5maXJzdENoaWxkOl8ubGFzdENoaWxkXSxhJiZ2KXtmb3IoeT0oZj0obD0oYz0oaD0odT1fKVtiXXx8KHVbYl09e30pKVt1LnVuaXF1ZUlEXXx8KGhbdS51bmlxdWVJRF09e30pKVtlXXx8W10pWzBdPT09aiYmbFsxXSkmJmxbMl0sdT1mJiZfLmNoaWxkTm9kZXNbZl07dT0rK2YmJnUmJnVbZ118fCh5PWY9MCl8fHAucG9wKCk7KWlmKDE9PT11Lm5vZGVUeXBlJiYrK3kmJnU9PT10KXtjW2VdPVtqLGYseV07YnJlYWt9fWVsc2UgaWYodiYmKHk9Zj0obD0oYz0oaD0odT10KVtiXXx8KHVbYl09e30pKVt1LnVuaXF1ZUlEXXx8KGhbdS51bmlxdWVJRF09e30pKVtlXXx8W10pWzBdPT09aiYmbFsxXSksITE9PT15KWZvcig7KHU9KytmJiZ1JiZ1W2ddfHwoeT1mPTApfHxwLnBvcCgpKSYmKChvP3Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PW06MSE9PXUubm9kZVR5cGUpfHwhKyt5fHwodiYmKChjPShoPXVbYl18fCh1W2JdPXt9KSlbdS51bmlxdWVJRF18fChoW3UudW5pcXVlSURdPXt9KSlbZV09W2oseV0pLHUhPT10KSk7KTtyZXR1cm4oeS09cik9PT1pfHx5JWk9PTAmJnkvaT49MH19fSxQU0VVRE86ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkucHNldWRvc1tlXXx8aS5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fHNlLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIitlKTtyZXR1cm4gcltiXT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSxcIlwiLHRdLGkuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP29lKGZ1bmN0aW9uKGUsbil7Zm9yKHZhciBpLHM9cihlLHQpLGE9cy5sZW5ndGg7YS0tOyllW2k9UChlLHNbYV0pXT0hKG5baV09c1thXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gcihlLDAsbil9KTpyfX0scHNldWRvczp7bm90Om9lKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10saT1vKGUucmVwbGFjZShSLFwiJDFcIikpO3JldHVybiBpW2JdP29lKGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgcyxhPWkoZSxudWxsLHIsW10pLG89ZS5sZW5ndGg7by0tOykocz1hW29dKSYmKGVbb109ISh0W29dPXMpKX0pOmZ1bmN0aW9uKGUscixzKXtyZXR1cm4gdFswXT1lLGkodCxudWxsLHMsbiksdFswXT1udWxsLCFuLnBvcCgpfX0pLGhhczpvZShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHNlKGUsdCkubGVuZ3RoPjB9fSksY29udGFpbnM6b2UoZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKFosZWUpLGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHx0LmlubmVyVGV4dHx8cih0KSkuaW5kZXhPZihlKT4tMX19KSxsYW5nOm9lKGZ1bmN0aW9uKGUpe3JldHVybiBLLnRlc3QoZXx8XCJcIil8fHNlLmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIrZSksZT1lLnJlcGxhY2UoWixlZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXt2YXIgbjtkb3tpZihuPWc/dC5sYW5nOnQuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIil8fHQuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSlyZXR1cm4obj1uLnRvTG93ZXJDYXNlKCkpPT09ZXx8MD09PW4uaW5kZXhPZihlK1wiLVwiKX13aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBuPWUubG9jYXRpb24mJmUubG9jYXRpb24uaGFzaDtyZXR1cm4gbiYmbi5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1wfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWYuYWN0aXZlRWxlbWVudCYmKCFmLmhhc0ZvY3VzfHxmLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmZlKCExKSxkaXNhYmxlZDpmZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dCYmISFlLmNoZWNrZWR8fFwib3B0aW9uXCI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFpLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gSi50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gWS50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJlwiYnV0dG9uXCI9PT1lLnR5cGV8fFwiYnV0dG9uXCI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiaW5wdXRcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnBlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpwZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6cGUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpwZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpwZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnBlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9bjwwP24rdDpuOy0taT49MDspZS5wdXNoKGkpO3JldHVybiBlfSksZ3Q6cGUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1uPDA/bit0Om47KytpPHQ7KWUucHVzaChpKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWkucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0paS5wc2V1ZG9zW3RdPWhlKHQpO2Zvcih0IGlue3N1Ym1pdDohMCxyZXNldDohMH0paS5wc2V1ZG9zW3RdPXVlKHQpO2Z1bmN0aW9uIF9lKCl7fWZ1bmN0aW9uIG1lKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgsaT1cIlwiO3Q8bjt0KyspaSs9ZVt0XS52YWx1ZTtyZXR1cm4gaX1mdW5jdGlvbiB2ZShlLHQsbil7dmFyIGk9dC5kaXIscj10Lm5leHQscz1yfHxpLGE9biYmXCJwYXJlbnROb2RlXCI9PT1zLG89aysrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixyKXtmb3IoO3Q9dFtpXTspaWYoMT09PXQubm9kZVR5cGV8fGEpcmV0dXJuIGUodCxuLHIpO3JldHVybiExfTpmdW5jdGlvbih0LG4sZCl7dmFyIGwsYyxoLHU9W2osb107aWYoZCl7Zm9yKDt0PXRbaV07KWlmKCgxPT09dC5ub2RlVHlwZXx8YSkmJmUodCxuLGQpKXJldHVybiEwfWVsc2UgZm9yKDt0PXRbaV07KWlmKDE9PT10Lm5vZGVUeXBlfHxhKWlmKGM9KGg9dFtiXXx8KHRbYl09e30pKVt0LnVuaXF1ZUlEXXx8KGhbdC51bmlxdWVJRF09e30pLHImJnI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W2ldfHx0O2Vsc2V7aWYoKGw9Y1tzXSkmJmxbMF09PT1qJiZsWzFdPT09bylyZXR1cm4gdVsyXT1sWzJdO2lmKGNbc109dSx1WzJdPWUodCxuLGQpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB5ZShlKXtyZXR1cm4gZS5sZW5ndGg+MT9mdW5jdGlvbih0LG4saSl7Zm9yKHZhciByPWUubGVuZ3RoO3ItLTspaWYoIWVbcl0odCxuLGkpKXJldHVybiExO3JldHVybiEwfTplWzBdfWZ1bmN0aW9uIGJlKGUsdCxuLGkscil7Zm9yKHZhciBzLGE9W10sbz0wLGQ9ZS5sZW5ndGgsbD1udWxsIT10O288ZDtvKyspKHM9ZVtvXSkmJihuJiYhbihzLGkscil8fChhLnB1c2gocyksbCYmdC5wdXNoKG8pKSk7cmV0dXJuIGF9ZnVuY3Rpb24geGUoZSx0LG4saSxyLHMpe3JldHVybiBpJiYhaVtiXSYmKGk9eGUoaSkpLHImJiFyW2JdJiYocj14ZShyLHMpKSxvZShmdW5jdGlvbihzLGEsbyxkKXt2YXIgbCxjLGgsdT1bXSxmPVtdLHA9YS5sZW5ndGgsZz1zfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXNlKGUsdFtpXSxuKTtyZXR1cm4gbn0odHx8XCIqXCIsby5ub2RlVHlwZT9bb106byxbXSksXz0hZXx8IXMmJnQ/ZzpiZShnLHUsZSxvLGQpLG09bj9yfHwocz9lOnB8fGkpP1tdOmE6XztpZihuJiZuKF8sbSxvLGQpLGkpZm9yKGw9YmUobSxmKSxpKGwsW10sbyxkKSxjPWwubGVuZ3RoO2MtLTspKGg9bFtjXSkmJihtW2ZbY11dPSEoX1tmW2NdXT1oKSk7aWYocyl7aWYocnx8ZSl7aWYocil7Zm9yKGw9W10sYz1tLmxlbmd0aDtjLS07KShoPW1bY10pJiZsLnB1c2goX1tjXT1oKTtyKG51bGwsbT1bXSxsLGQpfWZvcihjPW0ubGVuZ3RoO2MtLTspKGg9bVtjXSkmJihsPXI/UChzLGgpOnVbY10pPi0xJiYoc1tsXT0hKGFbbF09aCkpfX1lbHNlIG09YmUobT09PWE/bS5zcGxpY2UocCxtLmxlbmd0aCk6bSkscj9yKG51bGwsYSxtLGQpOkwuYXBwbHkoYSxtKX0pfWZ1bmN0aW9uIGplKGUpe2Zvcih2YXIgdCxuLHIscz1lLmxlbmd0aCxhPWkucmVsYXRpdmVbZVswXS50eXBlXSxvPWF8fGkucmVsYXRpdmVbXCIgXCJdLGQ9YT8xOjAsYz12ZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LG8sITApLGg9dmUoZnVuY3Rpb24oZSl7cmV0dXJuIFAodCxlKT4tMX0sbywhMCksdT1bZnVuY3Rpb24oZSxuLGkpe3ZhciByPSFhJiYoaXx8biE9PWwpfHwoKHQ9bikubm9kZVR5cGU/YyhlLG4saSk6aChlLG4saSkpO3JldHVybiB0PW51bGwscn1dO2Q8cztkKyspaWYobj1pLnJlbGF0aXZlW2VbZF0udHlwZV0pdT1bdmUoeWUodSksbildO2Vsc2V7aWYoKG49aS5maWx0ZXJbZVtkXS50eXBlXS5hcHBseShudWxsLGVbZF0ubWF0Y2hlcykpW2JdKXtmb3Iocj0rK2Q7cjxzJiYhaS5yZWxhdGl2ZVtlW3JdLnR5cGVdO3IrKyk7cmV0dXJuIHhlKGQ+MSYmeWUodSksZD4xJiZtZShlLnNsaWNlKDAsZC0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09ZVtkLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKFIsXCIkMVwiKSxuLGQ8ciYmamUoZS5zbGljZShkLHIpKSxyPHMmJmplKGU9ZS5zbGljZShyKSkscjxzJiZtZShlKSl9dS5wdXNoKG4pfXJldHVybiB5ZSh1KX1yZXR1cm4gX2UucHJvdG90eXBlPWkuZmlsdGVycz1pLnBzZXVkb3MsaS5zZXRGaWx0ZXJzPW5ldyBfZSxhPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixzLGEsbyxkLGwsYz1DW2UrXCIgXCJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO2ZvcihvPWUsZD1bXSxsPWkucHJlRmlsdGVyO287KXtmb3IoYSBpbiBuJiYhKHI9Vy5leGVjKG8pKXx8KHImJihvPW8uc2xpY2UoclswXS5sZW5ndGgpfHxvKSxkLnB1c2gocz1bXSkpLG49ITEsKHI9Qi5leGVjKG8pKSYmKG49ci5zaGlmdCgpLHMucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZShSLFwiIFwiKX0pLG89by5zbGljZShuLmxlbmd0aCkpLGkuZmlsdGVyKSEocj1YW2FdLmV4ZWMobykpfHxsW2FdJiYhKHI9bFthXShyKSl8fChuPXIuc2hpZnQoKSxzLnB1c2goe3ZhbHVlOm4sdHlwZTphLG1hdGNoZXM6cn0pLG89by5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P28ubGVuZ3RoOm8/c2UuZXJyb3IoZSk6QyhlLGQpLnNsaWNlKDApfSxvPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLHM9W10sbz1UW2UrXCIgXCJdO2lmKCFvKXtmb3IodHx8KHQ9YShlKSksbj10Lmxlbmd0aDtuLS07KShvPWplKHRbbl0pKVtiXT9yLnB1c2gobyk6cy5wdXNoKG8pOyhvPVQoZSxmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoPjAscj1lLmxlbmd0aD4wLHM9ZnVuY3Rpb24ocyxhLG8sZCxjKXt2YXIgaCxwLF8sbT0wLHY9XCIwXCIseT1zJiZbXSxiPVtdLHg9bCxrPXN8fHImJmkuZmluZC5UQUcoXCIqXCIsYyksdz1qKz1udWxsPT14PzE6TWF0aC5yYW5kb20oKXx8LjEsQz1rLmxlbmd0aDtmb3IoYyYmKGw9YT09PWZ8fGF8fGMpO3YhPT1DJiZudWxsIT0oaD1rW3ZdKTt2Kyspe2lmKHImJmgpe2ZvcihwPTAsYXx8aC5vd25lckRvY3VtZW50PT09Znx8KHUoaCksbz0hZyk7Xz1lW3ArK107KWlmKF8oaCxhfHxmLG8pKXtkLnB1c2goaCk7YnJlYWt9YyYmKGo9dyl9biYmKChoPSFfJiZoKSYmbS0tLHMmJnkucHVzaChoKSl9aWYobSs9dixuJiZ2IT09bSl7Zm9yKHA9MDtfPXRbcCsrXTspXyh5LGIsYSxvKTtpZihzKXtpZihtPjApZm9yKDt2LS07KXlbdl18fGJbdl18fChiW3ZdPUEuY2FsbChkKSk7Yj1iZShiKX1MLmFwcGx5KGQsYiksYyYmIXMmJmIubGVuZ3RoPjAmJm0rdC5sZW5ndGg+MSYmc2UudW5pcXVlU29ydChkKX1yZXR1cm4gYyYmKGo9dyxsPXgpLHl9O3JldHVybiBuP29lKHMpOnN9KHMscikpKS5zZWxlY3Rvcj1lfXJldHVybiBvfSxkPXNlLnNlbGVjdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgcyxkLGwsYyxoLHU9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSxmPSFyJiZhKGU9dS5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Zi5sZW5ndGgpe2lmKChkPWZbMF09ZlswXS5zbGljZSgwKSkubGVuZ3RoPjImJlwiSURcIj09PShsPWRbMF0pLnR5cGUmJjk9PT10Lm5vZGVUeXBlJiZnJiZpLnJlbGF0aXZlW2RbMV0udHlwZV0pe2lmKCEodD0oaS5maW5kLklEKGwubWF0Y2hlc1swXS5yZXBsYWNlKFosZWUpLHQpfHxbXSlbMF0pKXJldHVybiBuO3UmJih0PXQucGFyZW50Tm9kZSksZT1lLnNsaWNlKGQuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihzPVgubmVlZHNDb250ZXh0LnRlc3QoZSk/MDpkLmxlbmd0aDtzLS0mJihsPWRbc10sIWkucmVsYXRpdmVbYz1sLnR5cGVdKTspaWYoKGg9aS5maW5kW2NdKSYmKHI9aChsLm1hdGNoZXNbMF0ucmVwbGFjZShaLGVlKSxRLnRlc3QoZFswXS50eXBlKSYmZ2UodC5wYXJlbnROb2RlKXx8dCkpKXtpZihkLnNwbGljZShzLDEpLCEoZT1yLmxlbmd0aCYmbWUoZCkpKXJldHVybiBMLmFwcGx5KG4sciksbjticmVha319cmV0dXJuKHV8fG8oZSxmKSkocix0LCFnLG4sIXR8fFEudGVzdChlKSYmZ2UodC5wYXJlbnROb2RlKXx8dCksbn0sbi5zb3J0U3RhYmxlPWIuc3BsaXQoXCJcIikuc29ydChOKS5qb2luKFwiXCIpPT09YixuLmRldGVjdER1cGxpY2F0ZXM9ISFoLHUoKSxuLnNvcnREZXRhY2hlZD1kZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGYuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpKX0pLGRlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGxlKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGUsdCxuKXtpZighbilyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCxcInR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksbi5hdHRyaWJ1dGVzJiZkZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8aW5wdXQvPlwiLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpLFwiXCI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KXx8bGUoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmXCJpbnB1dFwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLGRlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fGxlKHEsZnVuY3Rpb24oZSx0LG4pe3ZhciBpO2lmKCFuKXJldHVybiEwPT09ZVt0XT90LnRvTG93ZXJDYXNlKCk6KGk9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmaS5zcGVjaWZpZWQ/aS52YWx1ZTpudWxsfSksc2V9KGkpO3cuZmluZD1OLHcuZXhwcj1OLnNlbGVjdG9ycyx3LmV4cHJbXCI6XCJdPXcuZXhwci5wc2V1ZG9zLHcudW5pcXVlU29ydD13LnVuaXF1ZT1OLnVuaXF1ZVNvcnQsdy50ZXh0PU4uZ2V0VGV4dCx3LmlzWE1MRG9jPU4uaXNYTUwsdy5jb250YWlucz1OLmNvbnRhaW5zLHcuZXNjYXBlU2VsZWN0b3I9Ti5lc2NhcGU7dmFyIFM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1bXSxyPXZvaWQgMCE9PW47KGU9ZVt0XSkmJjkhPT1lLm5vZGVUeXBlOylpZigxPT09ZS5ub2RlVHlwZSl7aWYociYmdyhlKS5pcyhuKSlicmVhaztpLnB1c2goZSl9cmV0dXJuIGl9LEU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59LEE9dy5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBPKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX12YXIgTD0vXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaTtmdW5jdGlvbiBEKGUsdCxuKXtyZXR1cm4geSh0KT93LmdyZXAoZSxmdW5jdGlvbihlLGkpe3JldHVybiEhdC5jYWxsKGUsaSxlKSE9PW59KTp0Lm5vZGVUeXBlP3cuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCE9PW59KTpcInN0cmluZ1wiIT10eXBlb2YgdD93LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gdS5jYWxsKHQsZSk+LTEhPT1ufSk6dy5maWx0ZXIodCxlLG4pfXcuZmlsdGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10WzBdO3JldHVybiBuJiYoZT1cIjpub3QoXCIrZStcIilcIiksMT09PXQubGVuZ3RoJiYxPT09aS5ub2RlVHlwZT93LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGksZSk/W2ldOltdOncuZmluZC5tYXRjaGVzKGUsdy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSx3LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLGk9dGhpcy5sZW5ndGgscj10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayh3KGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxpO3QrKylpZih3LmNvbnRhaW5zKHJbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKG49dGhpcy5wdXNoU3RhY2soW10pLHQ9MDt0PGk7dCsrKXcuZmluZChlLHJbdF0sbik7cmV0dXJuIGk+MT93LnVuaXF1ZVNvcnQobik6bn0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhEKHRoaXMsZXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhEKHRoaXMsZXx8W10sITApKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFEKHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGUmJkEudGVzdChlKT93KGUpOmV8fFtdLCExKS5sZW5ndGh9fSk7dmFyIFAscT0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLzsody5mbi5pbml0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyO2lmKCFlKXJldHVybiB0aGlzO2lmKG49bnx8UCxcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoIShpPVwiPFwiPT09ZVswXSYmXCI+XCI9PT1lW2UubGVuZ3RoLTFdJiZlLmxlbmd0aD49Mz9bbnVsbCxlLG51bGxdOnEuZXhlYyhlKSl8fCFpWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8bikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoaVsxXSl7aWYodD10IGluc3RhbmNlb2Ygdz90WzBdOnQsdy5tZXJnZSh0aGlzLHcucGFyc2VIVE1MKGlbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6bywhMCkpLEwudGVzdChpWzFdKSYmdy5pc1BsYWluT2JqZWN0KHQpKWZvcihpIGluIHQpeSh0aGlzW2ldKT90aGlzW2ldKHRbaV0pOnRoaXMuYXR0cihpLHRbaV0pO3JldHVybiB0aGlzfXJldHVybihyPW8uZ2V0RWxlbWVudEJ5SWQoaVsyXSkpJiYodGhpc1swXT1yLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOnkoZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUodyk6dy5tYWtlQXJyYXkoZSx0aGlzKX0pLnByb3RvdHlwZT13LmZuLFA9dyhvKTt2YXIgTT0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxIPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2Z1bmN0aW9uIEYoZSx0KXtmb3IoOyhlPWVbdF0pJiYxIT09ZS5ub2RlVHlwZTspO3JldHVybiBlfXcuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dyhlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZih3LmNvbnRhaW5zKHRoaXMsdFtlXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLGk9MCxyPXRoaXMubGVuZ3RoLHM9W10sYT1cInN0cmluZ1wiIT10eXBlb2YgZSYmdyhlKTtpZighQS50ZXN0KGUpKWZvcig7aTxyO2krKylmb3Iobj10aGlzW2ldO24mJm4hPT10O249bi5wYXJlbnROb2RlKWlmKG4ubm9kZVR5cGU8MTEmJihhP2EuaW5kZXgobik+LTE6MT09PW4ubm9kZVR5cGUmJncuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSkpe3MucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2socy5sZW5ndGg+MT93LnVuaXF1ZVNvcnQocyk6cyl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlP1wic3RyaW5nXCI9PXR5cGVvZiBlP3UuY2FsbCh3KGUpLHRoaXNbMF0pOnUuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sody51bmlxdWVTb3J0KHcubWVyZ2UodGhpcy5nZXQoKSx3KGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLHcuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUyhlLFwicGFyZW50Tm9kZVwiLG4pfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBGKGUsXCJuZXh0U2libGluZ1wiKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gRihlLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBTKGUsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTKGUsXCJuZXh0U2libGluZ1wiLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTKGUsXCJwcmV2aW91c1NpYmxpbmdcIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIEUoKGUucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsZSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBFKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBPKGUsXCJpZnJhbWVcIik/ZS5jb250ZW50RG9jdW1lbnQ6KE8oZSxcInRlbXBsYXRlXCIpJiYoZT1lLmNvbnRlbnR8fGUpLHcubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihlLHQpe3cuZm5bZV09ZnVuY3Rpb24obixpKXt2YXIgcj13Lm1hcCh0aGlzLHQsbik7cmV0dXJuXCJVbnRpbFwiIT09ZS5zbGljZSgtNSkmJihpPW4pLGkmJlwic3RyaW5nXCI9PXR5cGVvZiBpJiYocj13LmZpbHRlcihpLHIpKSx0aGlzLmxlbmd0aD4xJiYoSFtlXXx8dy51bmlxdWVTb3J0KHIpLE0udGVzdChlKSYmci5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKHIpfX0pO3ZhciBJPS9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZztmdW5jdGlvbiAkKGUpe3JldHVybiBlfWZ1bmN0aW9uIFIoZSl7dGhyb3cgZX1mdW5jdGlvbiBXKGUsdCxuLGkpe3ZhciByO3RyeXtlJiZ5KHI9ZS5wcm9taXNlKT9yLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJnkocj1lLnRoZW4pP3IuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKGkpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX13LkNhbGxiYWNrcz1mdW5jdGlvbihlKXtlPVwic3RyaW5nXCI9PXR5cGVvZiBlP2Z1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB3LmVhY2goZS5tYXRjaChJKXx8W10sZnVuY3Rpb24oZSxuKXt0W25dPSEwfSksdH0oZSk6dy5leHRlbmQoe30sZSk7dmFyIHQsbixpLHIscz1bXSxhPVtdLG89LTEsZD1mdW5jdGlvbigpe2ZvcihyPXJ8fGUub25jZSxpPXQ9ITA7YS5sZW5ndGg7bz0tMSlmb3Iobj1hLnNoaWZ0KCk7KytvPHMubGVuZ3RoOykhMT09PXNbb10uYXBwbHkoblswXSxuWzFdKSYmZS5zdG9wT25GYWxzZSYmKG89cy5sZW5ndGgsbj0hMSk7ZS5tZW1vcnl8fChuPSExKSx0PSExLHImJihzPW4/W106XCJcIil9LGw9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYobiYmIXQmJihvPXMubGVuZ3RoLTEsYS5wdXNoKG4pKSxmdW5jdGlvbiB0KG4pe3cuZWFjaChuLGZ1bmN0aW9uKG4saSl7eShpKT9lLnVuaXF1ZSYmbC5oYXMoaSl8fHMucHVzaChpKTppJiZpLmxlbmd0aCYmXCJzdHJpbmdcIiE9PWsoaSkmJnQoaSl9KX0oYXJndW1lbnRzKSxuJiYhdCYmZCgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbjsobj13LmluQXJyYXkodCxzLG4pKT4tMTspcy5zcGxpY2UobiwxKSxuPD1vJiZvLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dy5pbkFycmF5KGUscyk+LTE6cy5sZW5ndGg+MH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKHM9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gcj1hPVtdLHM9bj1cIlwiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gcj1hPVtdLG58fHR8fChzPW49XCJcIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFyfSxmaXJlV2l0aDpmdW5jdGlvbihlLG4pe3JldHVybiByfHwobj1bZSwobj1ufHxbXSkuc2xpY2U/bi5zbGljZSgpOm5dLGEucHVzaChuKSx0fHxkKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gbC5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWl9fTtyZXR1cm4gbH0sdy5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciB0PVtbXCJub3RpZnlcIixcInByb2dyZXNzXCIsdy5DYWxsYmFja3MoXCJtZW1vcnlcIiksdy5DYWxsYmFja3MoXCJtZW1vcnlcIiksMl0sW1wicmVzb2x2ZVwiLFwiZG9uZVwiLHcuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksdy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwwLFwicmVzb2x2ZWRcIl0sW1wicmVqZWN0XCIsXCJmYWlsXCIsdy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSx3LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLDEsXCJyZWplY3RlZFwiXV0sbj1cInBlbmRpbmdcIixyPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LGNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiByLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm4gdy5EZWZlcnJlZChmdW5jdGlvbihuKXt3LmVhY2godCxmdW5jdGlvbih0LGkpe3ZhciByPXkoZVtpWzRdXSkmJmVbaVs0XV07YVtpWzFdXShmdW5jdGlvbigpe3ZhciBlPXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJnkoZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhuLm5vdGlmeSkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpOm5baVswXStcIldpdGhcIl0odGhpcyxyP1tlXTphcmd1bWVudHMpfSl9KSxlPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24oZSxuLHIpe3ZhciBhPTA7ZnVuY3Rpb24gbyhlLHQsbixyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD10aGlzLGw9YXJndW1lbnRzLGM9ZnVuY3Rpb24oKXt2YXIgaSxjO2lmKCEoZTxhKSl7aWYoKGk9bi5hcHBseShkLGwpKT09PXQucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIik7Yz1pJiYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1pP1widW5kZWZpbmVkXCI6cyhpKSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpJiZpLnRoZW4seShjKT9yP2MuY2FsbChpLG8oYSx0LCQsciksbyhhLHQsUixyKSk6KGErKyxjLmNhbGwoaSxvKGEsdCwkLHIpLG8oYSx0LFIsciksbyhhLHQsJCx0Lm5vdGlmeVdpdGgpKSk6KG4hPT0kJiYoZD12b2lkIDAsbD1baV0pLChyfHx0LnJlc29sdmVXaXRoKShkLGwpKX19LGg9cj9jOmZ1bmN0aW9uKCl7dHJ5e2MoKX1jYXRjaChpKXt3LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJncuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhpLGguc3RhY2tUcmFjZSksZSsxPj1hJiYobiE9PVImJihkPXZvaWQgMCxsPVtpXSksdC5yZWplY3RXaXRoKGQsbCkpfX07ZT9oKCk6KHcuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYoaC5zdGFja1RyYWNlPXcuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGkuc2V0VGltZW91dChoKSl9fXJldHVybiB3LkRlZmVycmVkKGZ1bmN0aW9uKGkpe3RbMF1bM10uYWRkKG8oMCxpLHkocik/cjokLGkubm90aWZ5V2l0aCkpLHRbMV1bM10uYWRkKG8oMCxpLHkoZSk/ZTokKSksdFsyXVszXS5hZGQobygwLGkseShuKT9uOlIpKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT93LmV4dGVuZChlLHIpOnJ9fSxhPXt9O3JldHVybiB3LmVhY2godCxmdW5jdGlvbihlLGkpe3ZhciBzPWlbMl0sbz1pWzVdO3JbaVsxXV09cy5hZGQsbyYmcy5hZGQoZnVuY3Rpb24oKXtuPW99LHRbMy1lXVsyXS5kaXNhYmxlLHRbMy1lXVszXS5kaXNhYmxlLHRbMF1bMl0ubG9jayx0WzBdWzNdLmxvY2spLHMuYWRkKGlbM10uZmlyZSksYVtpWzBdXT1mdW5jdGlvbigpe3JldHVybiBhW2lbMF0rXCJXaXRoXCJdKHRoaXM9PT1hP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc30sYVtpWzBdK1wiV2l0aFwiXT1zLmZpcmVXaXRofSksci5wcm9taXNlKGEpLGUmJmUuY2FsbChhLGEpLGF9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPXQsaT1BcnJheShuKSxyPWwuY2FsbChhcmd1bWVudHMpLHM9dy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lbZV09dGhpcyxyW2VdPWFyZ3VtZW50cy5sZW5ndGg+MT9sLmNhbGwoYXJndW1lbnRzKTpuLC0tdHx8cy5yZXNvbHZlV2l0aChpLHIpfX07aWYodDw9MSYmKFcoZSxzLmRvbmUoYShuKSkucmVzb2x2ZSxzLnJlamVjdCwhdCksXCJwZW5kaW5nXCI9PT1zLnN0YXRlKCl8fHkocltuXSYmcltuXS50aGVuKSkpcmV0dXJuIHMudGhlbigpO2Zvcig7bi0tOylXKHJbbl0sYShuKSxzLnJlamVjdCk7cmV0dXJuIHMucHJvbWlzZSgpfX0pO3ZhciBCPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO3cuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbihlLHQpe2kuY29uc29sZSYmaS5jb25zb2xlLndhcm4mJmUmJkIudGVzdChlLm5hbWUpJiZpLmNvbnNvbGUud2FybihcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiK2UubWVzc2FnZSxlLnN0YWNrLHQpfSx3LnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKGUpe2kuc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGV9KX07dmFyIHo9dy5EZWZlcnJlZCgpO2Z1bmN0aW9uIFUoKXtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsVSksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLFUpLHcucmVhZHkoKX13LmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiB6LnRoZW4oZSkuY2F0Y2goZnVuY3Rpb24oZSl7dy5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LHcuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS13LnJlYWR5V2FpdDp3LmlzUmVhZHkpfHwody5pc1JlYWR5PSEwLCEwIT09ZSYmLS13LnJlYWR5V2FpdD4wfHx6LnJlc29sdmVXaXRoKG8sW3ddKSl9fSksdy5yZWFkeS50aGVuPXoudGhlbixcImNvbXBsZXRlXCI9PT1vLnJlYWR5U3RhdGV8fFwibG9hZGluZ1wiIT09by5yZWFkeVN0YXRlJiYhby5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/aS5zZXRUaW1lb3V0KHcucmVhZHkpOihvLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsVSksaS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLFUpKTt2YXIgSz1mdW5jdGlvbiBlKHQsbixpLHIscyxhLG8pe3ZhciBkPTAsbD10Lmxlbmd0aCxjPW51bGw9PWk7aWYoXCJvYmplY3RcIj09PWsoaSkpZm9yKGQgaW4gcz0hMCxpKWUodCxuLGQsaVtkXSwhMCxhLG8pO2Vsc2UgaWYodm9pZCAwIT09ciYmKHM9ITAseShyKXx8KG89ITApLGMmJihvPyhuLmNhbGwodCxyKSxuPW51bGwpOihjPW4sbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGMuY2FsbCh3KGUpLG4pfSkpLG4pKWZvcig7ZDxsO2QrKyluKHRbZF0saSxvP3I6ci5jYWxsKHRbZF0sZCxuKHRbZF0saSkpKTtyZXR1cm4gcz90OmM/bi5jYWxsKHQpOmw/bih0WzBdLGkpOmF9LFg9L14tbXMtLyxZPS8tKFthLXpdKS9nO2Z1bmN0aW9uIEooZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGUucmVwbGFjZShYLFwibXMtXCIpLnJlcGxhY2UoWSxKKX12YXIgRz1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2Z1bmN0aW9uIFEoKXt0aGlzLmV4cGFuZG89dy5leHBhbmRvK1EudWlkKyt9US51aWQ9MSxRLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxHKGUpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dDpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLmV4cGFuZG8se3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSkpKSx0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcy5jYWNoZShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyW1YodCldPW47ZWxzZSBmb3IoaSBpbiB0KXJbVihpKV09dFtpXTtyZXR1cm4gcn0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtWKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4saT1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09aSl7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKFYpOih0PVYodCkpaW4gaT9bdF06dC5tYXRjaChJKXx8W10pLmxlbmd0aDtmb3IoO24tLTspZGVsZXRlIGlbdFtuXV19KHZvaWQgMD09PXR8fHcuaXNFbXB0eU9iamVjdChpKSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGVbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09dCYmIXcuaXNFbXB0eU9iamVjdCh0KX19O3ZhciBaPW5ldyBRLGVlPW5ldyBRLHRlPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxuZT0vW0EtWl0vZztmdW5jdGlvbiBpZShlLHQsbil7dmFyIGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYoaT1cImRhdGEtXCIrdC5yZXBsYWNlKG5lLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCksXCJzdHJpbmdcIj09dHlwZW9mKG49ZS5nZXRBdHRyaWJ1dGUoaSkpKXt0cnl7bj1mdW5jdGlvbihlKXtyZXR1cm5cInRydWVcIj09PWV8fFwiZmFsc2VcIiE9PWUmJihcIm51bGxcIj09PWU/bnVsbDplPT09K2UrXCJcIj8rZTp0ZS50ZXN0KGUpP0pTT04ucGFyc2UoZSk6ZSl9KG4pfWNhdGNoKGUpe31lZS5zZXQoZSx0LG4pfWVsc2Ugbj12b2lkIDA7cmV0dXJuIG59dy5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGVlLmhhc0RhdGEoZSl8fFouaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVlLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtlZS5yZW1vdmUoZSx0KX0sX2RhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBaLmFjY2VzcyhlLHQsbil9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7Wi5yZW1vdmUoZSx0KX19KSx3LmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuLGkscixhPXRoaXNbMF0sbz1hJiZhLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09ZSl7aWYodGhpcy5sZW5ndGgmJihyPWVlLmdldChhKSwxPT09YS5ub2RlVHlwZSYmIVouZ2V0KGEsXCJoYXNEYXRhQXR0cnNcIikpKXtmb3Iobj1vLmxlbmd0aDtuLS07KW9bbl0mJjA9PT0oaT1vW25dLm5hbWUpLmluZGV4T2YoXCJkYXRhLVwiKSYmKGk9VihpLnNsaWNlKDUpKSxpZShhLGkscltpXSkpO1ouc2V0KGEsXCJoYXNEYXRhQXR0cnNcIiwhMCl9cmV0dXJuIHJ9cmV0dXJuXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cyhlKSk/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZWUuc2V0KHRoaXMsZSl9KTpLKHRoaXMsZnVuY3Rpb24odCl7dmFyIG47aWYoYSYmdm9pZCAwPT09dClyZXR1cm4gdm9pZCAwIT09KG49ZWUuZ2V0KGEsZSkpP246dm9pZCAwIT09KG49aWUoYSxlKSk/bjp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZWUuc2V0KHRoaXMsZSx0KX0pfSxudWxsLHQsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtlZS5yZW1vdmUodGhpcyxlKX0pfX0pLHcuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk7aWYoZSlyZXR1cm4gdD0odHx8XCJmeFwiKStcInF1ZXVlXCIsaT1aLmdldChlLHQpLG4mJighaXx8QXJyYXkuaXNBcnJheShuKT9pPVouYWNjZXNzKGUsdCx3Lm1ha2VBcnJheShuKSk6aS5wdXNoKG4pKSxpfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8XCJmeFwiO3ZhciBuPXcucXVldWUoZSx0KSxpPW4ubGVuZ3RoLHI9bi5zaGlmdCgpLHM9dy5fcXVldWVIb29rcyhlLHQpO1wiaW5wcm9ncmVzc1wiPT09ciYmKHI9bi5zaGlmdCgpLGktLSksciYmKFwiZnhcIj09PXQmJm4udW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIHMuc3RvcCxyLmNhbGwoZSxmdW5jdGlvbigpe3cuZGVxdWV1ZShlLHQpfSxzKSksIWkmJnMmJnMuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIFouZ2V0KGUsbil8fFouYWNjZXNzKGUsbix7ZW1wdHk6dy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXtaLnJlbW92ZShlLFt0K1wicXVldWVcIixuXSl9KX0pfX0pLHcuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJih0PWUsZT1cImZ4XCIsbi0tKSxhcmd1bWVudHMubGVuZ3RoPG4/dy5xdWV1ZSh0aGlzWzBdLGUpOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj13LnF1ZXVlKHRoaXMsZSx0KTt3Ll9xdWV1ZUhvb2tzKHRoaXMsZSksXCJmeFwiPT09ZSYmXCJpbnByb2dyZXNzXCIhPT1uWzBdJiZ3LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt3LmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fFwiZnhcIixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixpPTEscj13LkRlZmVycmVkKCkscz10aGlzLGE9dGhpcy5sZW5ndGgsbz1mdW5jdGlvbigpey0taXx8ci5yZXNvbHZlV2l0aChzLFtzXSl9O2ZvcihcInN0cmluZ1wiIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHxcImZ4XCI7YS0tOykobj1aLmdldChzW2FdLGUrXCJxdWV1ZUhvb2tzXCIpKSYmbi5lbXB0eSYmKGkrKyxuLmVtcHR5LmFkZChvKSk7cmV0dXJuIG8oKSxyLnByb21pc2UodCl9fSk7dmFyIHJlPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxzZT1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIityZStcIikoW2EteiVdKikkXCIsXCJpXCIpLGFlPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxvZT1mdW5jdGlvbihlLHQpe3JldHVyblwibm9uZVwiPT09KGU9dHx8ZSkuc3R5bGUuZGlzcGxheXx8XCJcIj09PWUuc3R5bGUuZGlzcGxheSYmdy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSkmJlwibm9uZVwiPT09dy5jc3MoZSxcImRpc3BsYXlcIil9LGRlPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLHMsYT17fTtmb3IocyBpbiB0KWFbc109ZS5zdHlsZVtzXSxlLnN0eWxlW3NdPXRbc107Zm9yKHMgaW4gcj1uLmFwcGx5KGUsaXx8W10pLHQpZS5zdHlsZVtzXT1hW3NdO3JldHVybiByfTtmdW5jdGlvbiBsZShlLHQsbixpKXt2YXIgcixzLGE9MjAsbz1pP2Z1bmN0aW9uKCl7cmV0dXJuIGkuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHcuY3NzKGUsdCxcIlwiKX0sZD1vKCksbD1uJiZuWzNdfHwody5jc3NOdW1iZXJbdF0/XCJcIjpcInB4XCIpLGM9KHcuY3NzTnVtYmVyW3RdfHxcInB4XCIhPT1sJiYrZCkmJnNlLmV4ZWMody5jc3MoZSx0KSk7aWYoYyYmY1szXSE9PWwpe2ZvcihkLz0yLGw9bHx8Y1szXSxjPStkfHwxO2EtLTspdy5zdHlsZShlLHQsYytsKSwoMS1zKSooMS0ocz1vKCkvZHx8LjUpKTw9MCYmKGE9MCksYy89cztjKj0yLHcuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCtkfHwwLHI9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0saSYmKGkudW5pdD1sLGkuc3RhcnQ9YyxpLmVuZD1yKSkscn12YXIgY2U9e307ZnVuY3Rpb24gaGUoZSl7dmFyIHQsbj1lLm93bmVyRG9jdW1lbnQsaT1lLm5vZGVOYW1lLHI9Y2VbaV07cmV0dXJuIHJ8fCh0PW4uYm9keS5hcHBlbmRDaGlsZChuLmNyZWF0ZUVsZW1lbnQoaSkpLHI9dy5jc3ModCxcImRpc3BsYXlcIiksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLFwibm9uZVwiPT09ciYmKHI9XCJibG9ja1wiKSxjZVtpXT1yLHIpfWZ1bmN0aW9uIHVlKGUsdCl7Zm9yKHZhciBuLGkscj1bXSxzPTAsYT1lLmxlbmd0aDtzPGE7cysrKShpPWVbc10pLnN0eWxlJiYobj1pLnN0eWxlLmRpc3BsYXksdD8oXCJub25lXCI9PT1uJiYocltzXT1aLmdldChpLFwiZGlzcGxheVwiKXx8bnVsbCxyW3NdfHwoaS5zdHlsZS5kaXNwbGF5PVwiXCIpKSxcIlwiPT09aS5zdHlsZS5kaXNwbGF5JiZvZShpKSYmKHJbc109aGUoaSkpKTpcIm5vbmVcIiE9PW4mJihyW3NdPVwibm9uZVwiLFouc2V0KGksXCJkaXNwbGF5XCIsbikpKTtmb3Iocz0wO3M8YTtzKyspbnVsbCE9cltzXSYmKGVbc10uc3R5bGUuZGlzcGxheT1yW3NdKTtyZXR1cm4gZX13LmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiB1ZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB1ZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZT9lP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe29lKHRoaXMpP3codGhpcykuc2hvdygpOncodGhpcykuaGlkZSgpfSl9fSk7dmFyIGZlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLHBlPS88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKykvaSxnZT0vXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLF9lPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07ZnVuY3Rpb24gbWUoZSx0KXt2YXIgbjtyZXR1cm4gbj12b2lkIDAhPT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8XCIqXCIpOnZvaWQgMCE9PWUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8XCIqXCIpOltdLHZvaWQgMD09PXR8fHQmJk8oZSx0KT93Lm1lcmdlKFtlXSxuKTpufWZ1bmN0aW9uIHZlKGUsdCl7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKVouc2V0KGVbbl0sXCJnbG9iYWxFdmFsXCIsIXR8fFouZ2V0KHRbbl0sXCJnbG9iYWxFdmFsXCIpKX1fZS5vcHRncm91cD1fZS5vcHRpb24sX2UudGJvZHk9X2UudGZvb3Q9X2UuY29sZ3JvdXA9X2UuY2FwdGlvbj1fZS50aGVhZCxfZS50aD1fZS50ZDt2YXIgeWUsYmUseGU9Lzx8JiM/XFx3KzsvO2Z1bmN0aW9uIGplKGUsdCxuLGkscil7Zm9yKHZhciBzLGEsbyxkLGwsYyxoPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHU9W10sZj0wLHA9ZS5sZW5ndGg7ZjxwO2YrKylpZigocz1lW2ZdKXx8MD09PXMpaWYoXCJvYmplY3RcIj09PWsocykpdy5tZXJnZSh1LHMubm9kZVR5cGU/W3NdOnMpO2Vsc2UgaWYoeGUudGVzdChzKSl7Zm9yKGE9YXx8aC5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLG89KHBlLmV4ZWMocyl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGQ9X2Vbb118fF9lLl9kZWZhdWx0LGEuaW5uZXJIVE1MPWRbMV0rdy5odG1sUHJlZmlsdGVyKHMpK2RbMl0sYz1kWzBdO2MtLTspYT1hLmxhc3RDaGlsZDt3Lm1lcmdlKHUsYS5jaGlsZE5vZGVzKSwoYT1oLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PVwiXCJ9ZWxzZSB1LnB1c2godC5jcmVhdGVUZXh0Tm9kZShzKSk7Zm9yKGgudGV4dENvbnRlbnQ9XCJcIixmPTA7cz11W2YrK107KWlmKGkmJncuaW5BcnJheShzLGkpPi0xKXImJnIucHVzaChzKTtlbHNlIGlmKGw9dy5jb250YWlucyhzLm93bmVyRG9jdW1lbnQscyksYT1tZShoLmFwcGVuZENoaWxkKHMpLFwic2NyaXB0XCIpLGwmJnZlKGEpLG4pZm9yKGM9MDtzPWFbYysrXTspZ2UudGVzdChzLnR5cGV8fFwiXCIpJiZuLnB1c2gocyk7cmV0dXJuIGh9eWU9by5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoby5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSwoYmU9by5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIikpLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpLGJlLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksYmUuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwidFwiKSx5ZS5hcHBlbmRDaGlsZChiZSksdi5jaGVja0Nsb25lPXllLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCx5ZS5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsdi5ub0Nsb25lQ2hlY2tlZD0hIXllLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTt2YXIga2U9by5kb2N1bWVudEVsZW1lbnQsd2U9L15rZXkvLENlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxUZT0vXihbXi5dKikoPzpcXC4oLispfCkvO2Z1bmN0aW9uIE5lKCl7cmV0dXJuITB9ZnVuY3Rpb24gU2UoKXtyZXR1cm4hMX1mdW5jdGlvbiBFZSgpe3RyeXtyZXR1cm4gby5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319ZnVuY3Rpb24gQWUoZSx0LG4saSxyLGEpe3ZhciBvLGQ7aWYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6cyh0KSkpe2ZvcihkIGluXCJzdHJpbmdcIiE9dHlwZW9mIG4mJihpPWl8fG4sbj12b2lkIDApLHQpQWUoZSxkLG4saSx0W2RdLGEpO3JldHVybiBlfWlmKG51bGw9PWkmJm51bGw9PXI/KHI9bixpPW49dm9pZCAwKTpudWxsPT1yJiYoXCJzdHJpbmdcIj09dHlwZW9mIG4/KHI9aSxpPXZvaWQgMCk6KHI9aSxpPW4sbj12b2lkIDApKSwhMT09PXIpcj1TZTtlbHNlIGlmKCFyKXJldHVybiBlO3JldHVybiAxPT09YSYmKG89ciwocj1mdW5jdGlvbihlKXtyZXR1cm4gdygpLm9mZihlKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPXcuZ3VpZCsrKSksZS5lYWNoKGZ1bmN0aW9uKCl7dy5ldmVudC5hZGQodGhpcyx0LHIsaSxuKX0pfXcuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgcyxhLG8sZCxsLGMsaCx1LGYscCxnLF89Wi5nZXQoZSk7aWYoXylmb3Iobi5oYW5kbGVyJiYobj0ocz1uKS5oYW5kbGVyLHI9cy5zZWxlY3RvciksciYmdy5maW5kLm1hdGNoZXNTZWxlY3RvcihrZSxyKSxuLmd1aWR8fChuLmd1aWQ9dy5ndWlkKyspLChkPV8uZXZlbnRzKXx8KGQ9Xy5ldmVudHM9e30pLChhPV8uaGFuZGxlKXx8KGE9Xy5oYW5kbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXcmJncuZXZlbnQudHJpZ2dlcmVkIT09dC50eXBlP3cuZXZlbnQuZGlzcGF0Y2guYXBwbHkoZSxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KHQ9KHR8fFwiXCIpLm1hdGNoKEkpfHxbXCJcIl0pLmxlbmd0aDtsLS07KWY9Zz0obz1UZS5leGVjKHRbbF0pfHxbXSlbMV0scD0ob1syXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxmJiYoaD13LmV2ZW50LnNwZWNpYWxbZl18fHt9LGY9KHI/aC5kZWxlZ2F0ZVR5cGU6aC5iaW5kVHlwZSl8fGYsaD13LmV2ZW50LnNwZWNpYWxbZl18fHt9LGM9dy5leHRlbmQoe3R5cGU6ZixvcmlnVHlwZTpnLGRhdGE6aSxoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6cixuZWVkc0NvbnRleHQ6ciYmdy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KHIpLG5hbWVzcGFjZTpwLmpvaW4oXCIuXCIpfSxzKSwodT1kW2ZdKXx8KCh1PWRbZl09W10pLmRlbGVnYXRlQ291bnQ9MCxoLnNldHVwJiYhMSE9PWguc2V0dXAuY2FsbChlLGkscCxhKXx8ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoZixhKSksaC5hZGQmJihoLmFkZC5jYWxsKGUsYyksYy5oYW5kbGVyLmd1aWR8fChjLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxyP3Uuc3BsaWNlKHUuZGVsZWdhdGVDb3VudCsrLDAsYyk6dS5wdXNoKGMpLHcuZXZlbnQuZ2xvYmFsW2ZdPSEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIHMsYSxvLGQsbCxjLGgsdSxmLHAsZyxfPVouaGFzRGF0YShlKSYmWi5nZXQoZSk7aWYoXyYmKGQ9Xy5ldmVudHMpKXtmb3IobD0odD0odHx8XCJcIikubWF0Y2goSSl8fFtcIlwiXSkubGVuZ3RoO2wtLTspaWYoZj1nPShvPVRlLmV4ZWModFtsXSl8fFtdKVsxXSxwPShvWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGYpe2ZvcihoPXcuZXZlbnQuc3BlY2lhbFtmXXx8e30sdT1kW2Y9KGk/aC5kZWxlZ2F0ZVR5cGU6aC5iaW5kVHlwZSl8fGZdfHxbXSxvPW9bMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitwLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxhPXM9dS5sZW5ndGg7cy0tOyljPXVbc10sIXImJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fG8mJiFvLnRlc3QoYy5uYW1lc3BhY2UpfHxpJiZpIT09Yy5zZWxlY3RvciYmKFwiKipcIiE9PWl8fCFjLnNlbGVjdG9yKXx8KHUuc3BsaWNlKHMsMSksYy5zZWxlY3RvciYmdS5kZWxlZ2F0ZUNvdW50LS0saC5yZW1vdmUmJmgucmVtb3ZlLmNhbGwoZSxjKSk7YSYmIXUubGVuZ3RoJiYoaC50ZWFyZG93biYmITEhPT1oLnRlYXJkb3duLmNhbGwoZSxwLF8uaGFuZGxlKXx8dy5yZW1vdmVFdmVudChlLGYsXy5oYW5kbGUpLGRlbGV0ZSBkW2ZdKX1lbHNlIGZvcihmIGluIGQpdy5ldmVudC5yZW1vdmUoZSxmK3RbbF0sbixpLCEwKTt3LmlzRW1wdHlPYmplY3QoZCkmJloucmVtb3ZlKGUsXCJoYW5kbGUgZXZlbnRzXCIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxhLG89dy5ldmVudC5maXgoZSksZD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbD0oWi5nZXQodGhpcyxcImV2ZW50c1wiKXx8e30pW28udHlwZV18fFtdLGM9dy5ldmVudC5zcGVjaWFsW28udHlwZV18fHt9O2ZvcihkWzBdPW8sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZFt0XT1hcmd1bWVudHNbdF07aWYoby5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLG8pKXtmb3IoYT13LmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxvLGwpLHQ9MDsocj1hW3QrK10pJiYhby5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3Ioby5jdXJyZW50VGFyZ2V0PXIuZWxlbSxuPTA7KHM9ci5oYW5kbGVyc1tuKytdKSYmIW8uaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspby5ybmFtZXNwYWNlJiYhby5ybmFtZXNwYWNlLnRlc3Qocy5uYW1lc3BhY2UpfHwoby5oYW5kbGVPYmo9cyxvLmRhdGE9cy5kYXRhLHZvaWQgMCE9PShpPSgody5ldmVudC5zcGVjaWFsW3Mub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxzLmhhbmRsZXIpLmFwcGx5KHIuZWxlbSxkKSkmJiExPT09KG8ucmVzdWx0PWkpJiYoby5wcmV2ZW50RGVmYXVsdCgpLG8uc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyxvKSxvLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHMsYSxvPVtdLGQ9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYoZCYmbC5ub2RlVHlwZSYmIShcImNsaWNrXCI9PT1lLnR5cGUmJmUuYnV0dG9uPj0xKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoXCJjbGlja1wiIT09ZS50eXBlfHwhMCE9PWwuZGlzYWJsZWQpKXtmb3Iocz1bXSxhPXt9LG49MDtuPGQ7bisrKXZvaWQgMD09PWFbcj0oaT10W25dKS5zZWxlY3RvcitcIiBcIl0mJihhW3JdPWkubmVlZHNDb250ZXh0P3cocix0aGlzKS5pbmRleChsKT4tMTp3LmZpbmQocix0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbcl0mJnMucHVzaChpKTtzLmxlbmd0aCYmby5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6c30pfXJldHVybiBsPXRoaXMsZDx0Lmxlbmd0aCYmby5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZShkKX0pLG99LGFkZFByb3A6ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkody5FdmVudC5wcm90b3R5cGUsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OnkodCk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHQodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFtlXX0sc2V0OmZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW3cuZXhwYW5kb10/ZTpuZXcgdy5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcyE9PUVlKCkmJnRoaXMuZm9jdXMpcmV0dXJuIHRoaXMuZm9jdXMoKSwhMX0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcz09PUVlKCkmJnRoaXMuYmx1cilyZXR1cm4gdGhpcy5ibHVyKCksITF9LGRlbGVnYXRlVHlwZTpcImZvY3Vzb3V0XCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYoXCJjaGVja2JveFwiPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZPKHRoaXMsXCJpbnB1dFwiKSlyZXR1cm4gdGhpcy5jbGljaygpLCExfSxfZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnJlc3VsdCYmZS5vcmlnaW5hbEV2ZW50JiYoZS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWUucmVzdWx0KX19fX0sdy5yZW1vdmVFdmVudD1mdW5jdGlvbihlLHQsbil7ZS5yZW1vdmVFdmVudExpc3RlbmVyJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuKX0sdy5FdmVudD1mdW5jdGlvbihlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHcuRXZlbnQpKXJldHVybiBuZXcgdy5FdmVudChlLHQpO2UmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWUuZGVmYXVsdFByZXZlbnRlZCYmITE9PT1lLnJldHVyblZhbHVlP05lOlNlLHRoaXMudGFyZ2V0PWUudGFyZ2V0JiYzPT09ZS50YXJnZXQubm9kZVR5cGU/ZS50YXJnZXQucGFyZW50Tm9kZTplLnRhcmdldCx0aGlzLmN1cnJlbnRUYXJnZXQ9ZS5jdXJyZW50VGFyZ2V0LHRoaXMucmVsYXRlZFRhcmdldD1lLnJlbGF0ZWRUYXJnZXQpOnRoaXMudHlwZT1lLHQmJncuZXh0ZW5kKHRoaXMsdCksdGhpcy50aW1lU3RhbXA9ZSYmZS50aW1lU3RhbXB8fERhdGUubm93KCksdGhpc1t3LmV4cGFuZG9dPSEwfSx3LkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dy5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6U2UsaXNQcm9wYWdhdGlvblN0b3BwZWQ6U2UsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6U2UsaXNTaW11bGF0ZWQ6ITEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9TmUsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9TmUsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPU5lLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSx3LmVhY2goe2FsdEtleTohMCxidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsY2hhbmdlZFRvdWNoZXM6ITAsY3RybEtleTohMCxkZXRhaWw6ITAsZXZlbnRQaGFzZTohMCxtZXRhS2V5OiEwLHBhZ2VYOiEwLHBhZ2VZOiEwLHNoaWZ0S2V5OiEwLHZpZXc6ITAsY2hhcjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihlKXt2YXIgdD1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmd2UudGVzdChlLnR5cGUpP251bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGU6IWUud2hpY2gmJnZvaWQgMCE9PXQmJkNlLnRlc3QoZS50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOmUud2hpY2h9fSx3LmV2ZW50LmFkZFByb3ApLHcuZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihlLHQpe3cuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG4saT1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gaSYmKGk9PT10aGlzfHx3LmNvbnRhaW5zKHRoaXMsaSkpfHwoZS50eXBlPXIub3JpZ1R5cGUsbj1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSx3LmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIEFlKHRoaXMsZSx0LG4saSl9LG9uZTpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gQWUodGhpcyxlLHQsbixpLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIGk9ZS5oYW5kbGVPYmosdyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoaS5uYW1lc3BhY2U/aS5vcmlnVHlwZStcIi5cIitpLm5hbWVzcGFjZTppLm9yaWdUeXBlLGkuc2VsZWN0b3IsaS5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnMoZSkpKXtmb3IociBpbiBlKXRoaXMub2ZmKHIsdCxlW3JdKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49U2UpLHRoaXMuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIE9lPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKilbXj5dKilcXC8+L2dpLExlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLERlPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksUGU9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO2Z1bmN0aW9uIHFlKGUsdCl7cmV0dXJuIE8oZSxcInRhYmxlXCIpJiZPKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCxcInRyXCIpJiZ3KGUpLmNoaWxkcmVuKFwidGJvZHlcIilbMF18fGV9ZnVuY3Rpb24gTWUoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrZS50eXBlLGV9ZnVuY3Rpb24gSGUoZSl7cmV0dXJuXCJ0cnVlL1wiPT09KGUudHlwZXx8XCJcIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxlfWZ1bmN0aW9uIEZlKGUsdCl7dmFyIG4saSxyLHMsYSxvLGQsbDtpZigxPT09dC5ub2RlVHlwZSl7aWYoWi5oYXNEYXRhKGUpJiYocz1aLmFjY2VzcyhlKSxhPVouc2V0KHQscyksbD1zLmV2ZW50cykpZm9yKHIgaW4gZGVsZXRlIGEuaGFuZGxlLGEuZXZlbnRzPXt9LGwpZm9yKG49MCxpPWxbcl0ubGVuZ3RoO248aTtuKyspdy5ldmVudC5hZGQodCxyLGxbcl1bbl0pO2VlLmhhc0RhdGEoZSkmJihvPWVlLmFjY2VzcyhlKSxkPXcuZXh0ZW5kKHt9LG8pLGVlLnNldCh0LGQpKX19ZnVuY3Rpb24gSWUoZSx0LG4saSl7dD1jLmFwcGx5KFtdLHQpO3ZhciByLHMsYSxvLGQsbCxoPTAsdT1lLmxlbmd0aCxmPXUtMSxwPXRbMF0sZz15KHApO2lmKGd8fHU+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHAmJiF2LmNoZWNrQ2xvbmUmJkRlLnRlc3QocCkpcmV0dXJuIGUuZWFjaChmdW5jdGlvbihyKXt2YXIgcz1lLmVxKHIpO2cmJih0WzBdPXAuY2FsbCh0aGlzLHIscy5odG1sKCkpKSxJZShzLHQsbixpKX0pO2lmKHUmJihzPShyPWplKHQsZVswXS5vd25lckRvY3VtZW50LCExLGUsaSkpLmZpcnN0Q2hpbGQsMT09PXIuY2hpbGROb2Rlcy5sZW5ndGgmJihyPXMpLHN8fGkpKXtmb3Iobz0oYT13Lm1hcChtZShyLFwic2NyaXB0XCIpLE1lKSkubGVuZ3RoO2g8dTtoKyspZD1yLGghPT1mJiYoZD13LmNsb25lKGQsITAsITApLG8mJncubWVyZ2UoYSxtZShkLFwic2NyaXB0XCIpKSksbi5jYWxsKGVbaF0sZCxoKTtpZihvKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCx3Lm1hcChhLEhlKSxoPTA7aDxvO2grKylkPWFbaF0sZ2UudGVzdChkLnR5cGV8fFwiXCIpJiYhWi5hY2Nlc3MoZCxcImdsb2JhbEV2YWxcIikmJncuY29udGFpbnMobCxkKSYmKGQuc3JjJiZcIm1vZHVsZVwiIT09KGQudHlwZXx8XCJcIikudG9Mb3dlckNhc2UoKT93Ll9ldmFsVXJsJiZ3Ll9ldmFsVXJsKGQuc3JjKTpqKGQudGV4dENvbnRlbnQucmVwbGFjZShQZSxcIlwiKSxsLGQpKX1yZXR1cm4gZX1mdW5jdGlvbiAkZShlLHQsbil7Zm9yKHZhciBpLHI9dD93LmZpbHRlcih0LGUpOmUscz0wO251bGwhPShpPXJbc10pO3MrKylufHwxIT09aS5ub2RlVHlwZXx8dy5jbGVhbkRhdGEobWUoaSkpLGkucGFyZW50Tm9kZSYmKG4mJncuY29udGFpbnMoaS5vd25lckRvY3VtZW50LGkpJiZ2ZShtZShpLFwic2NyaXB0XCIpKSxpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSkpO3JldHVybiBlfXcuZXh0ZW5kKHtodG1sUHJlZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoT2UsXCI8JDE+PC8kMj5cIil9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLHMsYSxvLGQsbCxjPWUuY2xvbmVOb2RlKCEwKSxoPXcuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpO2lmKCEodi5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8dy5pc1hNTERvYyhlKSkpZm9yKGE9bWUoYyksaT0wLHI9KHM9bWUoZSkpLmxlbmd0aDtpPHI7aSsrKW89c1tpXSxkPWFbaV0sbD12b2lkIDAsXCJpbnB1dFwiPT09KGw9ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmZmUudGVzdChvLnR5cGUpP2QuY2hlY2tlZD1vLmNoZWNrZWQ6XCJpbnB1dFwiIT09bCYmXCJ0ZXh0YXJlYVwiIT09bHx8KGQuZGVmYXVsdFZhbHVlPW8uZGVmYXVsdFZhbHVlKTtpZih0KWlmKG4pZm9yKHM9c3x8bWUoZSksYT1hfHxtZShjKSxpPTAscj1zLmxlbmd0aDtpPHI7aSsrKUZlKHNbaV0sYVtpXSk7ZWxzZSBGZShlLGMpO3JldHVybihhPW1lKGMsXCJzY3JpcHRcIikpLmxlbmd0aD4wJiZ2ZShhLCFoJiZtZShlLFwic2NyaXB0XCIpKSxjfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4saSxyPXcuZXZlbnQuc3BlY2lhbCxzPTA7dm9pZCAwIT09KG49ZVtzXSk7cysrKWlmKEcobikpe2lmKHQ9bltaLmV4cGFuZG9dKXtpZih0LmV2ZW50cylmb3IoaSBpbiB0LmV2ZW50cylyW2ldP3cuZXZlbnQucmVtb3ZlKG4saSk6dy5yZW1vdmVFdmVudChuLGksdC5oYW5kbGUpO25bWi5leHBhbmRvXT12b2lkIDB9bltlZS5leHBhbmRvXSYmKG5bZWUuZXhwYW5kb109dm9pZCAwKX19fSksdy5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gJGUodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiAkZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dy50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxxZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXFlKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKHcuY2xlYW5EYXRhKG1lKGUsITEpKSxlLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB3LmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLGk9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYhTGUudGVzdChlKSYmIV9lWyhwZS5leGVjKGUpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9dy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248aTtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKHcuY2xlYW5EYXRhKG1lKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucGFyZW50Tm9kZTt3LmluQXJyYXkodGhpcyxlKTwwJiYody5jbGVhbkRhdGEobWUodGhpcykpLG4mJm4ucmVwbGFjZUNoaWxkKHQsdGhpcykpfSxlKX19KSx3LmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixpPVtdLHI9dyhlKSxzPXIubGVuZ3RoLTEsYT0wO2E8PXM7YSsrKW49YT09PXM/dGhpczp0aGlzLmNsb25lKCEwKSx3KHJbYV0pW3RdKG4pLGguYXBwbHkoaSxuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaSl9fSk7dmFyIFJlPW5ldyBSZWdFeHAoXCJeKFwiK3JlK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLFdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gdCYmdC5vcGVuZXJ8fCh0PWkpLHQuZ2V0Q29tcHV0ZWRTdHlsZShlKX0sQmU9bmV3IFJlZ0V4cChhZS5qb2luKFwifFwiKSxcImlcIik7ZnVuY3Rpb24gemUoZSx0LG4pe3ZhciBpLHIscyxhLG89ZS5zdHlsZTtyZXR1cm4obj1ufHxXZShlKSkmJihcIlwiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8dy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fChhPXcuc3R5bGUoZSx0KSksIXYucGl4ZWxCb3hTdHlsZXMoKSYmUmUudGVzdChhKSYmQmUudGVzdCh0KSYmKGk9by53aWR0aCxyPW8ubWluV2lkdGgscz1vLm1heFdpZHRoLG8ubWluV2lkdGg9by5tYXhXaWR0aD1vLndpZHRoPWEsYT1uLndpZHRoLG8ud2lkdGg9aSxvLm1pbldpZHRoPXIsby5tYXhXaWR0aD1zKSksdm9pZCAwIT09YT9hK1wiXCI6YX1mdW5jdGlvbiBVZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2lmKGMpe2wuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIixjLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElXCIsa2UuYXBwZW5kQ2hpbGQobCkuYXBwZW5kQ2hpbGQoYyk7dmFyIGU9aS5nZXRDb21wdXRlZFN0eWxlKGMpO249XCIxJVwiIT09ZS50b3AsZD0xMj09PXQoZS5tYXJnaW5MZWZ0KSxjLnN0eWxlLnJpZ2h0PVwiNjAlXCIsYT0zNj09PXQoZS5yaWdodCkscj0zNj09PXQoZS53aWR0aCksYy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIscz0zNj09PWMub2Zmc2V0V2lkdGh8fFwiYWJzb2x1dGVcIixrZS5yZW1vdmVDaGlsZChsKSxjPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixzLGEsZCxsPW8uY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPW8uY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnN0eWxlJiYoYy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsYy5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsdi5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09Yy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCx3LmV4dGVuZCh2LHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKCkscn0scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGF9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG59LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBlKCksZH0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiBlKCksc319KSl9KCk7dmFyIEtlPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxYZT0vXi0tLyxZZT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sSmU9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxWZT1bXCJXZWJraXRcIixcIk1velwiLFwibXNcIl0sR2U9by5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIFFlKGUpe3ZhciB0PXcuY3NzUHJvcHNbZV07cmV0dXJuIHR8fCh0PXcuY3NzUHJvcHNbZV09ZnVuY3Rpb24oZSl7aWYoZSBpbiBHZSlyZXR1cm4gZTtmb3IodmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1WZS5sZW5ndGg7bi0tOylpZigoZT1WZVtuXSt0KWluIEdlKXJldHVybiBlfShlKXx8ZSksdH1mdW5jdGlvbiBaZShlLHQsbil7dmFyIGk9c2UuZXhlYyh0KTtyZXR1cm4gaT9NYXRoLm1heCgwLGlbMl0tKG58fDApKSsoaVszXXx8XCJweFwiKTp0fWZ1bmN0aW9uIGV0KGUsdCxuLGkscixzKXt2YXIgYT1cIndpZHRoXCI9PT10PzE6MCxvPTAsZD0wO2lmKG49PT0oaT9cImJvcmRlclwiOlwiY29udGVudFwiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKVwibWFyZ2luXCI9PT1uJiYoZCs9dy5jc3MoZSxuK2FlW2FdLCEwLHIpKSxpPyhcImNvbnRlbnRcIj09PW4mJihkLT13LmNzcyhlLFwicGFkZGluZ1wiK2FlW2FdLCEwLHIpKSxcIm1hcmdpblwiIT09biYmKGQtPXcuY3NzKGUsXCJib3JkZXJcIithZVthXStcIldpZHRoXCIsITAscikpKTooZCs9dy5jc3MoZSxcInBhZGRpbmdcIithZVthXSwhMCxyKSxcInBhZGRpbmdcIiE9PW4/ZCs9dy5jc3MoZSxcImJvcmRlclwiK2FlW2FdK1wiV2lkdGhcIiwhMCxyKTpvKz13LmNzcyhlLFwiYm9yZGVyXCIrYWVbYV0rXCJXaWR0aFwiLCEwLHIpKTtyZXR1cm4haSYmcz49MCYmKGQrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbXCJvZmZzZXRcIit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tcy1kLW8tLjUpKSksZH1mdW5jdGlvbiB0dChlLHQsbil7dmFyIGk9V2UoZSkscj16ZShlLHQsaSkscz1cImJvcmRlci1ib3hcIj09PXcuY3NzKGUsXCJib3hTaXppbmdcIiwhMSxpKSxhPXM7aWYoUmUudGVzdChyKSl7aWYoIW4pcmV0dXJuIHI7cj1cImF1dG9cIn1yZXR1cm4gYT1hJiYodi5ib3hTaXppbmdSZWxpYWJsZSgpfHxyPT09ZS5zdHlsZVt0XSksKFwiYXV0b1wiPT09cnx8IXBhcnNlRmxvYXQocikmJlwiaW5saW5lXCI9PT13LmNzcyhlLFwiZGlzcGxheVwiLCExLGkpKSYmKHI9ZVtcIm9mZnNldFwiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXSxhPSEwKSwocj1wYXJzZUZsb2F0KHIpfHwwKStldChlLHQsbnx8KHM/XCJib3JkZXJcIjpcImNvbnRlbnRcIiksYSxpLHIpK1wicHhcIn1mdW5jdGlvbiBudChlLHQsbixpLHIpe3JldHVybiBuZXcgbnQucHJvdG90eXBlLmluaXQoZSx0LG4saSxyKX13LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPXplKGUsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1uP1wiMVwiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4saSl7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgcixhLG8sZD1WKHQpLGw9WGUudGVzdCh0KSxjPWUuc3R5bGU7aWYobHx8KHQ9UWUoZCkpLG89dy5jc3NIb29rc1t0XXx8dy5jc3NIb29rc1tkXSx2b2lkIDA9PT1uKXJldHVybiBvJiZcImdldFwiaW4gbyYmdm9pZCAwIT09KHI9by5nZXQoZSwhMSxpKSk/cjpjW3RdO1wic3RyaW5nXCI9PT0oYT12b2lkIDA9PT1uP1widW5kZWZpbmVkXCI6cyhuKSkmJihyPXNlLmV4ZWMobikpJiZyWzFdJiYobj1sZShlLHQsciksYT1cIm51bWJlclwiKSxudWxsIT1uJiZuPT1uJiYoXCJudW1iZXJcIj09PWEmJihuKz1yJiZyWzNdfHwody5jc3NOdW1iZXJbZF0/XCJcIjpcInB4XCIpKSx2LmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PW58fDAhPT10LmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoY1t0XT1cImluaGVyaXRcIiksbyYmXCJzZXRcImluIG8mJnZvaWQgMD09PShuPW8uc2V0KGUsbixpKSl8fChsP2Muc2V0UHJvcGVydHkodCxuKTpjW3RdPW4pKX19LGNzczpmdW5jdGlvbihlLHQsbixpKXt2YXIgcixzLGEsbz1WKHQpO3JldHVybiBYZS50ZXN0KHQpfHwodD1RZShvKSksKGE9dy5jc3NIb29rc1t0XXx8dy5jc3NIb29rc1tvXSkmJlwiZ2V0XCJpbiBhJiYocj1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1yJiYocj16ZShlLHQsaSkpLFwibm9ybWFsXCI9PT1yJiZ0IGluIEplJiYocj1KZVt0XSksXCJcIj09PW58fG4/KHM9cGFyc2VGbG9hdChyKSwhMD09PW58fGlzRmluaXRlKHMpP3N8fDA6cik6cn19KSx3LmVhY2goW1wiaGVpZ2h0XCIsXCJ3aWR0aFwiXSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4saSl7aWYobilyZXR1cm4hS2UudGVzdCh3LmNzcyhlLFwiZGlzcGxheVwiKSl8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/dHQoZSx0LGkpOmRlKGUsWWUsZnVuY3Rpb24oKXtyZXR1cm4gdHQoZSx0LGkpfSl9LHNldDpmdW5jdGlvbihlLG4saSl7dmFyIHIscz1XZShlKSxhPVwiYm9yZGVyLWJveFwiPT09dy5jc3MoZSxcImJveFNpemluZ1wiLCExLHMpLG89aSYmZXQoZSx0LGksYSxzKTtyZXR1cm4gYSYmdi5zY3JvbGxib3hTaXplKCk9PT1zLnBvc2l0aW9uJiYoby09TWF0aC5jZWlsKGVbXCJvZmZzZXRcIit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tcGFyc2VGbG9hdChzW3RdKS1ldChlLHQsXCJib3JkZXJcIiwhMSxzKS0uNSkpLG8mJihyPXNlLmV4ZWMobikpJiZcInB4XCIhPT0oclszXXx8XCJweFwiKSYmKGUuc3R5bGVbdF09bixuPXcuY3NzKGUsdCkpLFplKDAsbixvKX19fSksdy5jc3NIb29rcy5tYXJnaW5MZWZ0PVVlKHYucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4ocGFyc2VGbG9hdCh6ZShlLFwibWFyZ2luTGVmdFwiKSl8fGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1kZShlLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKStcInB4XCJ9KSx3LmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0wLHI9e30scz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uLnNwbGl0KFwiIFwiKTpbbl07aTw0O2krKylyW2UrYWVbaV0rdF09c1tpXXx8c1tpLTJdfHxzWzBdO3JldHVybiByfX0sXCJtYXJnaW5cIiE9PWUmJih3LmNzc0hvb2tzW2UrdF0uc2V0PVplKX0pLHcuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLHM9e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihpPVdlKGUpLHI9dC5sZW5ndGg7YTxyO2ErKylzW3RbYV1dPXcuY3NzKGUsdFthXSwhMSxpKTtyZXR1cm4gc31yZXR1cm4gdm9pZCAwIT09bj93LnN0eWxlKGUsdCxuKTp3LmNzcyhlLHQpfSxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KSx3LlR3ZWVuPW50LG50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bnQsaW5pdDpmdW5jdGlvbihlLHQsbixpLHIscyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9cnx8dy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWksdGhpcy51bml0PXN8fCh3LmNzc051bWJlcltuXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPW50LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpudC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1udC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPXQ9dy5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOm50LnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LG50LnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1udC5wcm90b3R5cGUsbnQucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9dy5jc3MoZS5lbGVtLGUucHJvcCxcIlwiKSkmJlwiYXV0b1wiIT09dD90OjB9LHNldDpmdW5jdGlvbihlKXt3LmZ4LnN0ZXBbZS5wcm9wXT93LmZ4LnN0ZXBbZS5wcm9wXShlKToxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsPT1lLmVsZW0uc3R5bGVbdy5jc3NQcm9wc1tlLnByb3BdXSYmIXcuY3NzSG9va3NbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzp3LnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSxudC5wcm9wSG9va3Muc2Nyb2xsVG9wPW50LnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LHcuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6XCJzd2luZ1wifSx3LmZ4PW50LnByb3RvdHlwZS5pbml0LHcuZnguc3RlcD17fTt2YXIgaXQscnQsc3Q9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLGF0PS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gb3QoKXtydCYmKCExPT09by5oaWRkZW4mJmkucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2kucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG90KTppLnNldFRpbWVvdXQob3Qsdy5meC5pbnRlcnZhbCksdy5meC50aWNrKCkpfWZ1bmN0aW9uIGR0KCl7cmV0dXJuIGkuc2V0VGltZW91dChmdW5jdGlvbigpe2l0PXZvaWQgMH0pLGl0PURhdGUubm93KCl9ZnVuY3Rpb24gbHQoZSx0KXt2YXIgbixpPTAscj17aGVpZ2h0OmV9O2Zvcih0PXQ/MTowO2k8NDtpKz0yLXQpcltcIm1hcmdpblwiKyhuPWFlW2ldKV09cltcInBhZGRpbmdcIituXT1lO3JldHVybiB0JiYoci5vcGFjaXR5PXIud2lkdGg9ZSkscn1mdW5jdGlvbiBjdChlLHQsbil7Zm9yKHZhciBpLHI9KGh0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGh0LnR3ZWVuZXJzW1wiKlwiXSkscz0wLGE9ci5sZW5ndGg7czxhO3MrKylpZihpPXJbc10uY2FsbChuLHQsZSkpcmV0dXJuIGl9ZnVuY3Rpb24gaHQoZSx0LG4pe3ZhciBpLHIscz0wLGE9aHQucHJlZmlsdGVycy5sZW5ndGgsbz13LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGQuZWxlbX0pLGQ9ZnVuY3Rpb24oKXtpZihyKXJldHVybiExO2Zvcih2YXIgdD1pdHx8ZHQoKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxpPTEtKG4vbC5kdXJhdGlvbnx8MCkscz0wLGE9bC50d2VlbnMubGVuZ3RoO3M8YTtzKyspbC50d2VlbnNbc10ucnVuKGkpO3JldHVybiBvLm5vdGlmeVdpdGgoZSxbbCxpLG5dKSxpPDEmJmE/bjooYXx8by5ub3RpZnlXaXRoKGUsW2wsMSwwXSksby5yZXNvbHZlV2l0aChlLFtsXSksITEpfSxsPW8ucHJvbWlzZSh7ZWxlbTplLHByb3BzOncuZXh0ZW5kKHt9LHQpLG9wdHM6dy5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOncuZWFzaW5nLl9kZWZhdWx0fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6aXR8fGR0KCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgaT13LlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2goaSksaX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLGk9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihyKXJldHVybiB0aGlzO2ZvcihyPSEwO248aTtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0PyhvLm5vdGlmeVdpdGgoZSxbbCwxLDBdKSxvLnJlc29sdmVXaXRoKGUsW2wsdF0pKTpvLnJlamVjdFdpdGgoZSxbbCx0XSksdGhpc319KSxjPWwucHJvcHM7Zm9yKCFmdW5jdGlvbihlLHQpe3ZhciBuLGkscixzLGE7Zm9yKG4gaW4gZSlpZihyPXRbaT1WKG4pXSxzPWVbbl0sQXJyYXkuaXNBcnJheShzKSYmKHI9c1sxXSxzPWVbbl09c1swXSksbiE9PWkmJihlW2ldPXMsZGVsZXRlIGVbbl0pLChhPXcuY3NzSG9va3NbaV0pJiZcImV4cGFuZFwiaW4gYSlmb3IobiBpbiBzPWEuZXhwYW5kKHMpLGRlbGV0ZSBlW2ldLHMpbiBpbiBlfHwoZVtuXT1zW25dLHRbbl09cik7ZWxzZSB0W2ldPXJ9KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO3M8YTtzKyspaWYoaT1odC5wcmVmaWx0ZXJzW3NdLmNhbGwobCxlLGMsbC5vcHRzKSlyZXR1cm4geShpLnN0b3ApJiYody5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPWkuc3RvcC5iaW5kKGkpKSxpO3JldHVybiB3Lm1hcChjLGN0LGwpLHkobC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSx3LmZ4LnRpbWVyKHcuZXh0ZW5kKGQse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9dy5BbmltYXRpb249dy5leHRlbmQoaHQse3R3ZWVuZXJzOntcIipcIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIGxlKG4uZWxlbSxlLHNlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7eShlKT8odD1lLGU9W1wiKlwiXSk6ZT1lLm1hdGNoKEkpO2Zvcih2YXIgbixpPTAscj1lLmxlbmd0aDtpPHI7aSsrKW49ZVtpXSxodC50d2VlbmVyc1tuXT1odC50d2VlbmVyc1tuXXx8W10saHQudHdlZW5lcnNbbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIscyxhLG8sZCxsLGMsaD1cIndpZHRoXCJpbiB0fHxcImhlaWdodFwiaW4gdCx1PXRoaXMsZj17fSxwPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZvZShlKSxfPVouZ2V0KGUsXCJmeHNob3dcIik7Zm9yKGkgaW4gbi5xdWV1ZXx8KG51bGw9PShhPXcuX3F1ZXVlSG9va3MoZSxcImZ4XCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxvPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxvKCl9KSxhLnVucXVldWVkKyssdS5hbHdheXMoZnVuY3Rpb24oKXt1LmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSx3LnF1ZXVlKGUsXCJmeFwiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihyPXRbaV0sc3QudGVzdChyKSl7aWYoZGVsZXRlIHRbaV0scz1zfHxcInRvZ2dsZVwiPT09cixyPT09KGc/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PXJ8fCFffHx2b2lkIDA9PT1fW2ldKWNvbnRpbnVlO2c9ITB9ZltpXT1fJiZfW2ldfHx3LnN0eWxlKGUsaSl9aWYoKGQ9IXcuaXNFbXB0eU9iamVjdCh0KSl8fCF3LmlzRW1wdHlPYmplY3QoZikpZm9yKGkgaW4gaCYmMT09PWUubm9kZVR5cGUmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSxudWxsPT0obD1fJiZfLmRpc3BsYXkpJiYobD1aLmdldChlLFwiZGlzcGxheVwiKSksXCJub25lXCI9PT0oYz13LmNzcyhlLFwiZGlzcGxheVwiKSkmJihsP2M9bDoodWUoW2VdLCEwKSxsPWUuc3R5bGUuZGlzcGxheXx8bCxjPXcuY3NzKGUsXCJkaXNwbGF5XCIpLHVlKFtlXSkpKSwoXCJpbmxpbmVcIj09PWN8fFwiaW5saW5lLWJsb2NrXCI9PT1jJiZudWxsIT1sKSYmXCJub25lXCI9PT13LmNzcyhlLFwiZmxvYXRcIikmJihkfHwodS5kb25lKGZ1bmN0aW9uKCl7cC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1wLmRpc3BsYXksbD1cIm5vbmVcIj09PWM/XCJcIjpjKSkscC5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpKSxuLm92ZXJmbG93JiYocC5vdmVyZmxvdz1cImhpZGRlblwiLHUuYWx3YXlzKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKSxkPSExLGYpZHx8KF8/XCJoaWRkZW5cImluIF8mJihnPV8uaGlkZGVuKTpfPVouYWNjZXNzKGUsXCJmeHNob3dcIix7ZGlzcGxheTpsfSkscyYmKF8uaGlkZGVuPSFnKSxnJiZ1ZShbZV0sITApLHUuZG9uZShmdW5jdGlvbigpe2ZvcihpIGluIGd8fHVlKFtlXSksWi5yZW1vdmUoZSxcImZ4c2hvd1wiKSxmKXcuc3R5bGUoZSxpLGZbaV0pfSkpLGQ9Y3QoZz9fW2ldOjAsaSx1KSxpIGluIF98fChfW2ldPWQuc3RhcnQsZyYmKGQuZW5kPWQuc3RhcnQsZC5zdGFydD0wKSl9XSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P2h0LnByZWZpbHRlcnMudW5zaGlmdChlKTpodC5wcmVmaWx0ZXJzLnB1c2goZSl9fSksdy5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIGk9ZSYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cyhlKSk/dy5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHx5KGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiF5KHQpJiZ0fTtyZXR1cm4gdy5meC5vZmY/aS5kdXJhdGlvbj0wOlwibnVtYmVyXCIhPXR5cGVvZiBpLmR1cmF0aW9uJiYoaS5kdXJhdGlvbiBpbiB3LmZ4LnNwZWVkcz9pLmR1cmF0aW9uPXcuZnguc3BlZWRzW2kuZHVyYXRpb25dOmkuZHVyYXRpb249dy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPWkucXVldWUmJiEwIT09aS5xdWV1ZXx8KGkucXVldWU9XCJmeFwiKSxpLm9sZD1pLmNvbXBsZXRlLGkuY29tcGxldGU9ZnVuY3Rpb24oKXt5KGkub2xkKSYmaS5vbGQuY2FsbCh0aGlzKSxpLnF1ZXVlJiZ3LmRlcXVldWUodGhpcyxpLnF1ZXVlKX0saX0sdy5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdGhpcy5maWx0ZXIob2UpLmNzcyhcIm9wYWNpdHlcIiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxlLG4saSl9LGFuaW1hdGU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9dy5pc0VtcHR5T2JqZWN0KGUpLHM9dy5zcGVlZCh0LG4saSksYT1mdW5jdGlvbigpe3ZhciB0PWh0KHRoaXMsdy5leHRlbmQoe30sZSkscyk7KHJ8fFouZ2V0KHRoaXMsXCJmaW5pc2hcIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxyfHwhMT09PXMucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUocy5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChuKX07cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihuPXQsdD1lLGU9dm9pZCAwKSx0JiYhMSE9PWUmJnRoaXMucXVldWUoZXx8XCJmeFwiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0hMCxyPW51bGwhPWUmJmUrXCJxdWV1ZUhvb2tzXCIscz13LnRpbWVycyxhPVouZ2V0KHRoaXMpO2lmKHIpYVtyXSYmYVtyXS5zdG9wJiZpKGFbcl0pO2Vsc2UgZm9yKHIgaW4gYSlhW3JdJiZhW3JdLnN0b3AmJmF0LnRlc3QocikmJmkoYVtyXSk7Zm9yKHI9cy5sZW5ndGg7ci0tOylzW3JdLmVsZW0hPT10aGlzfHxudWxsIT1lJiZzW3JdLnF1ZXVlIT09ZXx8KHNbcl0uYW5pbS5zdG9wKG4pLHQ9ITEscy5zcGxpY2UociwxKSk7IXQmJm58fHcuZGVxdWV1ZSh0aGlzLGUpfSl9LGZpbmlzaDpmdW5jdGlvbihlKXtyZXR1cm4hMSE9PWUmJihlPWV8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj1aLmdldCh0aGlzKSxpPW5bZStcInF1ZXVlXCJdLHI9bltlK1wicXVldWVIb29rc1wiXSxzPXcudGltZXJzLGE9aT9pLmxlbmd0aDowO2ZvcihuLmZpbmlzaD0hMCx3LnF1ZXVlKHRoaXMsZSxbXSksciYmci5zdG9wJiZyLnN0b3AuY2FsbCh0aGlzLCEwKSx0PXMubGVuZ3RoO3QtLTspc1t0XS5lbGVtPT09dGhpcyYmc1t0XS5xdWV1ZT09PWUmJihzW3RdLmFuaW0uc3RvcCghMCkscy5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PGE7dCsrKWlbdF0mJmlbdF0uZmluaXNoJiZpW3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBuLmZpbmlzaH0pfX0pLHcuZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oZSx0KXt2YXIgbj13LmZuW3RdO3cuZm5bdF09ZnVuY3Rpb24oZSxpLHIpe3JldHVybiBudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGU/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGx0KHQsITApLGUsaSxyKX19KSx3LmVhY2goe3NsaWRlRG93bjpsdChcInNob3dcIiksc2xpZGVVcDpsdChcImhpZGVcIiksc2xpZGVUb2dnbGU6bHQoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihlLHQpe3cuZm5bZV09ZnVuY3Rpb24oZSxuLGkpe3JldHVybiB0aGlzLmFuaW1hdGUodCxlLG4saSl9fSksdy50aW1lcnM9W10sdy5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49dy50aW1lcnM7Zm9yKGl0PURhdGUubm93KCk7dDxuLmxlbmd0aDt0KyspKGU9blt0XSkoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8dy5meC5zdG9wKCksaXQ9dm9pZCAwfSx3LmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe3cudGltZXJzLnB1c2goZSksdy5meC5zdGFydCgpfSx3LmZ4LmludGVydmFsPTEzLHcuZnguc3RhcnQ9ZnVuY3Rpb24oKXtydHx8KHJ0PSEwLG90KCkpfSx3LmZ4LnN0b3A9ZnVuY3Rpb24oKXtydD1udWxsfSx3LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSx3LmZuLmRlbGF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dy5meCYmdy5meC5zcGVlZHNbZV18fGUsdD10fHxcImZ4XCIsdGhpcy5xdWV1ZSh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9aS5zZXRUaW1lb3V0KHQsZSk7bi5zdG9wPWZ1bmN0aW9uKCl7aS5jbGVhclRpbWVvdXQocil9fSl9LGZ1bmN0aW9uKCl7dmFyIGU9by5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdD1vLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIikuYXBwZW5kQ2hpbGQoby5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtlLnR5cGU9XCJjaGVja2JveFwiLHYuY2hlY2tPbj1cIlwiIT09ZS52YWx1ZSx2Lm9wdFNlbGVjdGVkPXQuc2VsZWN0ZWQsKGU9by5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIikpLnZhbHVlPVwidFwiLGUudHlwZT1cInJhZGlvXCIsdi5yYWRpb1ZhbHVlPVwidFwiPT09ZS52YWx1ZX0oKTt2YXIgdXQsZnQ9dy5leHByLmF0dHJIYW5kbGU7dy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSyh0aGlzLHcuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIGkscixzPWUubm9kZVR5cGU7aWYoMyE9PXMmJjghPT1zJiYyIT09cylyZXR1cm4gdm9pZCAwPT09ZS5nZXRBdHRyaWJ1dGU/dy5wcm9wKGUsdCxuKTooMT09PXMmJncuaXNYTUxEb2MoZSl8fChyPXcuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fCh3LmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP3V0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCB3LnJlbW92ZUF0dHIoZSx0KTpyJiZcInNldFwiaW4gciYmdm9pZCAwIT09KGk9ci5zZXQoZSxuLHQpKT9pOihlLnNldEF0dHJpYnV0ZSh0LG4rXCJcIiksbik6ciYmXCJnZXRcImluIHImJm51bGwhPT0oaT1yLmdldChlLHQpKT9pOm51bGw9PShpPXcuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDppKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZighdi5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT10JiZPKGUsXCJpbnB1dFwiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLGk9MCxyPXQmJnQubWF0Y2goSSk7aWYociYmMT09PWUubm9kZVR5cGUpZm9yKDtuPXJbaSsrXTspZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksdXQ9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P3cucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LHcuZWFjaCh3LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgbj1mdFt0XXx8dy5maW5kLmF0dHI7ZnRbdF09ZnVuY3Rpb24oZSx0LGkpe3ZhciByLHMsYT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl8fChzPWZ0W2FdLGZ0W2FdPXIscj1udWxsIT1uKGUsdCxpKT9hOm51bGwsZnRbYV09cykscn19KTt2YXIgcHQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxndD0vXig/OmF8YXJlYSkkL2k7ZnVuY3Rpb24gX3QoZSl7cmV0dXJuKGUubWF0Y2goSSl8fFtdKS5qb2luKFwiIFwiKX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCJ9ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5tYXRjaChJKXx8W119dy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSyh0aGlzLHcucHJvcCxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbdy5wcm9wRml4W2VdfHxlXX0pfX0pLHcuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLHM9ZS5ub2RlVHlwZTtpZigzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiAxPT09cyYmdy5pc1hNTERvYyhlKXx8KHQ9dy5wcm9wRml4W3RdfHx0LHI9dy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/ciYmXCJzZXRcImluIHImJnZvaWQgMCE9PShpPXIuc2V0KGUsbix0KSk/aTplW3RdPW46ciYmXCJnZXRcImluIHImJm51bGwhPT0oaT1yLmdldChlLHQpKT9pOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD13LmZpbmQuYXR0cihlLFwidGFiaW5kZXhcIik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8Z3QudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7Zm9yOlwiaHRtbEZvclwiLGNsYXNzOlwiY2xhc3NOYW1lXCJ9fSksdi5vcHRTZWxlY3RlZHx8KHcucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSx3LmVhY2goW1widGFiSW5kZXhcIixcInJlYWRPbmx5XCIsXCJtYXhMZW5ndGhcIixcImNlbGxTcGFjaW5nXCIsXCJjZWxsUGFkZGluZ1wiLFwicm93U3BhblwiLFwiY29sU3BhblwiLFwidXNlTWFwXCIsXCJmcmFtZUJvcmRlclwiLFwiY29udGVudEVkaXRhYmxlXCJdLGZ1bmN0aW9uKCl7dy5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLHcuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLGkscixzLGEsbyxkPTA7aWYoeShlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykuYWRkQ2xhc3MoZS5jYWxsKHRoaXMsdCxtdCh0aGlzKSkpfSk7aWYoKHQ9dnQoZSkpLmxlbmd0aClmb3IoO249dGhpc1tkKytdOylpZihyPW10KG4pLGk9MT09PW4ubm9kZVR5cGUmJlwiIFwiK190KHIpK1wiIFwiKXtmb3IoYT0wO3M9dFthKytdOylpLmluZGV4T2YoXCIgXCIrcytcIiBcIik8MCYmKGkrPXMrXCIgXCIpO3IhPT0obz1fdChpKSkmJm4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixvKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxhLG8sZD0wO2lmKHkoZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt3KHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQsbXQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLFwiXCIpO2lmKCh0PXZ0KGUpKS5sZW5ndGgpZm9yKDtuPXRoaXNbZCsrXTspaWYocj1tdChuKSxpPTE9PT1uLm5vZGVUeXBlJiZcIiBcIitfdChyKStcIiBcIil7Zm9yKGE9MDtzPXRbYSsrXTspZm9yKDtpLmluZGV4T2YoXCIgXCIrcytcIiBcIik+LTE7KWk9aS5yZXBsYWNlKFwiIFwiK3MrXCIgXCIsXCIgXCIpO3IhPT0obz1fdChpKSkmJm4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixvKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj12b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cyhlKSxpPVwic3RyaW5nXCI9PT1ufHxBcnJheS5pc0FycmF5KGUpO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmaT90P3RoaXMuYWRkQ2xhc3MoZSk6dGhpcy5yZW1vdmVDbGFzcyhlKTp5KGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt3KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sbXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxyLHMsYTtpZihpKWZvcihyPTAscz13KHRoaXMpLGE9dnQoZSk7dD1hW3IrK107KXMuaGFzQ2xhc3ModCk/cy5yZW1vdmVDbGFzcyh0KTpzLmFkZENsYXNzKHQpO2Vsc2Ugdm9pZCAwIT09ZSYmXCJib29sZWFuXCIhPT1ufHwoKHQ9bXQodGhpcykpJiZaLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLHQpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdHx8ITE9PT1lP1wiXCI6Wi5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLGk9MDtmb3IodD1cIiBcIitlK1wiIFwiO249dGhpc1tpKytdOylpZigxPT09bi5ub2RlVHlwZSYmKFwiIFwiK190KG10KG4pKStcIiBcIikuaW5kZXhPZih0KT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgeXQ9L1xcci9nO3cuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHI9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT15KGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgcjsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PShyPWk/ZS5jYWxsKHRoaXMsbix3KHRoaXMpLnZhbCgpKTplKT9yPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIHI/cis9XCJcIjpBcnJheS5pc0FycmF5KHIpJiYocj13Lm1hcChyLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6ZStcIlwifSkpLCh0PXcudmFsSG9va3NbdGhpcy50eXBlXXx8dy52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmXCJzZXRcImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMscixcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1yKSl9KSk6cj8odD13LnZhbEhvb2tzW3IudHlwZV18fHcudmFsSG9va3Nbci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJlwiZ2V0XCJpbiB0JiZ2b2lkIDAhPT0obj10LmdldChyLFwidmFsdWVcIikpP246XCJzdHJpbmdcIj09dHlwZW9mKG49ci52YWx1ZSk/bi5yZXBsYWNlKHl0LFwiXCIpOm51bGw9PW4/XCJcIjpuOnZvaWQgMH19KSx3LmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXcuZmluZC5hdHRyKGUsXCJ2YWx1ZVwiKTtyZXR1cm4gbnVsbCE9dD90Ol90KHcudGV4dChlKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXt2YXIgdCxuLGkscj1lLm9wdGlvbnMscz1lLnNlbGVjdGVkSW5kZXgsYT1cInNlbGVjdC1vbmVcIj09PWUudHlwZSxvPWE/bnVsbDpbXSxkPWE/cysxOnIubGVuZ3RoO2ZvcihpPXM8MD9kOmE/czowO2k8ZDtpKyspaWYoKChuPXJbaV0pLnNlbGVjdGVkfHxpPT09cykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IU8obi5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZih0PXcobikudmFsKCksYSlyZXR1cm4gdDtvLnB1c2godCl9cmV0dXJuIG99LHNldDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixpLHI9ZS5vcHRpb25zLHM9dy5tYWtlQXJyYXkodCksYT1yLmxlbmd0aDthLS07KSgoaT1yW2FdKS5zZWxlY3RlZD13LmluQXJyYXkody52YWxIb29rcy5vcHRpb24uZ2V0KGkpLHMpPi0xKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxzfX19fSksdy5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe3cudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD13LmluQXJyYXkodyhlKS52YWwoKSx0KT4tMX19LHYuY2hlY2tPbnx8KHcudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6ZS52YWx1ZX0pfSksdi5mb2N1c2luPVwib25mb2N1c2luXCJpbiBpO3ZhciBidD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07dy5leHRlbmQody5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgYSxkLGwsYyxoLHUsZixwLF89W258fG9dLG09Zy5jYWxsKGUsXCJ0eXBlXCIpP2UudHlwZTplLHY9Zy5jYWxsKGUsXCJuYW1lc3BhY2VcIik/ZS5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpOltdO2lmKGQ9cD1sPW49bnx8bywzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFidC50ZXN0KG0rdy5ldmVudC50cmlnZ2VyZWQpJiYobS5pbmRleE9mKFwiLlwiKT4tMSYmKHY9bS5zcGxpdChcIi5cIiksbT12LnNoaWZ0KCksdi5zb3J0KCkpLGg9bS5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrbSwoZT1lW3cuZXhwYW5kb10/ZTpuZXcgdy5FdmVudChtLFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnMoZSkpJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPXYuam9pbihcIi5cIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIit2LmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGUucmVzdWx0PXZvaWQgMCxlLnRhcmdldHx8KGUudGFyZ2V0PW4pLHQ9bnVsbD09dD9bZV06dy5tYWtlQXJyYXkodCxbZV0pLGY9dy5ldmVudC5zcGVjaWFsW21dfHx7fSxyfHwhZi50cmlnZ2VyfHwhMSE9PWYudHJpZ2dlci5hcHBseShuLHQpKSl7aWYoIXImJiFmLm5vQnViYmxlJiYhYihuKSl7Zm9yKGM9Zi5kZWxlZ2F0ZVR5cGV8fG0sYnQudGVzdChjK20pfHwoZD1kLnBhcmVudE5vZGUpO2Q7ZD1kLnBhcmVudE5vZGUpXy5wdXNoKGQpLGw9ZDtsPT09KG4ub3duZXJEb2N1bWVudHx8bykmJl8ucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8aSl9Zm9yKGE9MDsoZD1fW2ErK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylwPWQsZS50eXBlPWE+MT9jOmYuYmluZFR5cGV8fG0sKHU9KFouZ2V0KGQsXCJldmVudHNcIil8fHt9KVtlLnR5cGVdJiZaLmdldChkLFwiaGFuZGxlXCIpKSYmdS5hcHBseShkLHQpLCh1PWgmJmRbaF0pJiZ1LmFwcGx5JiZHKGQpJiYoZS5yZXN1bHQ9dS5hcHBseShkLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1tLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGYuX2RlZmF1bHQmJiExIT09Zi5fZGVmYXVsdC5hcHBseShfLnBvcCgpLHQpfHwhRyhuKXx8aCYmeShuW21dKSYmIWIobikmJigobD1uW2hdKSYmKG5baF09bnVsbCksdy5ldmVudC50cmlnZ2VyZWQ9bSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJnAuYWRkRXZlbnRMaXN0ZW5lcihtLHh0KSxuW21dKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZwLnJlbW92ZUV2ZW50TGlzdGVuZXIobSx4dCksdy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGwmJihuW2hdPWwpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT13LmV4dGVuZChuZXcgdy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTt3LmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpfX0pLHcuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIHcuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSksdi5mb2N1c2lufHx3LmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3cuZXZlbnQuc2ltdWxhdGUodCxlLnRhcmdldCx3LmV2ZW50LmZpeChlKSl9O3cuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMscj1aLmFjY2VzcyhpLHQpO3J8fGkuYWRkRXZlbnRMaXN0ZW5lcihlLG4sITApLFouYWNjZXNzKGksdCwocnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLHI9Wi5hY2Nlc3MoaSx0KS0xO3I/Wi5hY2Nlc3MoaSx0LHIpOihpLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCEwKSxaLnJlbW92ZShpLHQpKX19fSk7dmFyIGp0PWkubG9jYXRpb24sa3Q9RGF0ZS5ub3coKSx3dD0vXFw/Lzt3LnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7dD0obmV3IGkuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpfWNhdGNoKGUpe3Q9dm9pZCAwfXJldHVybiB0JiYhdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aHx8dy5lcnJvcihcIkludmFsaWQgWE1MOiBcIitlKSx0fTt2YXIgQ3Q9L1xcW1xcXSQvLFR0PS9cXHI/XFxuL2csTnQ9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFN0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBFdChlLHQsbixpKXt2YXIgcjtpZihBcnJheS5pc0FycmF5KHQpKXcuZWFjaCh0LGZ1bmN0aW9uKHQscil7bnx8Q3QudGVzdChlKT9pKGUscik6RXQoZStcIltcIisoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1yP1widW5kZWZpbmVkXCI6cyhyKSkmJm51bGwhPXI/dDpcIlwiKStcIl1cIixyLG4saSl9KTtlbHNlIGlmKG58fFwib2JqZWN0XCIhPT1rKHQpKWkoZSx0KTtlbHNlIGZvcihyIGluIHQpRXQoZStcIltcIityK1wiXVwiLHRbcl0sbixpKX13LnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT1bXSxyPWZ1bmN0aW9uKGUsdCl7dmFyIG49eSh0KT90KCk6dDtpW2kubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PW4/XCJcIjpuKX07aWYoQXJyYXkuaXNBcnJheShlKXx8ZS5qcXVlcnkmJiF3LmlzUGxhaW5PYmplY3QoZSkpdy5lYWNoKGUsZnVuY3Rpb24oKXtyKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKG4gaW4gZSlFdChuLGVbbl0sdCxyKTtyZXR1cm4gaS5qb2luKFwiJlwiKX0sdy5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiB3LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dy5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gZT93Lm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiF3KHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZTdC50ZXN0KHRoaXMubm9kZU5hbWUpJiYhTnQudGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IWZlLnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49dyh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOkFycmF5LmlzQXJyYXkobik/dy5tYXAobixmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0Lm5hbWUsdmFsdWU6ZS5yZXBsYWNlKFR0LFwiXFxyXFxuXCIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoVHQsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSk7dmFyIEF0PS8lMjAvZyxPdD0vIy4qJC8sTHQ9LyhbPyZdKV89W14mXSovLER0PS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20sUHQ9L14oPzpHRVR8SEVBRCkkLyxxdD0vXlxcL1xcLy8sTXQ9e30sSHQ9e30sRnQ9XCIqL1wiLmNvbmNhdChcIipcIiksSXQ9by5jcmVhdGVFbGVtZW50KFwiYVwiKTtmdW5jdGlvbiAkdChlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtcInN0cmluZ1wiIT10eXBlb2YgdCYmKG49dCx0PVwiKlwiKTt2YXIgaSxyPTAscz10LnRvTG93ZXJDYXNlKCkubWF0Y2goSSl8fFtdO2lmKHkobikpZm9yKDtpPXNbcisrXTspXCIrXCI9PT1pWzBdPyhpPWkuc2xpY2UoMSl8fFwiKlwiLChlW2ldPWVbaV18fFtdKS51bnNoaWZ0KG4pKTooZVtpXT1lW2ldfHxbXSkucHVzaChuKX19ZnVuY3Rpb24gUnQoZSx0LG4saSl7dmFyIHI9e30scz1lPT09SHQ7ZnVuY3Rpb24gYShvKXt2YXIgZDtyZXR1cm4gcltvXT0hMCx3LmVhY2goZVtvXXx8W10sZnVuY3Rpb24oZSxvKXt2YXIgbD1vKHQsbixpKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgbHx8c3x8cltsXT9zPyEoZD1sKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQobCksYShsKSwhMSl9KSxkfXJldHVybiBhKHQuZGF0YVR5cGVzWzBdKXx8IXJbXCIqXCJdJiZhKFwiKlwiKX1mdW5jdGlvbiBXdChlLHQpe3ZhciBuLGkscj13LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKG4gaW4gdCl2b2lkIDAhPT10W25dJiYoKHJbbl0/ZTppfHwoaT17fSkpW25dPXRbbl0pO3JldHVybiBpJiZ3LmV4dGVuZCghMCxlLGkpLGV9SXQuaHJlZj1qdC5ocmVmLHcuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpqdC5ocmVmLHR5cGU6XCJHRVRcIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoanQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOkZ0LHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L1xcYnhtbFxcYi8saHRtbDovXFxiaHRtbC8sanNvbjovXFxianNvblxcYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpKU09OLnBhcnNlLFwidGV4dCB4bWxcIjp3LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9XdChXdChlLHcuYWpheFNldHRpbmdzKSx0KTpXdCh3LmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjokdChNdCksYWpheFRyYW5zcG9ydDokdChIdCksYWpheDpmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnMoZSkpJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBuLHIsYSxkLGwsYyxoLHUsZixwLGc9dy5hamF4U2V0dXAoe30sdCksXz1nLmNvbnRleHR8fGcsbT1nLmNvbnRleHQmJihfLm5vZGVUeXBlfHxfLmpxdWVyeSk/dyhfKTp3LmV2ZW50LHY9dy5EZWZlcnJlZCgpLHk9dy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxiPWcuc3RhdHVzQ29kZXx8e30seD17fSxqPXt9LGs9XCJjYW5jZWxlZFwiLEM9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZihoKXtpZighZClmb3IoZD17fTt0PUR0LmV4ZWMoYSk7KWRbdFsxXS50b0xvd2VyQ2FzZSgpXT10WzJdO3Q9ZFtlLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT10P251bGw6dH0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGg/YTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWgmJihlPWpbZS50b0xvd2VyQ2FzZSgpXT1qW2UudG9Mb3dlckNhc2UoKV18fGUseFtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1oJiYoZy5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoaClDLmFsd2F5cyhlW0Muc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBlKWJbdF09W2JbdF0sZVt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWV8fGs7cmV0dXJuIG4mJm4uYWJvcnQodCksVCgwLHQpLHRoaXN9fTtpZih2LnByb21pc2UoQyksZy51cmw9KChlfHxnLnVybHx8anQuaHJlZikrXCJcIikucmVwbGFjZShxdCxqdC5wcm90b2NvbCtcIi8vXCIpLGcudHlwZT10Lm1ldGhvZHx8dC50eXBlfHxnLm1ldGhvZHx8Zy50eXBlLGcuZGF0YVR5cGVzPShnLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChJKXx8W1wiXCJdLG51bGw9PWcuY3Jvc3NEb21haW4pe2M9by5jcmVhdGVFbGVtZW50KFwiYVwiKTt0cnl7Yy5ocmVmPWcudXJsLGMuaHJlZj1jLmhyZWYsZy5jcm9zc0RvbWFpbj1JdC5wcm90b2NvbCtcIi8vXCIrSXQuaG9zdCE9Yy5wcm90b2NvbCtcIi8vXCIrYy5ob3N0fWNhdGNoKGUpe2cuY3Jvc3NEb21haW49ITB9fWlmKGcuZGF0YSYmZy5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIGcuZGF0YSYmKGcuZGF0YT13LnBhcmFtKGcuZGF0YSxnLnRyYWRpdGlvbmFsKSksUnQoTXQsZyx0LEMpLGgpcmV0dXJuIEM7Zm9yKGYgaW4odT13LmV2ZW50JiZnLmdsb2JhbCkmJjA9PXcuYWN0aXZlKysmJncuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxnLnR5cGU9Zy50eXBlLnRvVXBwZXJDYXNlKCksZy5oYXNDb250ZW50PSFQdC50ZXN0KGcudHlwZSkscj1nLnVybC5yZXBsYWNlKE90LFwiXCIpLGcuaGFzQ29udGVudD9nLmRhdGEmJmcucHJvY2Vzc0RhdGEmJjA9PT0oZy5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmKGcuZGF0YT1nLmRhdGEucmVwbGFjZShBdCxcIitcIikpOihwPWcudXJsLnNsaWNlKHIubGVuZ3RoKSxnLmRhdGEmJihnLnByb2Nlc3NEYXRhfHxcInN0cmluZ1wiPT10eXBlb2YgZy5kYXRhKSYmKHIrPSh3dC50ZXN0KHIpP1wiJlwiOlwiP1wiKStnLmRhdGEsZGVsZXRlIGcuZGF0YSksITE9PT1nLmNhY2hlJiYocj1yLnJlcGxhY2UoTHQsXCIkMVwiKSxwPSh3dC50ZXN0KHIpP1wiJlwiOlwiP1wiKStcIl89XCIra3QrKytwKSxnLnVybD1yK3ApLGcuaWZNb2RpZmllZCYmKHcubGFzdE1vZGlmaWVkW3JdJiZDLnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLHcubGFzdE1vZGlmaWVkW3JdKSx3LmV0YWdbcl0mJkMuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIix3LmV0YWdbcl0pKSwoZy5kYXRhJiZnLmhhc0NvbnRlbnQmJiExIT09Zy5jb250ZW50VHlwZXx8dC5jb250ZW50VHlwZSkmJkMuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGcuY29udGVudFR5cGUpLEMuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLGcuZGF0YVR5cGVzWzBdJiZnLmFjY2VwdHNbZy5kYXRhVHlwZXNbMF1dP2cuYWNjZXB0c1tnLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09Zy5kYXRhVHlwZXNbMF0/XCIsIFwiK0Z0K1wiOyBxPTAuMDFcIjpcIlwiKTpnLmFjY2VwdHNbXCIqXCJdKSxnLmhlYWRlcnMpQy5zZXRSZXF1ZXN0SGVhZGVyKGYsZy5oZWFkZXJzW2ZdKTtpZihnLmJlZm9yZVNlbmQmJighMT09PWcuYmVmb3JlU2VuZC5jYWxsKF8sQyxnKXx8aCkpcmV0dXJuIEMuYWJvcnQoKTtpZihrPVwiYWJvcnRcIix5LmFkZChnLmNvbXBsZXRlKSxDLmRvbmUoZy5zdWNjZXNzKSxDLmZhaWwoZy5lcnJvciksbj1SdChIdCxnLHQsQykpe2lmKEMucmVhZHlTdGF0ZT0xLHUmJm0udHJpZ2dlcihcImFqYXhTZW5kXCIsW0MsZ10pLGgpcmV0dXJuIEM7Zy5hc3luYyYmZy50aW1lb3V0PjAmJihsPWkuc2V0VGltZW91dChmdW5jdGlvbigpe0MuYWJvcnQoXCJ0aW1lb3V0XCIpfSxnLnRpbWVvdXQpKTt0cnl7aD0hMSxuLnNlbmQoeCxUKX1jYXRjaChlKXtpZihoKXRocm93IGU7VCgtMSxlKX19ZWxzZSBUKC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIFQoZSx0LHMsbyl7dmFyIGQsYyxmLHAseCxqPXQ7aHx8KGg9ITAsbCYmaS5jbGVhclRpbWVvdXQobCksbj12b2lkIDAsYT1vfHxcIlwiLEMucmVhZHlTdGF0ZT1lPjA/NDowLGQ9ZT49MjAwJiZlPDMwMHx8MzA0PT09ZSxzJiYocD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpLHIscyxhLG89ZS5jb250ZW50cyxkPWUuZGF0YVR5cGVzO1wiKlwiPT09ZFswXTspZC5zaGlmdCgpLHZvaWQgMD09PWkmJihpPWUubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGkpZm9yKHIgaW4gbylpZihvW3JdJiZvW3JdLnRlc3QoaSkpe2QudW5zaGlmdChyKTticmVha31pZihkWzBdaW4gbilzPWRbMF07ZWxzZXtmb3IociBpbiBuKXtpZighZFswXXx8ZS5jb252ZXJ0ZXJzW3IrXCIgXCIrZFswXV0pe3M9cjticmVha31hfHwoYT1yKX1zPXN8fGF9aWYocylyZXR1cm4gcyE9PWRbMF0mJmQudW5zaGlmdChzKSxuW3NdfShnLEMscykpLHA9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIscyxhLG8sZCxsPXt9LGM9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihhIGluIGUuY29udmVydGVycylsW2EudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW2FdO2ZvcihzPWMuc2hpZnQoKTtzOylpZihlLnJlc3BvbnNlRmllbGRzW3NdJiYobltlLnJlc3BvbnNlRmllbGRzW3NdXT10KSwhZCYmaSYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksZD1zLHM9Yy5zaGlmdCgpKWlmKFwiKlwiPT09cylzPWQ7ZWxzZSBpZihcIipcIiE9PWQmJmQhPT1zKXtpZighKGE9bFtkK1wiIFwiK3NdfHxsW1wiKiBcIitzXSkpZm9yKHIgaW4gbClpZigobz1yLnNwbGl0KFwiIFwiKSlbMV09PT1zJiYoYT1sW2QrXCIgXCIrb1swXV18fGxbXCIqIFwiK29bMF1dKSl7ITA9PT1hP2E9bFtyXTohMCE9PWxbcl0mJihzPW9bMF0sYy51bnNoaWZ0KG9bMV0pKTticmVha31pZighMCE9PWEpaWYoYSYmZS50aHJvd3MpdD1hKHQpO2Vsc2UgdHJ5e3Q9YSh0KX1jYXRjaChlKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmE/ZTpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitkK1wiIHRvIFwiK3N9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTp0fX0oZyxwLEMsZCksZD8oZy5pZk1vZGlmaWVkJiYoKHg9Qy5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIikpJiYody5sYXN0TW9kaWZpZWRbcl09eCksKHg9Qy5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIikpJiYody5ldGFnW3JdPXgpKSwyMDQ9PT1lfHxcIkhFQURcIj09PWcudHlwZT9qPVwibm9jb250ZW50XCI6MzA0PT09ZT9qPVwibm90bW9kaWZpZWRcIjooaj1wLnN0YXRlLGM9cC5kYXRhLGQ9IShmPXAuZXJyb3IpKSk6KGY9aiwhZSYmanx8KGo9XCJlcnJvclwiLGU8MCYmKGU9MCkpKSxDLnN0YXR1cz1lLEMuc3RhdHVzVGV4dD0odHx8aikrXCJcIixkP3YucmVzb2x2ZVdpdGgoXyxbYyxqLENdKTp2LnJlamVjdFdpdGgoXyxbQyxqLGZdKSxDLnN0YXR1c0NvZGUoYiksYj12b2lkIDAsdSYmbS50cmlnZ2VyKGQ/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW0MsZyxkP2M6Zl0pLHkuZmlyZVdpdGgoXyxbQyxqXSksdSYmKG0udHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFtDLGddKSwtLXcuYWN0aXZlfHx3LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiBDfSxnZXRKU09OOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdy5nZXQoZSx0LG4sXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdy5nZXQoZSx2b2lkIDAsdCxcInNjcmlwdFwiKX19KSx3LmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGUsdCl7d1t0XT1mdW5jdGlvbihlLG4saSxyKXtyZXR1cm4geShuKSYmKHI9cnx8aSxpPW4sbj12b2lkIDApLHcuYWpheCh3LmV4dGVuZCh7dXJsOmUsdHlwZTp0LGRhdGFUeXBlOnIsZGF0YTpuLHN1Y2Nlc3M6aX0sdy5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSksdy5fZXZhbFVybD1mdW5jdGlvbihlKXtyZXR1cm4gdy5hamF4KHt1cmw6ZSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsdGhyb3dzOiEwfSl9LHcuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYoeShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PXcoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7ZS5maXJzdEVsZW1lbnRDaGlsZDspZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHkoZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykud3JhcElubmVyKGUuY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXcodGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSl9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9eShlKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3codGhpcykud3JhcEFsbCh0P2UuY2FsbCh0aGlzLG4pOmUpfSl9LHVud3JhcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQoZSkubm90KFwiYm9keVwiKS5lYWNoKGZ1bmN0aW9uKCl7dyh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSksdGhpc319KSx3LmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIXcuZXhwci5wc2V1ZG9zLnZpc2libGUoZSl9LHcuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5vZmZzZXRXaWR0aHx8ZS5vZmZzZXRIZWlnaHR8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSx3LmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBpLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe319O3ZhciBCdD17MDoyMDAsMTIyMzoyMDR9LHp0PXcuYWpheFNldHRpbmdzLnhocigpO3YuY29ycz0hIXp0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4genQsdi5hamF4PXp0PSEhenQsdy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGUpe3ZhciB0LG47aWYodi5jb3JzfHx6dCYmIWUuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24ocixzKXt2YXIgYSxvPWUueGhyKCk7aWYoby5vcGVuKGUudHlwZSxlLnVybCxlLmFzeW5jLGUudXNlcm5hbWUsZS5wYXNzd29yZCksZS54aHJGaWVsZHMpZm9yKGEgaW4gZS54aHJGaWVsZHMpb1thXT1lLnhockZpZWxkc1thXTtmb3IoYSBpbiBlLm1pbWVUeXBlJiZvLm92ZXJyaWRlTWltZVR5cGUmJm8ub3ZlcnJpZGVNaW1lVHlwZShlLm1pbWVUeXBlKSxlLmNyb3NzRG9tYWlufHxyW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KHJbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIikscilvLnNldFJlcXVlc3RIZWFkZXIoYSxyW2FdKTt0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3QmJih0PW49by5vbmxvYWQ9by5vbmVycm9yPW8ub25hYm9ydD1vLm9udGltZW91dD1vLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLFwiYWJvcnRcIj09PWU/by5hYm9ydCgpOlwiZXJyb3JcIj09PWU/XCJudW1iZXJcIiE9dHlwZW9mIG8uc3RhdHVzP3MoMCxcImVycm9yXCIpOnMoby5zdGF0dXMsby5zdGF0dXNUZXh0KTpzKEJ0W28uc3RhdHVzXXx8by5zdGF0dXMsby5zdGF0dXNUZXh0LFwidGV4dFwiIT09KG8ucmVzcG9uc2VUeXBlfHxcInRleHRcIil8fFwic3RyaW5nXCIhPXR5cGVvZiBvLnJlc3BvbnNlVGV4dD97YmluYXJ5Om8ucmVzcG9uc2V9Ont0ZXh0Om8ucmVzcG9uc2VUZXh0fSxvLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxvLm9ubG9hZD10KCksbj1vLm9uZXJyb3I9by5vbnRpbWVvdXQ9dChcImVycm9yXCIpLHZvaWQgMCE9PW8ub25hYm9ydD9vLm9uYWJvcnQ9bjpvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1vLnJlYWR5U3RhdGUmJmkuc2V0VGltZW91dChmdW5jdGlvbigpe3QmJm4oKX0pfSx0PXQoXCJhYm9ydFwiKTt0cnl7by5zZW5kKGUuaGFzQ29udGVudCYmZS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZih0KXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe3QmJnQoKX19fSksdy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSx3LmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihlKXtyZXR1cm4gdy5nbG9iYWxFdmFsKGUpLGV9fX0pLHcuYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuY2FjaGUmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPVwiR0VUXCIpfSksdy5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7dmFyIHQsbjtpZihlLmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKGkscil7dD13KFwiPHNjcmlwdD5cIikucHJvcCh7Y2hhcnNldDplLnNjcmlwdENoYXJzZXQsc3JjOmUudXJsfSkub24oXCJsb2FkIGVycm9yXCIsbj1mdW5jdGlvbihlKXt0LnJlbW92ZSgpLG49bnVsbCxlJiZyKFwiZXJyb3JcIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxvLmhlYWQuYXBwZW5kQ2hpbGQodFswXSl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19KTt2YXIgVXQsS3Q9W10sWHQ9Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/Lzt3LmFqYXhTZXR1cCh7anNvbnA6XCJjYWxsYmFja1wiLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1LdC5wb3AoKXx8dy5leHBhbmRvK1wiX1wiK2t0Kys7cmV0dXJuIHRoaXNbZV09ITAsZX19KSx3LmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsZnVuY3Rpb24oZSx0LG4pe3ZhciByLHMsYSxvPSExIT09ZS5qc29ucCYmKFh0LnRlc3QoZS51cmwpP1widXJsXCI6XCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YSYmMD09PShlLmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiZYdC50ZXN0KGUuZGF0YSkmJlwiZGF0YVwiKTtpZihvfHxcImpzb25wXCI9PT1lLmRhdGFUeXBlc1swXSlyZXR1cm4gcj1lLmpzb25wQ2FsbGJhY2s9eShlLmpzb25wQ2FsbGJhY2spP2UuanNvbnBDYWxsYmFjaygpOmUuanNvbnBDYWxsYmFjayxvP2Vbb109ZVtvXS5yZXBsYWNlKFh0LFwiJDFcIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KHd0LnRlc3QoZS51cmwpP1wiJlwiOlwiP1wiKStlLmpzb25wK1wiPVwiK3IpLGUuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIGF8fHcuZXJyb3IocitcIiB3YXMgbm90IGNhbGxlZFwiKSxhWzBdfSxlLmRhdGFUeXBlc1swXT1cImpzb25cIixzPWlbcl0saVtyXT1mdW5jdGlvbigpe2E9YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PXM/dyhpKS5yZW1vdmVQcm9wKHIpOmlbcl09cyxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayxLdC5wdXNoKHIpKSxhJiZ5KHMpJiZzKGFbMF0pLGE9cz12b2lkIDB9KSxcInNjcmlwdFwifSksdi5jcmVhdGVIVE1MRG9jdW1lbnQ9KChVdD1vLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKS5ib2R5KS5pbm5lckhUTUw9XCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiLDI9PT1VdC5jaGlsZE5vZGVzLmxlbmd0aCksdy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlP1tdOihcImJvb2xlYW5cIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdHx8KHYuY3JlYXRlSFRNTERvY3VtZW50PygoaT0odD1vLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKSkuY3JlYXRlRWxlbWVudChcImJhc2VcIikpLmhyZWY9by5sb2NhdGlvbi5ocmVmLHQuaGVhZC5hcHBlbmRDaGlsZChpKSk6dD1vKSxzPSFuJiZbXSwocj1MLmV4ZWMoZSkpP1t0LmNyZWF0ZUVsZW1lbnQoclsxXSldOihyPWplKFtlXSx0LHMpLHMmJnMubGVuZ3RoJiZ3KHMpLnJlbW92ZSgpLHcubWVyZ2UoW10sci5jaGlsZE5vZGVzKSkpO3ZhciBpLHIsc30sdy5mbi5sb2FkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLGEsbz10aGlzLGQ9ZS5pbmRleE9mKFwiIFwiKTtyZXR1cm4gZD4tMSYmKGk9X3QoZS5zbGljZShkKSksZT1lLnNsaWNlKDAsZCkpLHkodCk/KG49dCx0PXZvaWQgMCk6dCYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6cyh0KSkmJihyPVwiUE9TVFwiKSxvLmxlbmd0aD4wJiZ3LmFqYXgoe3VybDplLHR5cGU6cnx8XCJHRVRcIixkYXRhVHlwZTpcImh0bWxcIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe2E9YXJndW1lbnRzLG8uaHRtbChpP3coXCI8ZGl2PlwiKS5hcHBlbmQody5wYXJzZUhUTUwoZSkpLmZpbmQoaSk6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXtvLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsYXx8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSx3LmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihlLHQpe3cuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSx3LmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdy5ncmVwKHcudGltZXJzLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkubGVuZ3RofSx3Lm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLHMsYSxvLGQsbD13LmNzcyhlLFwicG9zaXRpb25cIiksYz13KGUpLGg9e307XCJzdGF0aWNcIj09PWwmJihlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksbz1jLm9mZnNldCgpLHM9dy5jc3MoZSxcInRvcFwiKSxkPXcuY3NzKGUsXCJsZWZ0XCIpLChcImFic29sdXRlXCI9PT1sfHxcImZpeGVkXCI9PT1sKSYmKHMrZCkuaW5kZXhPZihcImF1dG9cIik+LTE/KGE9KGk9Yy5wb3NpdGlvbigpKS50b3Ascj1pLmxlZnQpOihhPXBhcnNlRmxvYXQocyl8fDAscj1wYXJzZUZsb2F0KGQpfHwwKSx5KHQpJiYodD10LmNhbGwoZSxuLHcuZXh0ZW5kKHt9LG8pKSksbnVsbCE9dC50b3AmJihoLnRvcD10LnRvcC1vLnRvcCthKSxudWxsIT10LmxlZnQmJihoLmxlZnQ9dC5sZWZ0LW8ubGVmdCtyKSxcInVzaW5nXCJpbiB0P3QudXNpbmcuY2FsbChlLGgpOmMuY3NzKGgpfX0sdy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihlKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1lP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3cub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgdCxuLGk9dGhpc1swXTtyZXR1cm4gaT9pLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyh0PWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1pLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDp0LnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6dC5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLGk9dGhpc1swXSxyPXt0b3A6MCxsZWZ0OjB9O2lmKFwiZml4ZWRcIj09PXcuY3NzKGksXCJwb3NpdGlvblwiKSl0PWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXtmb3IodD10aGlzLm9mZnNldCgpLG49aS5vd25lckRvY3VtZW50LGU9aS5vZmZzZXRQYXJlbnR8fG4uZG9jdW1lbnRFbGVtZW50O2UmJihlPT09bi5ib2R5fHxlPT09bi5kb2N1bWVudEVsZW1lbnQpJiZcInN0YXRpY1wiPT09dy5jc3MoZSxcInBvc2l0aW9uXCIpOyllPWUucGFyZW50Tm9kZTtlJiZlIT09aSYmMT09PWUubm9kZVR5cGUmJigocj13KGUpLm9mZnNldCgpKS50b3ArPXcuY3NzKGUsXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxyLmxlZnQrPXcuY3NzKGUsXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpfXJldHVybnt0b3A6dC50b3Atci50b3Atdy5jc3MoaSxcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OnQubGVmdC1yLmxlZnQtdy5jc3MoaSxcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMub2Zmc2V0UGFyZW50O2UmJlwic3RhdGljXCI9PT13LmNzcyhlLFwicG9zaXRpb25cIik7KWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fGtlfSl9fSksdy5lYWNoKHtzY3JvbGxMZWZ0OlwicGFnZVhPZmZzZXRcIixzY3JvbGxUb3A6XCJwYWdlWU9mZnNldFwifSxmdW5jdGlvbihlLHQpe3ZhciBuPVwicGFnZVlPZmZzZXRcIj09PXQ7dy5mbltlXT1mdW5jdGlvbihpKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGUsaSxyKXt2YXIgcztpZihiKGUpP3M9ZTo5PT09ZS5ub2RlVHlwZSYmKHM9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09cilyZXR1cm4gcz9zW3RdOmVbaV07cz9zLnNjcm9sbFRvKG4/cy5wYWdlWE9mZnNldDpyLG4/cjpzLnBhZ2VZT2Zmc2V0KTplW2ldPXJ9LGUsaSxhcmd1bWVudHMubGVuZ3RoKX19KSx3LmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGUsdCl7dy5jc3NIb29rc1t0XT1VZSh2LnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSxuKXtpZihuKXJldHVybiBuPXplKGUsdCksUmUudGVzdChuKT93KGUpLnBvc2l0aW9uKClbdF0rXCJweFwiOm59KX0pLHcuZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihlLHQpe3cuZWFjaCh7cGFkZGluZzpcImlubmVyXCIrZSxjb250ZW50OnQsXCJcIjpcIm91dGVyXCIrZX0sZnVuY3Rpb24obixpKXt3LmZuW2ldPWZ1bmN0aW9uKHIscyl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCYmKG58fFwiYm9vbGVhblwiIT10eXBlb2Ygciksbz1ufHwoITA9PT1yfHwhMD09PXM/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKHQsbixyKXt2YXIgcztyZXR1cm4gYih0KT8wPT09aS5pbmRleE9mKFwib3V0ZXJcIik/dFtcImlubmVyXCIrZV06dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIitlXTo5PT09dC5ub2RlVHlwZT8ocz10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbXCJzY3JvbGxcIitlXSxzW1wic2Nyb2xsXCIrZV0sdC5ib2R5W1wib2Zmc2V0XCIrZV0sc1tcIm9mZnNldFwiK2VdLHNbXCJjbGllbnRcIitlXSkpOnZvaWQgMD09PXI/dy5jc3ModCxuLG8pOncuc3R5bGUodCxuLHIsbyl9LHQsYT9yOnZvaWQgMCxhKX19KX0pLHcuZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSx0KXt3LmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxlLG4pOnRoaXMudHJpZ2dlcih0KX19KSx3LmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9fSksdy5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdGhpcy5vbih0LGUsbixpKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsXCIqKlwiKTp0aGlzLm9mZih0LGV8fFwiKipcIixuKX19KSx3LnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLHkoZSkpcmV0dXJuIGk9bC5jYWxsKGFyZ3VtZW50cywyKSwocj1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsaS5jb25jYXQobC5jYWxsKGFyZ3VtZW50cykpKX0pLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8dy5ndWlkKysscn0sdy5ob2xkUmVhZHk9ZnVuY3Rpb24oZSl7ZT93LnJlYWR5V2FpdCsrOncucmVhZHkoITApfSx3LmlzQXJyYXk9QXJyYXkuaXNBcnJheSx3LnBhcnNlSlNPTj1KU09OLnBhcnNlLHcubm9kZU5hbWU9Tyx3LmlzRnVuY3Rpb249eSx3LmlzV2luZG93PWIsdy5jYW1lbENhc2U9Vix3LnR5cGU9ayx3Lm5vdz1EYXRlLm5vdyx3LmlzTnVtZXJpYz1mdW5jdGlvbihlKXt2YXIgdD13LnR5cGUoZSk7cmV0dXJuKFwibnVtYmVyXCI9PT10fHxcInN0cmluZ1wiPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSx2b2lkIDA9PT0obj1mdW5jdGlvbigpe3JldHVybiB3fS5hcHBseSh0LFtdKSl8fChlLmV4cG9ydHM9bik7dmFyIFl0PWkualF1ZXJ5LEp0PWkuJDtyZXR1cm4gdy5ub0NvbmZsaWN0PWZ1bmN0aW9uKGUpe3JldHVybiBpLiQ9PT13JiYoaS4kPUp0KSxlJiZpLmpRdWVyeT09PXcmJihpLmpRdWVyeT1ZdCksd30scnx8KGkualF1ZXJ5PWkuJD13KSx3fSxcIm9iamVjdFwiPT09cyhlKSYmXCJvYmplY3RcIj09PXMoZS5leHBvcnRzKT9lLmV4cG9ydHM9aS5kb2N1bWVudD9yKGksITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIHIoZSl9OnIoaSl9KS5jYWxsKHRoaXMsbig1KShlKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk5nVWlUb29sdGlwSW5pdD10Lk5nVWlUcmVlSW5pdD10Lk5nVWlUYWJzSW5pdD10Lk5nVWlCdG5Jbml0PXQuTmdVaUluaXQ9dm9pZCAwO3ZhciBpPWwobigyKSkscj1sKG4oMykpLHM9bChuKDQpKSxhPWwobig3KSksbz1sKG4oOCkpLGQ9bChuKDkpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBjKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZXx8XCJuZy11aS1idG5cIik7W10uZm9yRWFjaC5jYWxsKHQsZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZSl9KX1mdW5jdGlvbiBoKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZXx8XCJuZy11aS10YWJzXCIpO1tdLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgci5kZWZhdWx0KGUpfSl9ZnVuY3Rpb24gdShlLHQpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZXx8XCJuZy11aS10cmVlLXdyYXBwZXJcIik7W10uZm9yRWFjaC5jYWxsKG4sZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZSx0KX0pfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlfHxcIm5nLXVpLXR0XCIpO1tdLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgby5kZWZhdWx0KGUpfSl9dC5OZ1VpSW5pdD1mdW5jdGlvbigpe3ZhciBlLHQsbjtjKCksaCgpLHUoKSxmKCksKDAsZC5kZWZhdWx0KSgpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlfHxcIm5nLXVpLXNpZGViYXItcmVzaXphYmxlXCIpLFtdLmZvckVhY2guY2FsbChuLGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYS5kZWZhdWx0KGUsdHx8e2Nvbm5lY3RXaXRoOlwiLm5nLXVpLWxvZ29cIn0pfSl9LHQuTmdVaUJ0bkluaXQ9Yyx0Lk5nVWlUYWJzSW5pdD1oLHQuTmdVaVRyZWVJbml0PXUsdC5OZ1VpVG9vbHRpcEluaXQ9Zn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5lbD10LHRoaXMuaW5pdCgpfXJldHVybiBpKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsLmRhdGFzZXQubmd1aWJ0bnx8KHRoaXMuc2V0dXBFdmVudHMoKSx0aGlzLmVsLmRhdGFzZXQubmd1aWJ0bj0hMCl9fSx7a2V5Olwic2V0dXBFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLmN1cnJlbnRUYXJnZXQuYXR0cmlidXRlcy5kaXNhYmxlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24odCl7ZS5yZW1vdmVFZmZlY3QoKSxlLmFkZEVmZmVjdCh0KX0pfX0se2tleTpcImFkZEVmZmVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3QuY2xhc3NMaXN0LmFkZChcIm5nLXVpLWJ0bi1lZmZlY3RcIiksdGhpcy5lbC5hcHBlbmRDaGlsZCh0KSx0aGlzLmNhbGNQb3MoZSx0KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIix0aGlzLnJlbW92ZUVmZmVjdC5iaW5kKHRoaXMpKX19LHtrZXk6XCJyZW1vdmVFZmZlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWwucXVlcnlTZWxlY3RvcihcIi5uZy11aS1idG4tZWZmZWN0XCIpJiZ0aGlzLmVsLnJlbW92ZUNoaWxkKHRoaXMuZWwucXVlcnlTZWxlY3RvcihcIi5uZy11aS1idG4tZWZmZWN0XCIpKX19LHtrZXk6XCJjYWxjUG9zXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmVsLm9mZnNldFdpZHRoLGk9ZS5wYWdlWC10aGlzLmVsLm9mZnNldExlZnQscj1pPD1uLzI/Mi40KihuLWkpOjIuNCppLHM9e2xlZnQ6aStcInB4XCIsdG9wOmUucGFnZVktdGhpcy5lbC5vZmZzZXRUb3ArXCJweFwiLHdpZHRoOnIrXCJweFwiLGhlaWdodDpyK1wicHhcIn07T2JqZWN0LmFzc2lnbih0LnN0eWxlLHMpfX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmVsPXQsdGhpcy5jb250cm9scz10aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmctdWktdGFiLWNvbnRyb2xcIiksdGhpcy5pbml0KCl9cmV0dXJuIGkoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWwuZGF0YXNldC5uZ3VpdGFic3x8KHRoaXMuZWwuZGF0YXNldC5uZ3VpdGFicz0hMCx0aGlzLnNldHVwRXZlbnRzKCksdGhpcy5pbml0aWFsU2VsZWN0KCkpfX0se2tleTpcImluaXRpYWxTZWxlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udHJvbHNbMF07bG9jYWxTdG9yYWdlLnRhZ3NUYWJBY3RpdmUmJnRoaXMuY29udHJvbHMuZm9yRWFjaChmdW5jdGlvbih0KXt0Lmhhc2g9PT1sb2NhbFN0b3JhZ2UudGFnc1RhYkFjdGl2ZSYmKGU9dCl9KSx0aGlzLnNob3dUYWIoZSl9fSx7a2V5Olwic2V0dXBFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5jb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXQuY3VycmVudFRhcmdldDtsb2NhbFN0b3JhZ2UudGFnc1RhYkFjdGl2ZT1uLmhhc2gsZS50b2dnbGVBY3RpdmUobil9KX0pfX0se2tleTpcInRvZ2dsZUFjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZGVhY3RpdmF0ZVRhYigpLHRoaXMuc2hvd1RhYihlKX19LHtrZXk6XCJkZWFjdGl2YXRlVGFiXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10YWJdLmFjdGl2ZVwiKTt0aGlzLmNvbnRyb2xzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSYmZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIil9KSxlJiZlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIil9fSx7a2V5Olwic2hvd1RhYlwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UmJmUucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO3ZhciB0PXRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtdGFiPVwiJytlLmhhc2grJ1wiXScpO3QmJnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKX19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1uKDApLGE9KGk9cykmJmkuX19lc01vZHVsZT9pOntkZWZhdWx0Oml9O24oNik7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxlLmRhdGFzZXQubmd1aXRyZWV8fCh0aGlzLnNldHRpbmdzPU9iamVjdC5hc3NpZ24oe30se21vZGFsOiExLHRyZWVDbGFzc05hbWU6XCJuZy11aS10cmVlXCIsbW9kYWxDbGFzc05hbWU6XCJuZy1tb2RhbFwifSxuKSx0aGlzLmVsPWUsdGhpcy50cmVlPXRoaXMuZWwucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLnNldHRpbmdzLnRyZWVDbGFzc05hbWUpLHRoaXMuJHRyZWU9KDAsYS5kZWZhdWx0KSh0aGlzLnRyZWUpLHRoaXMuZGlzYWJsZVN1YnRyZWU9dGhpcy50cmVlLmRhdGFzZXQuZGlzYWJsZXN1YnRyZWUsdGhpcy5zZXR0aW5ncy5tb2RhbCYmKHRoaXMubW9kYWw9dGhpcy5lbC5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuc2V0dGluZ3MubW9kYWxDbGFzc05hbWUpLHRoaXMubW9kYWxJbml0KCkpLHRoaXMudHJlZUluaXQoKSl9cmV0dXJuIHIodCxbe2tleTpcInRyZWVJbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2UuJD1lLmpRdWVyeT1hLmRlZmF1bHQsdGhpcy5lbC5kYXRhc2V0Lm5ndWl0cmVlPSEwLHRoaXMuJHRyZWUuanN0cmVlKHtwbHVnaW5zOltcInNvcnRcIixcImNvbnRleHRtZW51XCIsXCJ1aVwiXSxjb250ZXh0bWVudTp7c2VsZWN0X25vZGU6ITEsaXRlbXM6dGhpcy5zZXR0aW5ncy5tb2RhbD9cIlwiOnQudHJlZUNvbnRleHRNZW51fSxjb3JlOnt3b3JrZXI6ITEsZGF0YTp7dXJsOmZ1bmN0aW9uKGUpe3ZhciB0PW4udHJlZS5kYXRhc2V0LnBhdGgsaT1uLnRyZWUuZGF0YXNldC5yb290aXRlbWlkO3JldHVybiB0LnJlcGxhY2UoXCJfaXRlbUlkX1wiLGUuaWQpLnJlcGxhY2UoXCIjXCIsaStcIi90cnVlXCIpfX0sdGhlbWVzOntuYW1lOlwibmctdWlcIn19fSkub24oXCJyZWFkeS5qc3RyZWVcIixmdW5jdGlvbihlLHQpe3ZhciBpPW4udHJlZS5kYXRhc2V0LnNlbGVjdGVkaXRlbXBhdGh8fFwiLzAvXCI7aT1pLnJlcGxhY2UoL15cXC8vLFwiXCIpLnJlcGxhY2UoL1xcLyQvLFwiXCIpLnNwbGl0KFwiL1wiKSxuLiR0cmVlLmpzdHJlZSghMCkubG9hZF9ub2RlKGksZnVuY3Rpb24oKXt2YXIgZT1pW2kubGVuZ3RoLTFdO3QuaW5zdGFuY2Uuc2VsZWN0X25vZGUoZSksbi5zZXR0aW5ncy5tb2RhbHx8bi4kdHJlZS5maW5kKFwiYSNcIitlK1wiX2FuY2hvclwiKS5hZGRDbGFzcyhcInNlbGVjdGVkXCIpfSksXCJcIiE9PW4uZGlzYWJsZVN1YnRyZWUmJm4uZGlzYWJsZVN1YnRyZWUudG9TdHJpbmcoKS5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihlKXtuLmRpc2FibGVOb2RlKGUpfSl9KS5vbihcImxvYWRfbm9kZS5qc3RyZWVcIixmdW5jdGlvbihlLHQpe1wiXCIhPT1uLmRpc2FibGVTdWJ0cmVlJiYtMSE9PW4uZGlzYWJsZVN1YnRyZWUudG9TdHJpbmcoKS5zcGxpdChcIixcIikuaW5kZXhPZih0Lm5vZGUuaWQpJiZuLmRpc2FibGVOb2RlKHQubm9kZS5pZCl9KS5vbihcIm9wZW5fbm9kZS5qc3RyZWVcIixmdW5jdGlvbigpe1wiXCIhPT1uLmRpc2FibGVTdWJ0cmVlJiZuLmRpc2FibGVOb2RlKG4uZGlzYWJsZVN1YnRyZWUpfSkub24oXCJjbGlja1wiLFwiLmpzdHJlZS1hbmNob3JcIixmdW5jdGlvbihlKXt2YXIgdD0oMCxhLmRlZmF1bHQpKGUuY3VycmVudFRhcmdldCkuanN0cmVlKCEwKS5nZXRfbm9kZSgoMCxhLmRlZmF1bHQpKGUuY3VycmVudFRhcmdldCkpO2lmKFwiXCIhPT1uLmRpc2FibGVTdWJ0cmVlKXtpZihuLmRpc2FibGVTdWJ0cmVlPW4uZGlzYWJsZVN1YnRyZWUudG9TdHJpbmcoKS5zcGxpdChcIixcIiksLTEhPT1uLmRpc2FibGVTdWJ0cmVlLmluZGV4T2YodC5pZCkpcmV0dXJuO2lmKG4uZGlzYWJsZVN1YnRyZWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09dC5wYXJlbnRzLmluZGV4T2YoZSl9KS5sZW5ndGg+MClyZXR1cm59bi5zZXR0aW5ncy5tb2RhbD8obi5lbC5xdWVyeVNlbGVjdG9yKFwiaW5wdXQuaXRlbS1pZFwiKS52YWx1ZT10LmlkLHZvaWQgMD09PXQudGV4dHx8XCIwXCI9PT10LmlkP24uZWwucXVlcnlTZWxlY3RvcihcInNwYW4ubmctdWkta2V5d29yZFwiKS5pbm5lckhUTUw9bi5lbC5kYXRhc2V0Lm5vdmFsdWV0ZXh0Om4uZWwucXVlcnlTZWxlY3RvcihcInNwYW4ubmctdWkta2V5d29yZFwiKS5pbm5lckhUTUw9dC50ZXh0LG4uY2xvc2VNb2RhbCgpKTpkb2N1bWVudC5sb2NhdGlvbi5ocmVmPXQuYV9hdHRyLmhyZWZ9KX19LHtrZXk6XCJkaXNhYmxlTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuJHRyZWUuZmluZChcImxpI1wiK2UpLmFkZENsYXNzKFwiZGlzYWJsZWRcIil9fSx7a2V5OlwibW9kYWxJbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzOygwLGEuZGVmYXVsdCkodGhpcy5lbCkub24oXCJjbGlja1wiLFwiLm1vZGFsLXRyZWUtYnV0dG9uXCIsdGhpcy5vcGVuTW9kYWwuYmluZCh0aGlzKSksKDAsYS5kZWZhdWx0KSh0aGlzLm1vZGFsKS5vbihcImNsaWNrXCIsXCIuY2xvc2VcIix0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKSksKDAsYS5kZWZhdWx0KSh3aW5kb3cpLm9uKFwiY2xpY2tcIixmdW5jdGlvbih0KXt0LnRhcmdldC5jbGFzc05hbWU9PT1lLnNldHRpbmdzLm1vZGFsQ2xhc3NOYW1lJiZlLmNsb3NlTW9kYWwoKX0pfX0se2tleTpcIm9wZW5Nb2RhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5tb2RhbCYmKDAsYS5kZWZhdWx0KSh0aGlzLm1vZGFsKS5zaG93KCl9fSx7a2V5OlwiY2xvc2VNb2RhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5tb2RhbCYmKDAsYS5kZWZhdWx0KSh0aGlzLm1vZGFsKS5oaWRlKCl9fV0sW3trZXk6XCJ0cmVlQ29udGV4dE1lbnVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5kYXRhLmNvbnRleHRfbWVudS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZS5uYW1lXT17bGFiZWw6ZS50ZXh0LGFjdGlvbjpmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5ocmVmPWUudXJsfX19KSx0fX1dKSx0fSgpO3QuZGVmYXVsdD1vfSkuY2FsbCh0aGlzLG4oMTApKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS53ZWJwYWNrUG9seWZpbGx8fChlLmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLGUud2VicGFja1BvbHlmaWxsPTEpLGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscixzLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07cj1bbigwKV0sdm9pZCAwPT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2YoaT1mdW5jdGlvbihlLHQpe1xuLyohXG4gICoganNUcmVlIDMuMy43XG4gICogaHR0cDovL2pzdHJlZS5jb20vXG4gICpcbiAgKiBDb3B5cmlnaHQgKGMpIDIwMTQgSXZhbiBCb3poYW5vdiAoaHR0cDovL3Zha2F0YS5jb20pXG4gICpcbiAgKiBMaWNlbnNlZCBzYW1lIGFzIGpxdWVyeSAtIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2VcbiAgKiAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gICovXG4vKiFcbiAgKiBpZiB1c2luZyBqc2xpbnQgcGxlYXNlIGFsbG93IGZvciB0aGUgalF1ZXJ5IGdsb2JhbCBhbmQgdXNlIGZvbGxvd2luZyBvcHRpb25zOlxuICAqIGpzbGludDogbG9vcGZ1bmM6IHRydWUsIGJyb3dzZXI6IHRydWUsIGFzczogdHJ1ZSwgYml0d2lzZTogdHJ1ZSwgY29udGludWU6IHRydWUsIG5vbWVuOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSwgcmVnZXhwOiB0cnVlLCB1bnBhcmFtOiB0cnVlLCB0b2RvOiB0cnVlLCB3aGl0ZTogdHJ1ZVxuICAqL1xuaWYoIWUuanN0cmVlKXt2YXIgbj0wLGk9ITEscj0hMSxzPSExLG89W10sZD1lKFwic2NyaXB0Omxhc3RcIikuYXR0cihcInNyY1wiKSxsPXdpbmRvdy5kb2N1bWVudDtlLmpzdHJlZT17dmVyc2lvbjpcIjMuMy43XCIsZGVmYXVsdHM6e3BsdWdpbnM6W119LHBsdWdpbnM6e30scGF0aDpkJiYtMSE9PWQuaW5kZXhPZihcIi9cIik/ZC5yZXBsYWNlKC9cXC9bXlxcL10rJC8sXCJcIik6XCJcIixpZHJlZ2V4Oi9bXFxcXDomIV58KClcXFtcXF08PkAqJyt+I1wiOy4sPVxcLSBcXC8ke30lP2BdL2cscm9vdDpcIiNcIn0sZS5qc3RyZWUuY3JlYXRlPWZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IGUuanN0cmVlLmNvcmUoKytuKSxzPWk7cmV0dXJuIGk9ZS5leHRlbmQoITAse30sZS5qc3RyZWUuZGVmYXVsdHMsaSkscyYmcy5wbHVnaW5zJiYoaS5wbHVnaW5zPXMucGx1Z2lucyksZS5lYWNoKGkucGx1Z2lucyxmdW5jdGlvbihlLHQpe1wiY29yZVwiIT09ZSYmKHI9ci5wbHVnaW4odCxpW3RdKSl9KSxlKHQpLmRhdGEoXCJqc3RyZWVcIixyKSxyLmluaXQodCxpKSxyfSxlLmpzdHJlZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZShcIi5qc3RyZWU6anN0cmVlXCIpLmpzdHJlZShcImRlc3Ryb3lcIiksZShsKS5vZmYoXCIuanN0cmVlXCIpfSxlLmpzdHJlZS5jb3JlPWZ1bmN0aW9uKGUpe3RoaXMuX2lkPWUsdGhpcy5fY250PTAsdGhpcy5fd3JrPW51bGwsdGhpcy5fZGF0YT17Y29yZTp7dGhlbWVzOntuYW1lOiExLGRvdHM6ITEsaWNvbnM6ITEsZWxsaXBzaXM6ITF9LHNlbGVjdGVkOltdLGxhc3RfZXJyb3I6e30sd29ya2luZzohMSx3b3JrZXJfcXVldWU6W10sZm9jdXNlZDpudWxsfX19LGUuanN0cmVlLnJlZmVyZW5jZT1mdW5jdGlvbih0KXt2YXIgbj1udWxsLGk9bnVsbDtpZighdHx8IXQuaWR8fHQudGFnTmFtZSYmdC5ub2RlVHlwZXx8KHQ9dC5pZCksIWl8fCFpLmxlbmd0aCl0cnl7aT1lKHQpfWNhdGNoKGUpe31pZighaXx8IWkubGVuZ3RoKXRyeXtpPWUoXCIjXCIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIikpfWNhdGNoKGUpe31yZXR1cm4gaSYmaS5sZW5ndGgmJihpPWkuY2xvc2VzdChcIi5qc3RyZWVcIikpLmxlbmd0aCYmKGk9aS5kYXRhKFwianN0cmVlXCIpKT9uPWk6ZShcIi5qc3RyZWVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcykuZGF0YShcImpzdHJlZVwiKTtpZihpJiZpLl9tb2RlbC5kYXRhW3RdKXJldHVybiBuPWksITF9KSxufSxlLmZuLmpzdHJlZT1mdW5jdGlvbihuKXt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgbixyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxzPW51bGw7cmV0dXJuISghMD09PW4mJiF0aGlzLmxlbmd0aCkmJih0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1lLmpzdHJlZS5yZWZlcmVuY2UodGhpcyksbz1pJiZhP2Fbbl06bnVsbDtpZihzPWkmJm8/by5hcHBseShhLHIpOm51bGwsYXx8aXx8biE9PXQmJiFlLmlzUGxhaW5PYmplY3Qobil8fGUuanN0cmVlLmNyZWF0ZSh0aGlzLG4pLChhJiYhaXx8ITA9PT1uKSYmKHM9YXx8ITEpLG51bGwhPT1zJiZzIT09dClyZXR1cm4hMX0pLG51bGwhPT1zJiZzIT09dD9zOnRoaXMpfSxlLmV4cHIucHNldWRvcy5qc3RyZWU9ZS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUobikuaGFzQ2xhc3MoXCJqc3RyZWVcIikmJmUobikuZGF0YShcImpzdHJlZVwiKSE9PXR9fSksZS5qc3RyZWUuZGVmYXVsdHMuY29yZT17ZGF0YTohMSxzdHJpbmdzOiExLGNoZWNrX2NhbGxiYWNrOiExLGVycm9yOmUubm9vcCxhbmltYXRpb246MjAwLG11bHRpcGxlOiEwLHRoZW1lczp7bmFtZTohMSx1cmw6ITEsZGlyOiExLGRvdHM6ITAsaWNvbnM6ITAsZWxsaXBzaXM6ITEsc3RyaXBlczohMSx2YXJpYW50OiExLHJlc3BvbnNpdmU6ITF9LGV4cGFuZF9zZWxlY3RlZF9vbmxvYWQ6ITAsd29ya2VyOiEwLGZvcmNlX3RleHQ6ITEsZGJsY2xpY2tfdG9nZ2xlOiEwLGxvYWRlZF9zdGF0ZTohMSxyZXN0b3JlX2ZvY3VzOiEwLGtleWJvYXJkOntcImN0cmwtc3BhY2VcIjpmdW5jdGlvbih0KXt0LnR5cGU9XCJjbGlja1wiLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpfSxlbnRlcjpmdW5jdGlvbih0KXt0LnR5cGU9XCJjbGlja1wiLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpfSxsZWZ0OmZ1bmN0aW9uKHQpe2lmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmlzX29wZW4odC5jdXJyZW50VGFyZ2V0KSl0aGlzLmNsb3NlX25vZGUodC5jdXJyZW50VGFyZ2V0KTtlbHNle3ZhciBuPXRoaXMuZ2V0X3BhcmVudCh0LmN1cnJlbnRUYXJnZXQpO24mJm4uaWQhPT1lLmpzdHJlZS5yb290JiZ0aGlzLmdldF9ub2RlKG4sITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX19LHVwOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD10aGlzLmdldF9wcmV2X2RvbShlLmN1cnJlbnRUYXJnZXQpO3QmJnQubGVuZ3RoJiZ0LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX0scmlnaHQ6ZnVuY3Rpb24odCl7aWYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaXNfY2xvc2VkKHQuY3VycmVudFRhcmdldCkpdGhpcy5vcGVuX25vZGUodC5jdXJyZW50VGFyZ2V0LGZ1bmN0aW9uKGUpe3RoaXMuZ2V0X25vZGUoZSwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpfSk7ZWxzZSBpZih0aGlzLmlzX29wZW4odC5jdXJyZW50VGFyZ2V0KSl7dmFyIG49dGhpcy5nZXRfbm9kZSh0LmN1cnJlbnRUYXJnZXQsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXTtuJiZlKHRoaXMuX2ZpcnN0Q2hpbGQobikpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX19LGRvd246ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXRoaXMuZ2V0X25leHRfZG9tKGUuY3VycmVudFRhcmdldCk7dCYmdC5sZW5ndGgmJnQuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpfSxcIipcIjpmdW5jdGlvbihlKXt0aGlzLm9wZW5fYWxsKCl9LGhvbWU6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXRoaXMuX2ZpcnN0Q2hpbGQodGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0pO24mJmUobikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5maWx0ZXIoXCI6dmlzaWJsZVwiKS5mb2N1cygpfSxlbmQ6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1hbmNob3JcIikuZmlsdGVyKFwiOnZpc2libGVcIikubGFzdCgpLmZvY3VzKCl9LGYyOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmVkaXQoZS5jdXJyZW50VGFyZ2V0KX19fSxlLmpzdHJlZS5jb3JlLnByb3RvdHlwZT17cGx1Z2luOmZ1bmN0aW9uKHQsbil7dmFyIGk9ZS5qc3RyZWUucGx1Z2luc1t0XTtyZXR1cm4gaT8odGhpcy5fZGF0YVt0XT17fSxpLnByb3RvdHlwZT10aGlzLG5ldyBpKG4sdGhpcykpOnRoaXN9LGluaXQ6ZnVuY3Rpb24odCxuKXt0aGlzLl9tb2RlbD17ZGF0YTp7fSxjaGFuZ2VkOltdLGZvcmNlX2Z1bGxfcmVkcmF3OiExLHJlZHJhd190aW1lb3V0OiExLGRlZmF1bHRfc3RhdGU6e2xvYWRlZDohMCxvcGVuZWQ6ITEsc2VsZWN0ZWQ6ITEsZGlzYWJsZWQ6ITF9fSx0aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdPXtpZDplLmpzdHJlZS5yb290LHBhcmVudDpudWxsLHBhcmVudHM6W10sY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxzdGF0ZTp7bG9hZGVkOiExfX0sdGhpcy5lbGVtZW50PWUodCkuYWRkQ2xhc3MoXCJqc3RyZWUganN0cmVlLVwiK3RoaXMuX2lkKSx0aGlzLnNldHRpbmdzPW4sdGhpcy5fZGF0YS5jb3JlLnJlYWR5PSExLHRoaXMuX2RhdGEuY29yZS5sb2FkZWQ9ITEsdGhpcy5fZGF0YS5jb3JlLnJ0bD1cInJ0bFwiPT09dGhpcy5lbGVtZW50LmNzcyhcImRpcmVjdGlvblwiKSx0aGlzLmVsZW1lbnRbdGhpcy5fZGF0YS5jb3JlLnJ0bD9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImpzdHJlZS1ydGxcIiksdGhpcy5lbGVtZW50LmF0dHIoXCJyb2xlXCIsXCJ0cmVlXCIpLHRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiLCEwKSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIpfHx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuYmluZCgpLHRoaXMudHJpZ2dlcihcImluaXRcIiksdGhpcy5fZGF0YS5jb3JlLm9yaWdpbmFsX2NvbnRhaW5lcl9odG1sPXRoaXMuZWxlbWVudC5maW5kKFwiID4gdWwgPiBsaVwiKS5jbG9uZSghMCksdGhpcy5fZGF0YS5jb3JlLm9yaWdpbmFsX2NvbnRhaW5lcl9odG1sLmZpbmQoXCJsaVwiKS5hZGRCYWNrKCkuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJighdGhpcy5ub2RlVmFsdWV8fC9eXFxzKyQvLnRlc3QodGhpcy5ub2RlVmFsdWUpKX0pLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5odG1sKFwiPHVsIGNsYXNzPSdqc3RyZWUtY29udGFpbmVyLXVsIGpzdHJlZS1jaGlsZHJlbicgcm9sZT0nZ3JvdXAnPjxsaSBpZD0nalwiK3RoaXMuX2lkK1wiX2xvYWRpbmcnIGNsYXNzPSdqc3RyZWUtaW5pdGlhbC1ub2RlIGpzdHJlZS1sb2FkaW5nIGpzdHJlZS1sZWFmIGpzdHJlZS1sYXN0JyByb2xlPSd0cmVlLWl0ZW0nPjxpIGNsYXNzPSdqc3RyZWUtaWNvbiBqc3RyZWUtb2NsJz48L2k+PGEgY2xhc3M9J2pzdHJlZS1hbmNob3InIGhyZWY9JyMnPjxpIGNsYXNzPSdqc3RyZWUtaWNvbiBqc3RyZWUtdGhlbWVpY29uLWhpZGRlbic+PC9pPlwiK3RoaXMuZ2V0X3N0cmluZyhcIkxvYWRpbmcgLi4uXCIpK1wiPC9hPjwvbGk+PC91bD5cIiksdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixcImpcIit0aGlzLl9pZCtcIl9sb2FkaW5nXCIpLHRoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQ9dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oXCJsaVwiKS5maXJzdCgpLm91dGVySGVpZ2h0KCl8fDI0LHRoaXMuX2RhdGEuY29yZS5ub2RlPXRoaXMuX2NyZWF0ZV9wcm90b3R5cGVfbm9kZSgpLHRoaXMudHJpZ2dlcihcImxvYWRpbmdcIiksdGhpcy5sb2FkX25vZGUoZS5qc3RyZWUucm9vdCl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7aWYodGhpcy50cmlnZ2VyKFwiZGVzdHJveVwiKSx0aGlzLl93cmspdHJ5e3dpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuX3dyayksdGhpcy5fd3JrPW51bGx9Y2F0Y2goZSl7fWV8fHRoaXMuZWxlbWVudC5lbXB0eSgpLHRoaXMudGVhcmRvd24oKX0sX2NyZWF0ZV9wcm90b3R5cGVfbm9kZTpmdW5jdGlvbigpe3ZhciBlLHQsbj1sLmNyZWF0ZUVsZW1lbnQoXCJMSVwiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0cmVlaXRlbVwiKSwoZT1sLmNyZWF0ZUVsZW1lbnQoXCJJXCIpKS5jbGFzc05hbWU9XCJqc3RyZWUtaWNvbiBqc3RyZWUtb2NsXCIsZS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIiksbi5hcHBlbmRDaGlsZChlKSwoZT1sLmNyZWF0ZUVsZW1lbnQoXCJBXCIpKS5jbGFzc05hbWU9XCJqc3RyZWUtYW5jaG9yXCIsZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsXCIjXCIpLGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpLCh0PWwuY3JlYXRlRWxlbWVudChcIklcIikpLmNsYXNzTmFtZT1cImpzdHJlZS1pY29uIGpzdHJlZS10aGVtZWljb25cIix0LnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSxlLmFwcGVuZENoaWxkKHQpLG4uYXBwZW5kQ2hpbGQoZSksZT10PW51bGwsbn0sX2tiZXZlbnRfdG9fZnVuYzpmdW5jdGlvbihlKXt2YXIgdD1bXTtlLmN0cmxLZXkmJnQucHVzaChcImN0cmxcIiksZS5hbHRLZXkmJnQucHVzaChcImFsdFwiKSxlLnNoaWZ0S2V5JiZ0LnB1c2goXCJzaGlmdFwiKSx0LnB1c2goezg6XCJCYWNrc3BhY2VcIiw5OlwiVGFiXCIsMTM6XCJSZXR1cm5cIiwxOTpcIlBhdXNlXCIsMjc6XCJFc2NcIiwzMjpcIlNwYWNlXCIsMzM6XCJQYWdlVXBcIiwzNDpcIlBhZ2VEb3duXCIsMzU6XCJFbmRcIiwzNjpcIkhvbWVcIiwzNzpcIkxlZnRcIiwzODpcIlVwXCIsMzk6XCJSaWdodFwiLDQwOlwiRG93blwiLDQ0OlwiUHJpbnRcIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsOTY6XCJOdW1wYWQwXCIsOTc6XCJOdW1wYWQxXCIsOTg6XCJOdW1wYWQyXCIsOTk6XCJOdW1wYWQzXCIsMTAwOlwiTnVtcGFkNFwiLDEwMTpcIk51bXBhZDVcIiwxMDI6XCJOdW1wYWQ2XCIsMTAzOlwiTnVtcGFkN1wiLDEwNDpcIk51bXBhZDhcIiwxMDU6XCJOdW1wYWQ5XCIsXCItMTNcIjpcIk51bXBhZEVudGVyXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtbG9ja1wiLDE0NTpcIlNjcm9sbGxvY2tcIiwxNjpcIlNoaWZ0XCIsMTc6XCJDdHJsXCIsMTg6XCJBbHRcIiw0ODpcIjBcIiw0OTpcIjFcIiw1MDpcIjJcIiw1MTpcIjNcIiw1MjpcIjRcIiw1MzpcIjVcIiw1NDpcIjZcIiw1NTpcIjdcIiw1NjpcIjhcIiw1NzpcIjlcIiw1OTpcIjtcIiw2MTpcIj1cIiw2NTpcImFcIiw2NjpcImJcIiw2NzpcImNcIiw2ODpcImRcIiw2OTpcImVcIiw3MDpcImZcIiw3MTpcImdcIiw3MjpcImhcIiw3MzpcImlcIiw3NDpcImpcIiw3NTpcImtcIiw3NjpcImxcIiw3NzpcIm1cIiw3ODpcIm5cIiw3OTpcIm9cIiw4MDpcInBcIiw4MTpcInFcIiw4MjpcInJcIiw4MzpcInNcIiw4NDpcInRcIiw4NTpcInVcIiw4NjpcInZcIiw4NzpcIndcIiw4ODpcInhcIiw4OTpcInlcIiw5MDpcInpcIiwxMDc6XCIrXCIsMTA5OlwiLVwiLDExMDpcIi5cIiwxODY6XCI7XCIsMTg3OlwiPVwiLDE4ODpcIixcIiwxODk6XCItXCIsMTkwOlwiLlwiLDE5MTpcIi9cIiwxOTI6XCJgXCIsMjE5OlwiW1wiLDIyMDpcIlxcXFxcIiwyMjE6XCJdXCIsMjIyOlwiJ1wiLDExMTpcIi9cIiwxMDY6XCIqXCIsMTczOlwiLVwifVtlLndoaWNoXXx8ZS53aGljaCksdD10LnNvcnQoKS5qb2luKFwiLVwiKS50b0xvd2VyQ2FzZSgpO3ZhciBuLGkscj10aGlzLnNldHRpbmdzLmNvcmUua2V5Ym9hcmQ7Zm9yKG4gaW4gcilpZihyLmhhc093blByb3BlcnR5KG4pJiYoXCItXCIhPT0oaT1uKSYmXCIrXCIhPT1pJiYoaT0oaT1pLnJlcGxhY2UoXCItLVwiLFwiLU1JTlVTXCIpLnJlcGxhY2UoXCIrLVwiLFwiLU1JTlVTXCIpLnJlcGxhY2UoXCIrK1wiLFwiLVBMVVNcIikucmVwbGFjZShcIi0rXCIsXCItUExVU1wiKSkuc3BsaXQoLy18XFwrLykuc29ydCgpLmpvaW4oXCItXCIpLnJlcGxhY2UoXCJNSU5VU1wiLFwiLVwiKS5yZXBsYWNlKFwiUExVU1wiLFwiK1wiKS50b0xvd2VyQ2FzZSgpKSxpPT09dCkpcmV0dXJuIHJbbl07cmV0dXJuIG51bGx9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dGhpcy51bmJpbmQoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJqc3RyZWVcIikucmVtb3ZlRGF0YShcImpzdHJlZVwiKS5maW5kKFwiW2NsYXNzXj0nanN0cmVlJ11cIikuYWRkQmFjaygpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lLnJlcGxhY2UoL2pzdHJlZVteIF0qfCQvZ2ksXCJcIil9KSx0aGlzLmVsZW1lbnQ9bnVsbH0sYmluZDpmdW5jdGlvbigpe3ZhciB0PVwiXCIsbj1udWxsLGk9MDt0aGlzLmVsZW1lbnQub24oXCJkYmxjbGljay5qc3RyZWVcIixmdW5jdGlvbihlKXtpZihlLnRhcmdldC50YWdOYW1lJiZcImlucHV0XCI9PT1lLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuITA7aWYobC5zZWxlY3Rpb24mJmwuc2VsZWN0aW9uLmVtcHR5KWwuc2VsZWN0aW9uLmVtcHR5KCk7ZWxzZSBpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgdD13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7dHJ5e3QucmVtb3ZlQWxsUmFuZ2VzKCksdC5jb2xsYXBzZSgpfWNhdGNoKGUpe319fSkub24oXCJtb3VzZWRvd24uanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlKXtlLnRhcmdldD09PXRoaXMuZWxlbWVudFswXSYmKGUucHJldmVudERlZmF1bHQoKSxpPStuZXcgRGF0ZSl9LHRoaXMpKS5vbihcIm1vdXNlZG93bi5qc3RyZWVcIixcIi5qc3RyZWUtb2NsXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSkub24oXCJjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtb2NsXCIsZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLnRvZ2dsZV9ub2RlKGUudGFyZ2V0KX0sdGhpcykpLm9uKFwiZGJsY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSl7aWYoZS50YXJnZXQudGFnTmFtZSYmXCJpbnB1dFwiPT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiEwO3RoaXMuc2V0dGluZ3MuY29yZS5kYmxjbGlja190b2dnbGUmJnRoaXMudG9nZ2xlX25vZGUoZS50YXJnZXQpfSx0aGlzKSkub24oXCJjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5jdXJyZW50VGFyZ2V0IT09bC5hY3RpdmVFbGVtZW50JiZlKHQuY3VycmVudFRhcmdldCkuZm9jdXMoKSx0aGlzLmFjdGl2YXRlX25vZGUodC5jdXJyZW50VGFyZ2V0LHQpfSx0aGlzKSkub24oXCJrZXlkb3duLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0LnRhZ05hbWUmJlwiaW5wdXRcIj09PWUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDt0aGlzLl9kYXRhLmNvcmUucnRsJiYoMzc9PT1lLndoaWNoP2Uud2hpY2g9Mzk6Mzk9PT1lLndoaWNoJiYoZS53aGljaD0zNykpO3ZhciB0PXRoaXMuX2tiZXZlbnRfdG9fZnVuYyhlKTtpZih0KXt2YXIgbj10LmNhbGwodGhpcyxlKTtpZighMT09PW58fCEwPT09bilyZXR1cm4gbn19LHRoaXMpKS5vbihcImxvYWRfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7bi5zdGF0dXMmJihuLm5vZGUuaWQhPT1lLmpzdHJlZS5yb290fHx0aGlzLl9kYXRhLmNvcmUubG9hZGVkfHwodGhpcy5fZGF0YS5jb3JlLmxvYWRlZD0hMCx0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIix0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKS5pZCksdGhpcy50cmlnZ2VyKFwibG9hZGVkXCIpKSx0aGlzLl9kYXRhLmNvcmUucmVhZHl8fHNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCYmIXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmZpbmQoXCIuanN0cmVlLWxvYWRpbmdcIikubGVuZ3RoKXtpZih0aGlzLl9kYXRhLmNvcmUucmVhZHk9ITAsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCl7aWYodGhpcy5zZXR0aW5ncy5jb3JlLmV4cGFuZF9zZWxlY3RlZF9vbmxvYWQpe3ZhciB0LG4saT1bXTtmb3IodD0wLG49dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDt0PG47dCsrKWk9aS5jb25jYXQodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbdF1dLnBhcmVudHMpO2ZvcihpPWUudmFrYXRhLmFycmF5X3VuaXF1ZShpKSx0PTAsbj1pLmxlbmd0aDt0PG47dCsrKXRoaXMub3Blbl9ub2RlKGlbdF0sITEsMCl9dGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJyZWFkeVwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pfXRoaXMudHJpZ2dlcihcInJlYWR5XCIpfX0sdGhpcyksMCkpfSx0aGlzKSkub24oXCJrZXlwcmVzcy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGkpe2lmKGkudGFyZ2V0LnRhZ05hbWUmJlwiaW5wdXRcIj09PWkudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDtuJiZjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dD1cIlwifSw1MDApO3ZhciByPVN0cmluZy5mcm9tQ2hhckNvZGUoaS53aGljaCkudG9Mb3dlckNhc2UoKSxzPXRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1hbmNob3JcIikuZmlsdGVyKFwiOnZpc2libGVcIiksYT1zLmluZGV4KGwuYWN0aXZlRWxlbWVudCl8fDAsbz0hMTtpZigodCs9cikubGVuZ3RoPjEpe2lmKHMuc2xpY2UoYSkuZWFjaChlLnByb3h5KGZ1bmN0aW9uKG4saSl7aWYoMD09PWUoaSkudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KSlyZXR1cm4gZShpKS5mb2N1cygpLG89ITAsITF9LHRoaXMpKSxvKXJldHVybjtpZihzLnNsaWNlKDAsYSkuZWFjaChlLnByb3h5KGZ1bmN0aW9uKG4saSl7aWYoMD09PWUoaSkudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KSlyZXR1cm4gZShpKS5mb2N1cygpLG89ITAsITF9LHRoaXMpKSxvKXJldHVybn1pZihuZXcgUmVnRXhwKFwiXlwiK3IucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLFwiXFxcXCQmXCIpK1wiKyRcIikudGVzdCh0KSl7aWYocy5zbGljZShhKzEpLmVhY2goZS5wcm94eShmdW5jdGlvbih0LG4pe2lmKGUobikudGV4dCgpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApPT09cilyZXR1cm4gZShuKS5mb2N1cygpLG89ITAsITF9LHRoaXMpKSxvKXJldHVybjtpZihzLnNsaWNlKDAsYSsxKS5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxuKXtpZihlKG4pLnRleHQoKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKT09PXIpcmV0dXJuIGUobikuZm9jdXMoKSxvPSEwLCExfSx0aGlzKSksbylyZXR1cm59fSx0aGlzKSkub24oXCJpbml0LmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzO3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz1lLmRvdHMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPWUuc3RyaXBlcyx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPWUuaWNvbnMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz1lLmVsbGlwc2lzLHRoaXMuc2V0X3RoZW1lKGUubmFtZXx8XCJkZWZhdWx0XCIsZS51cmwpLHRoaXMuc2V0X3RoZW1lX3ZhcmlhbnQoZS52YXJpYW50KX0sdGhpcykpLm9uKFwibG9hZGluZy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/XCJzaG93X2RvdHNcIjpcImhpZGVfZG90c1wiXSgpLHRoaXNbdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz9cInNob3dfaWNvbnNcIjpcImhpZGVfaWNvbnNcIl0oKSx0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz9cInNob3dfc3RyaXBlc1wiOlwiaGlkZV9zdHJpcGVzXCJdKCksdGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmVsbGlwc2lzP1wic2hvd19lbGxpcHNpc1wiOlwiaGlkZV9lbGxpcHNpc1wiXSgpfSx0aGlzKSkub24oXCJibHVyLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKHQpe3RoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGwsZSh0LmN1cnJlbnRUYXJnZXQpLmZpbHRlcihcIi5qc3RyZWUtaG92ZXJlZFwiKS5tb3VzZWxlYXZlKCksdGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKX0sdGhpcykpLm9uKFwiZm9jdXMuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24odCl7dmFyIG49dGhpcy5nZXRfbm9kZSh0LmN1cnJlbnRUYXJnZXQpO24mJm4uaWQmJih0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1uLmlkKSx0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtaG92ZXJlZFwiKS5ub3QodC5jdXJyZW50VGFyZ2V0KS5tb3VzZWxlYXZlKCksZSh0LmN1cnJlbnRUYXJnZXQpLm1vdXNlZW50ZXIoKSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKX0sdGhpcykpLm9uKFwiZm9jdXMuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe2lmKCtuZXcgRGF0ZS1pPjUwMCYmIXRoaXMuX2RhdGEuY29yZS5mb2N1c2VkJiZ0aGlzLnNldHRpbmdzLmNvcmUucmVzdG9yZV9mb2N1cyl7aT0wO3ZhciBlPXRoaXMuZ2V0X25vZGUodGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiksITApO2UmJmUuZmluZChcIj4gLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX19LHRoaXMpKS5vbihcIm1vdXNlZW50ZXIuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5ob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5kZWhvdmVyX25vZGUoZS5jdXJyZW50VGFyZ2V0KX0sdGhpcykpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKFwiLmpzdHJlZVwiKSxlKGwpLm9mZihcIi5qc3RyZWUtXCIrdGhpcy5faWQpfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLHQuaW5zdGFuY2U9dGhpcyx0aGlzLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoZS5yZXBsYWNlKFwiLmpzdHJlZVwiLFwiXCIpK1wiLmpzdHJlZVwiLHQpfSxnZXRfY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sZ2V0X2NvbnRhaW5lcl91bDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmZpcnN0KCl9LGdldF9zdHJpbmc6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5zZXR0aW5ncy5jb3JlLnN0cmluZ3M7cmV0dXJuIGUuaXNGdW5jdGlvbihuKT9uLmNhbGwodGhpcyx0KTpuJiZuW3RdP25bdF06dH0sX2ZpcnN0Q2hpbGQ6ZnVuY3Rpb24oZSl7Zm9yKGU9ZT9lLmZpcnN0Q2hpbGQ6bnVsbDtudWxsIT09ZSYmMSE9PWUubm9kZVR5cGU7KWU9ZS5uZXh0U2libGluZztyZXR1cm4gZX0sX25leHRTaWJsaW5nOmZ1bmN0aW9uKGUpe2ZvcihlPWU/ZS5uZXh0U2libGluZzpudWxsO251bGwhPT1lJiYxIT09ZS5ub2RlVHlwZTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfSxfcHJldmlvdXNTaWJsaW5nOmZ1bmN0aW9uKGUpe2ZvcihlPWU/ZS5wcmV2aW91c1NpYmxpbmc6bnVsbDtudWxsIT09ZSYmMSE9PWUubm9kZVR5cGU7KWU9ZS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGV9LGdldF9ub2RlOmZ1bmN0aW9uKHQsbil7dmFyIGk7dCYmdC5pZCYmKHQ9dC5pZCksdCBpbnN0YW5jZW9mIGpRdWVyeSYmdC5sZW5ndGgmJnRbMF0uaWQmJih0PXRbMF0uaWQpO3RyeXtpZih0aGlzLl9tb2RlbC5kYXRhW3RdKXQ9dGhpcy5fbW9kZWwuZGF0YVt0XTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLl9tb2RlbC5kYXRhW3QucmVwbGFjZSgvXiMvLFwiXCIpXSl0PXRoaXMuX21vZGVsLmRhdGFbdC5yZXBsYWNlKC9eIy8sXCJcIildO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihpPWUoXCIjXCIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIiksdGhpcy5lbGVtZW50KSkubGVuZ3RoJiZ0aGlzLl9tb2RlbC5kYXRhW2kuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5hdHRyKFwiaWRcIildKXQ9dGhpcy5fbW9kZWwuZGF0YVtpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuYXR0cihcImlkXCIpXTtlbHNlIGlmKChpPXRoaXMuZWxlbWVudC5maW5kKHQpKS5sZW5ndGgmJnRoaXMuX21vZGVsLmRhdGFbaS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmF0dHIoXCJpZFwiKV0pdD10aGlzLl9tb2RlbC5kYXRhW2kuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5hdHRyKFwiaWRcIildO2Vsc2V7aWYoIShpPXRoaXMuZWxlbWVudC5maW5kKHQpKS5sZW5ndGh8fCFpLmhhc0NsYXNzKFwianN0cmVlXCIpKXJldHVybiExO3Q9dGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XX1yZXR1cm4gbiYmKHQ9dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5lbGVtZW50OmUoXCIjXCIrdC5pZC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIiksdGhpcy5lbGVtZW50KSksdH1jYXRjaChlKXtyZXR1cm4hMX19LGdldF9wYXRoOmZ1bmN0aW9uKHQsbixpKXtpZighKHQ9dC5wYXJlbnRzP3Q6dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290fHwhdC5wYXJlbnRzKXJldHVybiExO3ZhciByLHMsYT1bXTtmb3IoYS5wdXNoKGk/dC5pZDp0LnRleHQpLHI9MCxzPXQucGFyZW50cy5sZW5ndGg7cjxzO3IrKylhLnB1c2goaT90LnBhcmVudHNbcl06dGhpcy5nZXRfdGV4dCh0LnBhcmVudHNbcl0pKTtyZXR1cm4gYT1hLnJldmVyc2UoKS5zbGljZSgxKSxuP2Euam9pbihuKTphfSxnZXRfbmV4dF9kb206ZnVuY3Rpb24odCxuKXt2YXIgaTtpZigodD10aGlzLmdldF9ub2RlKHQsITApKVswXT09PXRoaXMuZWxlbWVudFswXSl7Zm9yKGk9dGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSk7aSYmMD09PWkub2Zmc2V0SGVpZ2h0OylpPXRoaXMuX25leHRTaWJsaW5nKGkpO3JldHVybiEhaSYmZShpKX1pZighdHx8IXQubGVuZ3RoKXJldHVybiExO2lmKG4pe2k9dFswXTtkb3tpPXRoaXMuX25leHRTaWJsaW5nKGkpfXdoaWxlKGkmJjA9PT1pLm9mZnNldEhlaWdodCk7cmV0dXJuISFpJiZlKGkpfWlmKHQuaGFzQ2xhc3MoXCJqc3RyZWUtb3BlblwiKSl7Zm9yKGk9dGhpcy5fZmlyc3RDaGlsZCh0LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXSk7aSYmMD09PWkub2Zmc2V0SGVpZ2h0OylpPXRoaXMuX25leHRTaWJsaW5nKGkpO2lmKG51bGwhPT1pKXJldHVybiBlKGkpfWk9dFswXTtkb3tpPXRoaXMuX25leHRTaWJsaW5nKGkpfXdoaWxlKGkmJjA9PT1pLm9mZnNldEhlaWdodCk7cmV0dXJuIG51bGwhPT1pP2UoaSk6dC5wYXJlbnRzVW50aWwoXCIuanN0cmVlXCIsXCIuanN0cmVlLW5vZGVcIikubmV4dEFsbChcIi5qc3RyZWUtbm9kZTp2aXNpYmxlXCIpLmZpcnN0KCl9LGdldF9wcmV2X2RvbTpmdW5jdGlvbih0LG4pe3ZhciBpO2lmKCh0PXRoaXMuZ2V0X25vZGUodCwhMCkpWzBdPT09dGhpcy5lbGVtZW50WzBdKXtmb3IoaT10aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5sYXN0Q2hpbGQ7aSYmMD09PWkub2Zmc2V0SGVpZ2h0OylpPXRoaXMuX3ByZXZpb3VzU2libGluZyhpKTtyZXR1cm4hIWkmJmUoaSl9aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZihuKXtpPXRbMF07ZG97aT10aGlzLl9wcmV2aW91c1NpYmxpbmcoaSl9d2hpbGUoaSYmMD09PWkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4hIWkmJmUoaSl9aT10WzBdO2Rve2k9dGhpcy5fcHJldmlvdXNTaWJsaW5nKGkpfXdoaWxlKGkmJjA9PT1pLm9mZnNldEhlaWdodCk7aWYobnVsbCE9PWkpe2Zvcih0PWUoaSk7dC5oYXNDbGFzcyhcImpzdHJlZS1vcGVuXCIpOyl0PXQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmZpcnN0KCkuY2hpbGRyZW4oXCIuanN0cmVlLW5vZGU6dmlzaWJsZTpsYXN0XCIpO3JldHVybiB0fXJldHVybiEoIShpPXRbMF0ucGFyZW50Tm9kZS5wYXJlbnROb2RlKXx8IWkuY2xhc3NOYW1lfHwtMT09PWkuY2xhc3NOYW1lLmluZGV4T2YoXCJqc3RyZWUtbm9kZVwiKSkmJmUoaSl9LGdldF9wYXJlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuISghKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmdC5wYXJlbnR9LGdldF9jaGlsZHJlbl9kb206ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dGhpcy5nZXRfbm9kZShlLCEwKSlbMF09PT10aGlzLmVsZW1lbnRbMF0/dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oXCIuanN0cmVlLW5vZGVcIik6ISghZXx8IWUubGVuZ3RoKSYmZS5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikuY2hpbGRyZW4oXCIuanN0cmVlLW5vZGVcIil9LGlzX3BhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLmdldF9ub2RlKGUpKSYmKCExPT09ZS5zdGF0ZS5sb2FkZWR8fGUuY2hpbGRyZW4ubGVuZ3RoPjApfSxpc19sb2FkZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dGhpcy5nZXRfbm9kZShlKSkmJmUuc3RhdGUubG9hZGVkfSxpc19sb2FkaW5nOmZ1bmN0aW9uKGUpe3JldHVybihlPXRoaXMuZ2V0X25vZGUoZSkpJiZlLnN0YXRlJiZlLnN0YXRlLmxvYWRpbmd9LGlzX29wZW46ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dGhpcy5nZXRfbm9kZShlKSkmJmUuc3RhdGUub3BlbmVkfSxpc19jbG9zZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dGhpcy5nZXRfbm9kZShlKSkmJnRoaXMuaXNfcGFyZW50KGUpJiYhZS5zdGF0ZS5vcGVuZWR9LGlzX2xlYWY6ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaXNfcGFyZW50KGUpfSxsb2FkX25vZGU6ZnVuY3Rpb24odCxuKXt2YXIgaSxyLHMsYSxvO2lmKGUuaXNBcnJheSh0KSlyZXR1cm4gdGhpcy5fbG9hZF9ub2Rlcyh0LnNsaWNlKCksbiksITA7aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpKXJldHVybiBuJiZuLmNhbGwodGhpcyx0LCExKSwhMTtpZih0LnN0YXRlLmxvYWRlZCl7Zm9yKHQuc3RhdGUubG9hZGVkPSExLHM9MCxhPXQucGFyZW50cy5sZW5ndGg7czxhO3MrKyl0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1tzXV0uY2hpbGRyZW5fZD1lLnZha2F0YS5hcnJheV9maWx0ZXIodGhpcy5fbW9kZWwuZGF0YVt0LnBhcmVudHNbc11dLmNoaWxkcmVuX2QsZnVuY3Rpb24obil7cmV0dXJuLTE9PT1lLmluQXJyYXkobix0LmNoaWxkcmVuX2QpfSk7Zm9yKGk9MCxyPXQuY2hpbGRyZW5fZC5sZW5ndGg7aTxyO2krKyl0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtpXV0uc3RhdGUuc2VsZWN0ZWQmJihvPSEwKSxkZWxldGUgdGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2RbaV1dO28mJih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfZmlsdGVyKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxmdW5jdGlvbihuKXtyZXR1cm4tMT09PWUuaW5BcnJheShuLHQuY2hpbGRyZW5fZCl9KSksdC5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W10sbyYmdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJsb2FkX25vZGVcIixub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSl9cmV0dXJuIHQuc3RhdGUuZmFpbGVkPSExLHQuc3RhdGUubG9hZGluZz0hMCx0aGlzLmdldF9ub2RlKHQsITApLmFkZENsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCEwKSx0aGlzLl9sb2FkX25vZGUodCxlLnByb3h5KGZ1bmN0aW9uKGUpeyh0PXRoaXMuX21vZGVsLmRhdGFbdC5pZF0pLnN0YXRlLmxvYWRpbmc9ITEsdC5zdGF0ZS5sb2FkZWQ9ZSx0LnN0YXRlLmZhaWxlZD0hdC5zdGF0ZS5sb2FkZWQ7dmFyIGk9dGhpcy5nZXRfbm9kZSh0LCEwKSxyPTAscz0wLGE9dGhpcy5fbW9kZWwuZGF0YSxvPSExO2ZvcihyPTAscz10LmNoaWxkcmVuLmxlbmd0aDtyPHM7cisrKWlmKGFbdC5jaGlsZHJlbltyXV0mJiFhW3QuY2hpbGRyZW5bcl1dLnN0YXRlLmhpZGRlbil7bz0hMDticmVha310LnN0YXRlLmxvYWRlZCYmaSYmaS5sZW5ndGgmJihpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNsb3NlZCBqc3RyZWUtb3BlbiBqc3RyZWUtbGVhZlwiKSxvP1wiI1wiIT09dC5pZCYmaS5hZGRDbGFzcyh0LnN0YXRlLm9wZW5lZD9cImpzdHJlZS1vcGVuXCI6XCJqc3RyZWUtY2xvc2VkXCIpOmkuYWRkQ2xhc3MoXCJqc3RyZWUtbGVhZlwiKSksaS5yZW1vdmVDbGFzcyhcImpzdHJlZS1sb2FkaW5nXCIpLmF0dHIoXCJhcmlhLWJ1c3lcIiwhMSksdGhpcy50cmlnZ2VyKFwibG9hZF9ub2RlXCIse25vZGU6dCxzdGF0dXM6ZX0pLG4mJm4uY2FsbCh0aGlzLHQsZSl9LHRoaXMpKSwhMH0sX2xvYWRfbm9kZXM6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIscyxhPSEwLG89ZnVuY3Rpb24oKXt0aGlzLl9sb2FkX25vZGVzKGUsdCwhMCl9LGQ9dGhpcy5fbW9kZWwuZGF0YSxsPVtdO2ZvcihyPTAscz1lLmxlbmd0aDtyPHM7cisrKWRbZVtyXV0mJighZFtlW3JdXS5zdGF0ZS5sb2FkZWQmJiFkW2Vbcl1dLnN0YXRlLmZhaWxlZHx8IW4mJmkpJiYodGhpcy5pc19sb2FkaW5nKGVbcl0pfHx0aGlzLmxvYWRfbm9kZShlW3JdLG8pLGE9ITEpO2lmKGEpe2ZvcihyPTAscz1lLmxlbmd0aDtyPHM7cisrKWRbZVtyXV0mJmRbZVtyXV0uc3RhdGUubG9hZGVkJiZsLnB1c2goZVtyXSk7dCYmIXQuZG9uZSYmKHQuY2FsbCh0aGlzLGwpLHQuZG9uZT0hMCl9fSxsb2FkX2FsbDpmdW5jdGlvbih0LG4pe2lmKHR8fCh0PWUuanN0cmVlLnJvb3QpLCEodD10aGlzLmdldF9ub2RlKHQpKSlyZXR1cm4hMTt2YXIgaSxyLHM9W10sYT10aGlzLl9tb2RlbC5kYXRhLG89YVt0LmlkXS5jaGlsZHJlbl9kO2Zvcih0LnN0YXRlJiYhdC5zdGF0ZS5sb2FkZWQmJnMucHVzaCh0LmlkKSxpPTAscj1vLmxlbmd0aDtpPHI7aSsrKWFbb1tpXV0mJmFbb1tpXV0uc3RhdGUmJiFhW29baV1dLnN0YXRlLmxvYWRlZCYmcy5wdXNoKG9baV0pO3MubGVuZ3RoP3RoaXMuX2xvYWRfbm9kZXMocyxmdW5jdGlvbigpe3RoaXMubG9hZF9hbGwodCxuKX0pOihuJiZuLmNhbGwodGhpcyx0KSx0aGlzLnRyaWdnZXIoXCJsb2FkX2FsbFwiLHtub2RlOnR9KSl9LF9sb2FkX25vZGU6ZnVuY3Rpb24odCxuKXt2YXIgaSxyPXRoaXMuc2V0dGluZ3MuY29yZS5kYXRhLHM9ZnVuY3Rpb24oKXtyZXR1cm4gMyE9PXRoaXMubm9kZVR5cGUmJjghPT10aGlzLm5vZGVUeXBlfTtyZXR1cm4gcj9lLmlzRnVuY3Rpb24ocik/ci5jYWxsKHRoaXMsdCxlLnByb3h5KGZ1bmN0aW9uKGkpeyExPT09aT9uLmNhbGwodGhpcywhMSk6dGhpc1tcInN0cmluZ1wiPT10eXBlb2YgaT9cIl9hcHBlbmRfaHRtbF9kYXRhXCI6XCJfYXBwZW5kX2pzb25fZGF0YVwiXSh0LFwic3RyaW5nXCI9PXR5cGVvZiBpP2UoZS5wYXJzZUhUTUwoaSkpLmZpbHRlcihzKTppLGZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLGUpfSl9LHRoaXMpKTpcIm9iamVjdFwiPT09KHZvaWQgMD09PXI/XCJ1bmRlZmluZWRcIjphKHIpKT9yLnVybD8ocj1lLmV4dGVuZCghMCx7fSxyKSxlLmlzRnVuY3Rpb24oci51cmwpJiYoci51cmw9ci51cmwuY2FsbCh0aGlzLHQpKSxlLmlzRnVuY3Rpb24oci5kYXRhKSYmKHIuZGF0YT1yLmRhdGEuY2FsbCh0aGlzLHQpKSxlLmFqYXgocikuZG9uZShlLnByb3h5KGZ1bmN0aW9uKGkscixvKXt2YXIgZD1vLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO3JldHVybiBkJiYtMSE9PWQuaW5kZXhPZihcImpzb25cIil8fFwib2JqZWN0XCI9PT0odm9pZCAwPT09aT9cInVuZGVmaW5lZFwiOmEoaSkpP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEodCxpLGZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLGUpfSk6ZCYmLTEhPT1kLmluZGV4T2YoXCJodG1sXCIpfHxcInN0cmluZ1wiPT10eXBlb2YgaT90aGlzLl9hcHBlbmRfaHRtbF9kYXRhKHQsZShlLnBhcnNlSFRNTChpKSkuZmlsdGVyKHMpLGZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLGUpfSk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImFqYXhcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzA0XCIscmVhc29uOlwiQ291bGQgbm90IGxvYWQgbm9kZVwiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWQseGhyOm99KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksbi5jYWxsKHRoaXMsITEpKX0sdGhpcykpLmZhaWwoZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJhamF4XCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wNFwiLHJlYXNvbjpcIkNvdWxkIG5vdCBsb2FkIG5vZGVcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDp0LmlkLHhocjplfSl9LG4uY2FsbCh0aGlzLCExKSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKX0sdGhpcykpKTooaT1lLmlzQXJyYXkocik/ZS5leHRlbmQoITAsW10scik6ZS5pc1BsYWluT2JqZWN0KHIpP2UuZXh0ZW5kKCEwLHt9LHIpOnIsdC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5fYXBwZW5kX2pzb25fZGF0YSh0LGksZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwibm9kYXRhXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wNVwiLHJlYXNvbjpcIkNvdWxkIG5vdCBsb2FkIG5vZGVcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDp0LmlkfSl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLG4uY2FsbCh0aGlzLCExKSkpOlwic3RyaW5nXCI9PXR5cGVvZiByP3QuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuX2FwcGVuZF9odG1sX2RhdGEodCxlKGUucGFyc2VIVE1MKHIpKS5maWx0ZXIocyksZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwibm9kYXRhXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wNlwiLHJlYXNvbjpcIkNvdWxkIG5vdCBsb2FkIG5vZGVcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDp0LmlkfSl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLG4uY2FsbCh0aGlzLCExKSk6bi5jYWxsKHRoaXMsITEpOnQuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuX2FwcGVuZF9odG1sX2RhdGEodCx0aGlzLl9kYXRhLmNvcmUub3JpZ2luYWxfY29udGFpbmVyX2h0bWwuY2xvbmUoITApLGZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLGUpfSk6bi5jYWxsKHRoaXMsITEpfSxfbm9kZV9jaGFuZ2VkOmZ1bmN0aW9uKHQpeyh0PXRoaXMuZ2V0X25vZGUodCkpJiYtMT09PWUuaW5BcnJheSh0LmlkLHRoaXMuX21vZGVsLmNoYW5nZWQpJiZ0aGlzLl9tb2RlbC5jaGFuZ2VkLnB1c2godC5pZCl9LF9hcHBlbmRfaHRtbF9kYXRhOmZ1bmN0aW9uKHQsbixpKXsodD10aGlzLmdldF9ub2RlKHQpKS5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W107dmFyIHIscyxhLG89bi5pcyhcInVsXCIpP24uY2hpbGRyZW4oKTpuLGQ9dC5pZCxsPVtdLGM9W10saD10aGlzLl9tb2RlbC5kYXRhLHU9aFtkXSxmPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7Zm9yKG8uZWFjaChlLnByb3h5KGZ1bmN0aW9uKHQsbil7KHI9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9odG1sKGUobiksZCx1LnBhcmVudHMuY29uY2F0KCkpKSYmKGwucHVzaChyKSxjLnB1c2gociksaFtyXS5jaGlsZHJlbl9kLmxlbmd0aCYmKGM9Yy5jb25jYXQoaFtyXS5jaGlsZHJlbl9kKSkpfSx0aGlzKSksdS5jaGlsZHJlbj1sLHUuY2hpbGRyZW5fZD1jLHM9MCxhPXUucGFyZW50cy5sZW5ndGg7czxhO3MrKyloW3UucGFyZW50c1tzXV0uY2hpbGRyZW5fZD1oW3UucGFyZW50c1tzXV0uY2hpbGRyZW5fZC5jb25jYXQoYyk7dGhpcy50cmlnZ2VyKFwibW9kZWxcIix7bm9kZXM6YyxwYXJlbnQ6ZH0pLGQhPT1lLmpzdHJlZS5yb290Pyh0aGlzLl9ub2RlX2NoYW5nZWQoZCksdGhpcy5yZWRyYXcoKSk6KHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmNoaWxkcmVuKFwiLmpzdHJlZS1pbml0aWFsLW5vZGVcIikucmVtb3ZlKCksdGhpcy5yZWRyYXcoITApKSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoIT09ZiYmdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJtb2RlbFwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pLGkuY2FsbCh0aGlzLCEwKX0sX2FwcGVuZF9qc29uX2RhdGE6ZnVuY3Rpb24odCxuLGkscil7aWYobnVsbCE9PXRoaXMuZWxlbWVudCl7KHQ9dGhpcy5nZXRfbm9kZSh0KSkuY2hpbGRyZW49W10sdC5jaGlsZHJlbl9kPVtdLG4uZCYmXCJzdHJpbmdcIj09dHlwZW9mKG49bi5kKSYmKG49SlNPTi5wYXJzZShuKSksZS5pc0FycmF5KG4pfHwobj1bbl0pO3ZhciBzPW51bGwsbz17ZGY6dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSxkYXQ6bixwYXI6dC5pZCxtOnRoaXMuX21vZGVsLmRhdGEsdF9pZDp0aGlzLl9pZCx0X2NudDp0aGlzLl9jbnQsc2VsOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0sZD1mdW5jdGlvbihlLHQpe2UuZGF0YSYmKGU9ZS5kYXRhKTt2YXIgbixpLHIscyxvPWUuZGF0LGQ9ZS5wYXIsbD1bXSxjPVtdLGg9W10sdT1lLmRmLGY9ZS50X2lkLHA9ZS50X2NudCxnPWUubSxfPWdbZF0sbT1lLnNlbCx2PWZ1bmN0aW9uIGUobixpLHIpe3I9cj9yLmNvbmNhdCgpOltdLGkmJnIudW5zaGlmdChpKTt2YXIgcyxvLGQsbCxjPW4uaWQudG9TdHJpbmcoKSxmPXtpZDpjLHRleHQ6bi50ZXh0fHxcIlwiLGljb246bi5pY29uPT09dHx8bi5pY29uLHBhcmVudDppLHBhcmVudHM6cixjaGlsZHJlbjpuLmNoaWxkcmVufHxbXSxjaGlsZHJlbl9kOm4uY2hpbGRyZW5fZHx8W10sZGF0YTpuLmRhdGEsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9O2ZvcihzIGluIHUpdS5oYXNPd25Qcm9wZXJ0eShzKSYmKGYuc3RhdGVbc109dVtzXSk7aWYobiYmbi5kYXRhJiZuLmRhdGEuanN0cmVlJiZuLmRhdGEuanN0cmVlLmljb24mJihmLmljb249bi5kYXRhLmpzdHJlZS5pY29uKSxmLmljb24hPT10JiZudWxsIT09Zi5pY29uJiZcIlwiIT09Zi5pY29ufHwoZi5pY29uPSEwKSxuJiZuLmRhdGEmJihmLmRhdGE9bi5kYXRhLG4uZGF0YS5qc3RyZWUpKWZvcihzIGluIG4uZGF0YS5qc3RyZWUpbi5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShzKSYmKGYuc3RhdGVbc109bi5kYXRhLmpzdHJlZVtzXSk7aWYobiYmXCJvYmplY3RcIj09PWEobi5zdGF0ZSkpZm9yKHMgaW4gbi5zdGF0ZSluLnN0YXRlLmhhc093blByb3BlcnR5KHMpJiYoZi5zdGF0ZVtzXT1uLnN0YXRlW3NdKTtpZihuJiZcIm9iamVjdFwiPT09YShuLmxpX2F0dHIpKWZvcihzIGluIG4ubGlfYXR0ciluLmxpX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihmLmxpX2F0dHJbc109bi5saV9hdHRyW3NdKTtpZihmLmxpX2F0dHIuaWR8fChmLmxpX2F0dHIuaWQ9YyksbiYmXCJvYmplY3RcIj09PWEobi5hX2F0dHIpKWZvcihzIGluIG4uYV9hdHRyKW4uYV9hdHRyLmhhc093blByb3BlcnR5KHMpJiYoZi5hX2F0dHJbc109bi5hX2F0dHJbc10pO2ZvcihuJiZuLmNoaWxkcmVuJiYhMD09PW4uY2hpbGRyZW4mJihmLnN0YXRlLmxvYWRlZD0hMSxmLmNoaWxkcmVuPVtdLGYuY2hpbGRyZW5fZD1bXSksZ1tmLmlkXT1mLHM9MCxvPWYuY2hpbGRyZW4ubGVuZ3RoO3M8bztzKyspZD1lKGdbZi5jaGlsZHJlbltzXV0sZi5pZCxyKSxsPWdbZF0sZi5jaGlsZHJlbl9kLnB1c2goZCksbC5jaGlsZHJlbl9kLmxlbmd0aCYmKGYuY2hpbGRyZW5fZD1mLmNoaWxkcmVuX2QuY29uY2F0KGwuY2hpbGRyZW5fZCkpO3JldHVybiBkZWxldGUgbi5kYXRhLGRlbGV0ZSBuLmNoaWxkcmVuLGdbZi5pZF0ub3JpZ2luYWw9bixmLnN0YXRlLnNlbGVjdGVkJiZoLnB1c2goZi5pZCksZi5pZH0seT1mdW5jdGlvbiBlKG4saSxyKXtyPXI/ci5jb25jYXQoKTpbXSxpJiZyLnVuc2hpZnQoaSk7dmFyIHMsbyxkLGwsYyxfPSExO2Rve189XCJqXCIrZitcIl9cIisgKytwfXdoaWxlKGdbX10pO2ZvcihzIGluIGM9e2lkOiExLHRleHQ6XCJzdHJpbmdcIj09dHlwZW9mIG4/bjpcIlwiLGljb246XCJvYmplY3RcIiE9PSh2b2lkIDA9PT1uP1widW5kZWZpbmVkXCI6YShuKSl8fG4uaWNvbj09PXR8fG4uaWNvbixwYXJlbnQ6aSxwYXJlbnRzOnIsY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxkYXRhOm51bGwsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9LHUpdS5oYXNPd25Qcm9wZXJ0eShzKSYmKGMuc3RhdGVbc109dVtzXSk7aWYobiYmbi5pZCYmKGMuaWQ9bi5pZC50b1N0cmluZygpKSxuJiZuLnRleHQmJihjLnRleHQ9bi50ZXh0KSxuJiZuLmRhdGEmJm4uZGF0YS5qc3RyZWUmJm4uZGF0YS5qc3RyZWUuaWNvbiYmKGMuaWNvbj1uLmRhdGEuanN0cmVlLmljb24pLGMuaWNvbiE9PXQmJm51bGwhPT1jLmljb24mJlwiXCIhPT1jLmljb258fChjLmljb249ITApLG4mJm4uZGF0YSYmKGMuZGF0YT1uLmRhdGEsbi5kYXRhLmpzdHJlZSkpZm9yKHMgaW4gbi5kYXRhLmpzdHJlZSluLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KHMpJiYoYy5zdGF0ZVtzXT1uLmRhdGEuanN0cmVlW3NdKTtpZihuJiZcIm9iamVjdFwiPT09YShuLnN0YXRlKSlmb3IocyBpbiBuLnN0YXRlKW4uc3RhdGUuaGFzT3duUHJvcGVydHkocykmJihjLnN0YXRlW3NdPW4uc3RhdGVbc10pO2lmKG4mJlwib2JqZWN0XCI9PT1hKG4ubGlfYXR0cikpZm9yKHMgaW4gbi5saV9hdHRyKW4ubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShzKSYmKGMubGlfYXR0cltzXT1uLmxpX2F0dHJbc10pO2lmKGMubGlfYXR0ci5pZCYmIWMuaWQmJihjLmlkPWMubGlfYXR0ci5pZC50b1N0cmluZygpKSxjLmlkfHwoYy5pZD1fKSxjLmxpX2F0dHIuaWR8fChjLmxpX2F0dHIuaWQ9Yy5pZCksbiYmXCJvYmplY3RcIj09PWEobi5hX2F0dHIpKWZvcihzIGluIG4uYV9hdHRyKW4uYV9hdHRyLmhhc093blByb3BlcnR5KHMpJiYoYy5hX2F0dHJbc109bi5hX2F0dHJbc10pO2lmKG4mJm4uY2hpbGRyZW4mJm4uY2hpbGRyZW4ubGVuZ3RoKXtmb3Iocz0wLG89bi5jaGlsZHJlbi5sZW5ndGg7czxvO3MrKylkPWUobi5jaGlsZHJlbltzXSxjLmlkLHIpLGw9Z1tkXSxjLmNoaWxkcmVuLnB1c2goZCksbC5jaGlsZHJlbl9kLmxlbmd0aCYmKGMuY2hpbGRyZW5fZD1jLmNoaWxkcmVuX2QuY29uY2F0KGwuY2hpbGRyZW5fZCkpO2MuY2hpbGRyZW5fZD1jLmNoaWxkcmVuX2QuY29uY2F0KGMuY2hpbGRyZW4pfXJldHVybiBuJiZuLmNoaWxkcmVuJiYhMD09PW4uY2hpbGRyZW4mJihjLnN0YXRlLmxvYWRlZD0hMSxjLmNoaWxkcmVuPVtdLGMuY2hpbGRyZW5fZD1bXSksZGVsZXRlIG4uZGF0YSxkZWxldGUgbi5jaGlsZHJlbixjLm9yaWdpbmFsPW4sZ1tjLmlkXT1jLGMuc3RhdGUuc2VsZWN0ZWQmJmgucHVzaChjLmlkKSxjLmlkfTtpZihvLmxlbmd0aCYmb1swXS5pZCE9PXQmJm9bMF0ucGFyZW50IT09dCl7Zm9yKGk9MCxyPW8ubGVuZ3RoO2k8cjtpKyspb1tpXS5jaGlsZHJlbnx8KG9baV0uY2hpbGRyZW49W10pLG9baV0uc3RhdGV8fChvW2ldLnN0YXRlPXt9KSxnW29baV0uaWQudG9TdHJpbmcoKV09b1tpXTtmb3IoaT0wLHI9by5sZW5ndGg7aTxyO2krKylnW29baV0ucGFyZW50LnRvU3RyaW5nKCldPyhnW29baV0ucGFyZW50LnRvU3RyaW5nKCldLmNoaWxkcmVuLnB1c2gob1tpXS5pZC50b1N0cmluZygpKSxfLmNoaWxkcmVuX2QucHVzaChvW2ldLmlkLnRvU3RyaW5nKCkpKToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwicGFyc2VcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzA3XCIscmVhc29uOlwiTm9kZSB3aXRoIGludmFsaWQgcGFyZW50XCIsZGF0YTpKU09OLnN0cmluZ2lmeSh7aWQ6b1tpXS5pZC50b1N0cmluZygpLHBhcmVudDpvW2ldLnBhcmVudC50b1N0cmluZygpfSl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpKTtmb3IoaT0wLHI9Xy5jaGlsZHJlbi5sZW5ndGg7aTxyO2krKyluPXYoZ1tfLmNoaWxkcmVuW2ldXSxkLF8ucGFyZW50cy5jb25jYXQoKSksYy5wdXNoKG4pLGdbbl0uY2hpbGRyZW5fZC5sZW5ndGgmJihjPWMuY29uY2F0KGdbbl0uY2hpbGRyZW5fZCkpO2ZvcihpPTAscj1fLnBhcmVudHMubGVuZ3RoO2k8cjtpKyspZ1tfLnBhcmVudHNbaV1dLmNoaWxkcmVuX2Q9Z1tfLnBhcmVudHNbaV1dLmNoaWxkcmVuX2QuY29uY2F0KGMpO3M9e2NudDpwLG1vZDpnLHNlbDptLHBhcjpkLGRwYzpjLGFkZDpofX1lbHNle2ZvcihpPTAscj1vLmxlbmd0aDtpPHI7aSsrKShuPXkob1tpXSxkLF8ucGFyZW50cy5jb25jYXQoKSkpJiYobC5wdXNoKG4pLGMucHVzaChuKSxnW25dLmNoaWxkcmVuX2QubGVuZ3RoJiYoYz1jLmNvbmNhdChnW25dLmNoaWxkcmVuX2QpKSk7Zm9yKF8uY2hpbGRyZW49bCxfLmNoaWxkcmVuX2Q9YyxpPTAscj1fLnBhcmVudHMubGVuZ3RoO2k8cjtpKyspZ1tfLnBhcmVudHNbaV1dLmNoaWxkcmVuX2Q9Z1tfLnBhcmVudHNbaV1dLmNoaWxkcmVuX2QuY29uY2F0KGMpO3M9e2NudDpwLG1vZDpnLHNlbDptLHBhcjpkLGRwYzpjLGFkZDpofX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuZG9jdW1lbnQpcmV0dXJuIHM7cG9zdE1lc3NhZ2Uocyl9LGw9ZnVuY3Rpb24odCxuKXtpZihudWxsIT09dGhpcy5lbGVtZW50KXt0aGlzLl9jbnQ9dC5jbnQ7dmFyIHIscz10aGlzLl9tb2RlbC5kYXRhO2ZvcihyIGluIHMpcy5oYXNPd25Qcm9wZXJ0eShyKSYmc1tyXS5zdGF0ZSYmc1tyXS5zdGF0ZS5sb2FkaW5nJiZ0Lm1vZFtyXSYmKHQubW9kW3JdLnN0YXRlLmxvYWRpbmc9ITApO2lmKHRoaXMuX21vZGVsLmRhdGE9dC5tb2Qsbil7dmFyIGEsbz10LmFkZCxkPXQuc2VsLGw9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCk7aWYocz10aGlzLl9tb2RlbC5kYXRhLGQubGVuZ3RoIT09bC5sZW5ndGh8fGUudmFrYXRhLmFycmF5X3VuaXF1ZShkLmNvbmNhdChsKSkubGVuZ3RoIT09ZC5sZW5ndGgpe2ZvcihyPTAsYT1kLmxlbmd0aDtyPGE7cisrKS0xPT09ZS5pbkFycmF5KGRbcl0sbykmJi0xPT09ZS5pbkFycmF5KGRbcl0sbCkmJihzW2Rbcl1dLnN0YXRlLnNlbGVjdGVkPSExKTtmb3Iocj0wLGE9bC5sZW5ndGg7cjxhO3IrKyktMT09PWUuaW5BcnJheShsW3JdLGQpJiYoc1tsW3JdXS5zdGF0ZS5zZWxlY3RlZD0hMCl9fXQuYWRkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KHQuYWRkKSksdGhpcy50cmlnZ2VyKFwibW9kZWxcIix7bm9kZXM6dC5kcGMscGFyZW50OnQucGFyfSksdC5wYXIhPT1lLmpzdHJlZS5yb290Pyh0aGlzLl9ub2RlX2NoYW5nZWQodC5wYXIpLHRoaXMucmVkcmF3KCkpOnRoaXMucmVkcmF3KCEwKSx0LmFkZC5sZW5ndGgmJnRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwibW9kZWxcIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxpLmNhbGwodGhpcywhMCl9fTtpZih0aGlzLnNldHRpbmdzLmNvcmUud29ya2VyJiZ3aW5kb3cuQmxvYiYmd2luZG93LlVSTCYmd2luZG93Lldvcmtlcil0cnl7bnVsbD09PXRoaXMuX3dyayYmKHRoaXMuX3dyaz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgd2luZG93LkJsb2IoW1wic2VsZi5vbm1lc3NhZ2UgPSBcIitkLnRvU3RyaW5nKCldLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSkpLCF0aGlzLl9kYXRhLmNvcmUud29ya2luZ3x8cj8odGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITAsKHM9bmV3IHdpbmRvdy5Xb3JrZXIodGhpcy5fd3JrKSkub25tZXNzYWdlPWUucHJveHkoZnVuY3Rpb24oZSl7bC5jYWxsKHRoaXMsZS5kYXRhLCEwKTt0cnl7cy50ZXJtaW5hdGUoKSxzPW51bGx9Y2F0Y2goZSl7fXRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUubGVuZ3RoP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEuYXBwbHkodGhpcyx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLnNoaWZ0KCkpOnRoaXMuX2RhdGEuY29yZS53b3JraW5nPSExfSx0aGlzKSxvLnBhcj9zLnBvc3RNZXNzYWdlKG8pOnRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUubGVuZ3RoP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEuYXBwbHkodGhpcyx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLnNoaWZ0KCkpOnRoaXMuX2RhdGEuY29yZS53b3JraW5nPSExKTp0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLnB1c2goW3QsbixpLCEwXSl9Y2F0Y2goZSl7bC5jYWxsKHRoaXMsZChvKSwhMSksdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITF9ZWxzZSBsLmNhbGwodGhpcyxkKG8pLCExKX19LF9wYXJzZV9tb2RlbF9mcm9tX2h0bWw6ZnVuY3Rpb24obixpLHIpe3I9cj9bXS5jb25jYXQocik6W10saSYmci51bnNoaWZ0KGkpO3ZhciBzLGEsbyxkLGwsYz10aGlzLl9tb2RlbC5kYXRhLGg9e2lkOiExLHRleHQ6ITEsaWNvbjohMCxwYXJlbnQ6aSxwYXJlbnRzOnIsY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxkYXRhOm51bGwsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9O2ZvcihvIGluIHRoaXMuX21vZGVsLmRlZmF1bHRfc3RhdGUpdGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZS5oYXNPd25Qcm9wZXJ0eShvKSYmKGguc3RhdGVbb109dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZVtvXSk7aWYoZD1lLnZha2F0YS5hdHRyaWJ1dGVzKG4sITApLGUuZWFjaChkLGZ1bmN0aW9uKHQsbil7aWYoIShuPWUudHJpbShuKSkubGVuZ3RoKXJldHVybiEwO2gubGlfYXR0clt0XT1uLFwiaWRcIj09PXQmJihoLmlkPW4udG9TdHJpbmcoKSl9KSwoZD1uLmNoaWxkcmVuKFwiYVwiKS5maXJzdCgpKS5sZW5ndGgmJihkPWUudmFrYXRhLmF0dHJpYnV0ZXMoZCwhMCksZS5lYWNoKGQsZnVuY3Rpb24odCxuKXsobj1lLnRyaW0obikpLmxlbmd0aCYmKGguYV9hdHRyW3RdPW4pfSkpLChkPW4uY2hpbGRyZW4oXCJhXCIpLmZpcnN0KCkubGVuZ3RoP24uY2hpbGRyZW4oXCJhXCIpLmZpcnN0KCkuY2xvbmUoKTpuLmNsb25lKCkpLmNoaWxkcmVuKFwiaW5zLCBpLCB1bFwiKS5yZW1vdmUoKSxkPWQuaHRtbCgpLGQ9ZShcIjxkaXYgLz5cIikuaHRtbChkKSxoLnRleHQ9dGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ/ZC50ZXh0KCk6ZC5odG1sKCksZD1uLmRhdGEoKSxoLmRhdGE9ZD9lLmV4dGVuZCghMCx7fSxkKTpudWxsLGguc3RhdGUub3BlbmVkPW4uaGFzQ2xhc3MoXCJqc3RyZWUtb3BlblwiKSxoLnN0YXRlLnNlbGVjdGVkPW4uY2hpbGRyZW4oXCJhXCIpLmhhc0NsYXNzKFwianN0cmVlLWNsaWNrZWRcIiksaC5zdGF0ZS5kaXNhYmxlZD1uLmNoaWxkcmVuKFwiYVwiKS5oYXNDbGFzcyhcImpzdHJlZS1kaXNhYmxlZFwiKSxoLmRhdGEmJmguZGF0YS5qc3RyZWUpZm9yKG8gaW4gaC5kYXRhLmpzdHJlZSloLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG8pJiYoaC5zdGF0ZVtvXT1oLmRhdGEuanN0cmVlW29dKTsoZD1uLmNoaWxkcmVuKFwiYVwiKS5jaGlsZHJlbihcIi5qc3RyZWUtdGhlbWVpY29uXCIpKS5sZW5ndGgmJihoLmljb249IWQuaGFzQ2xhc3MoXCJqc3RyZWUtdGhlbWVpY29uLWhpZGRlblwiKSYmZC5hdHRyKFwicmVsXCIpKSxoLnN0YXRlLmljb24hPT10JiYoaC5pY29uPWguc3RhdGUuaWNvbiksaC5pY29uIT09dCYmbnVsbCE9PWguaWNvbiYmXCJcIiE9PWguaWNvbnx8KGguaWNvbj0hMCksZD1uLmNoaWxkcmVuKFwidWxcIikuY2hpbGRyZW4oXCJsaVwiKTtkb3tsPVwialwiK3RoaXMuX2lkK1wiX1wiKyArK3RoaXMuX2NudH13aGlsZShjW2xdKTtyZXR1cm4gaC5pZD1oLmxpX2F0dHIuaWQ/aC5saV9hdHRyLmlkLnRvU3RyaW5nKCk6bCxkLmxlbmd0aD8oZC5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxuKXtzPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21faHRtbChlKG4pLGguaWQsciksYT10aGlzLl9tb2RlbC5kYXRhW3NdLGguY2hpbGRyZW4ucHVzaChzKSxhLmNoaWxkcmVuX2QubGVuZ3RoJiYoaC5jaGlsZHJlbl9kPWguY2hpbGRyZW5fZC5jb25jYXQoYS5jaGlsZHJlbl9kKSl9LHRoaXMpKSxoLmNoaWxkcmVuX2Q9aC5jaGlsZHJlbl9kLmNvbmNhdChoLmNoaWxkcmVuKSk6bi5oYXNDbGFzcyhcImpzdHJlZS1jbG9zZWRcIikmJihoLnN0YXRlLmxvYWRlZD0hMSksaC5saV9hdHRyLmNsYXNzJiYoaC5saV9hdHRyLmNsYXNzPWgubGlfYXR0ci5jbGFzcy5yZXBsYWNlKFwianN0cmVlLWNsb3NlZFwiLFwiXCIpLnJlcGxhY2UoXCJqc3RyZWUtb3BlblwiLFwiXCIpKSxoLmFfYXR0ci5jbGFzcyYmKGguYV9hdHRyLmNsYXNzPWguYV9hdHRyLmNsYXNzLnJlcGxhY2UoXCJqc3RyZWUtY2xpY2tlZFwiLFwiXCIpLnJlcGxhY2UoXCJqc3RyZWUtZGlzYWJsZWRcIixcIlwiKSksY1toLmlkXT1oLGguc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKGguaWQpLGguaWR9LF9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbjpmdW5jdGlvbihlLG4saSl7aT1pP2kuY29uY2F0KCk6W10sbiYmaS51bnNoaWZ0KG4pO3ZhciByLHMsbyxkLGw9ZS5pZC50b1N0cmluZygpLGM9dGhpcy5fbW9kZWwuZGF0YSxoPXRoaXMuX21vZGVsLmRlZmF1bHRfc3RhdGUsdT17aWQ6bCx0ZXh0OmUudGV4dHx8XCJcIixpY29uOmUuaWNvbj09PXR8fGUuaWNvbixwYXJlbnQ6bixwYXJlbnRzOmksY2hpbGRyZW46ZS5jaGlsZHJlbnx8W10sY2hpbGRyZW5fZDplLmNoaWxkcmVuX2R8fFtdLGRhdGE6ZS5kYXRhLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6XCIjXCJ9LG9yaWdpbmFsOiExfTtmb3IociBpbiBoKWguaGFzT3duUHJvcGVydHkocikmJih1LnN0YXRlW3JdPWhbcl0pO2lmKGUmJmUuZGF0YSYmZS5kYXRhLmpzdHJlZSYmZS5kYXRhLmpzdHJlZS5pY29uJiYodS5pY29uPWUuZGF0YS5qc3RyZWUuaWNvbiksdS5pY29uIT09dCYmbnVsbCE9PXUuaWNvbiYmXCJcIiE9PXUuaWNvbnx8KHUuaWNvbj0hMCksZSYmZS5kYXRhJiYodS5kYXRhPWUuZGF0YSxlLmRhdGEuanN0cmVlKSlmb3IociBpbiBlLmRhdGEuanN0cmVlKWUuZGF0YS5qc3RyZWUuaGFzT3duUHJvcGVydHkocikmJih1LnN0YXRlW3JdPWUuZGF0YS5qc3RyZWVbcl0pO2lmKGUmJlwib2JqZWN0XCI9PT1hKGUuc3RhdGUpKWZvcihyIGluIGUuc3RhdGUpZS5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHUuc3RhdGVbcl09ZS5zdGF0ZVtyXSk7aWYoZSYmXCJvYmplY3RcIj09PWEoZS5saV9hdHRyKSlmb3IociBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KHIpJiYodS5saV9hdHRyW3JdPWUubGlfYXR0cltyXSk7aWYodS5saV9hdHRyLmlkfHwodS5saV9hdHRyLmlkPWwpLGUmJlwib2JqZWN0XCI9PT1hKGUuYV9hdHRyKSlmb3IociBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShyKSYmKHUuYV9hdHRyW3JdPWUuYV9hdHRyW3JdKTtmb3IoZSYmZS5jaGlsZHJlbiYmITA9PT1lLmNoaWxkcmVuJiYodS5zdGF0ZS5sb2FkZWQ9ITEsdS5jaGlsZHJlbj1bXSx1LmNoaWxkcmVuX2Q9W10pLGNbdS5pZF09dSxyPTAscz11LmNoaWxkcmVuLmxlbmd0aDtyPHM7cisrKW89dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9mbGF0X2pzb24oY1t1LmNoaWxkcmVuW3JdXSx1LmlkLGkpLGQ9Y1tvXSx1LmNoaWxkcmVuX2QucHVzaChvKSxkLmNoaWxkcmVuX2QubGVuZ3RoJiYodS5jaGlsZHJlbl9kPXUuY2hpbGRyZW5fZC5jb25jYXQoZC5jaGlsZHJlbl9kKSk7cmV0dXJuIGRlbGV0ZSBlLmRhdGEsZGVsZXRlIGUuY2hpbGRyZW4sY1t1LmlkXS5vcmlnaW5hbD1lLHUuc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKHUuaWQpLHUuaWR9LF9wYXJzZV9tb2RlbF9mcm9tX2pzb246ZnVuY3Rpb24oZSxuLGkpe2k9aT9pLmNvbmNhdCgpOltdLG4mJmkudW5zaGlmdChuKTt2YXIgcixzLG8sZCxsLGM9ITEsaD10aGlzLl9tb2RlbC5kYXRhLHU9dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZTtkb3tjPVwialwiK3RoaXMuX2lkK1wiX1wiKyArK3RoaXMuX2NudH13aGlsZShoW2NdKTtmb3IociBpbiBsPXtpZDohMSx0ZXh0Olwic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJcIixpY29uOlwib2JqZWN0XCIhPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmEoZSkpfHxlLmljb249PT10fHxlLmljb24scGFyZW50Om4scGFyZW50czppLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6XCIjXCJ9LG9yaWdpbmFsOiExfSx1KXUuaGFzT3duUHJvcGVydHkocikmJihsLnN0YXRlW3JdPXVbcl0pO2lmKGUmJmUuaWQmJihsLmlkPWUuaWQudG9TdHJpbmcoKSksZSYmZS50ZXh0JiYobC50ZXh0PWUudGV4dCksZSYmZS5kYXRhJiZlLmRhdGEuanN0cmVlJiZlLmRhdGEuanN0cmVlLmljb24mJihsLmljb249ZS5kYXRhLmpzdHJlZS5pY29uKSxsLmljb24hPT10JiZudWxsIT09bC5pY29uJiZcIlwiIT09bC5pY29ufHwobC5pY29uPSEwKSxlJiZlLmRhdGEmJihsLmRhdGE9ZS5kYXRhLGUuZGF0YS5qc3RyZWUpKWZvcihyIGluIGUuZGF0YS5qc3RyZWUpZS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGwuc3RhdGVbcl09ZS5kYXRhLmpzdHJlZVtyXSk7aWYoZSYmXCJvYmplY3RcIj09PWEoZS5zdGF0ZSkpZm9yKHIgaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KHIpJiYobC5zdGF0ZVtyXT1lLnN0YXRlW3JdKTtpZihlJiZcIm9iamVjdFwiPT09YShlLmxpX2F0dHIpKWZvcihyIGluIGUubGlfYXR0cillLmxpX2F0dHIuaGFzT3duUHJvcGVydHkocikmJihsLmxpX2F0dHJbcl09ZS5saV9hdHRyW3JdKTtpZihsLmxpX2F0dHIuaWQmJiFsLmlkJiYobC5pZD1sLmxpX2F0dHIuaWQudG9TdHJpbmcoKSksbC5pZHx8KGwuaWQ9YyksbC5saV9hdHRyLmlkfHwobC5saV9hdHRyLmlkPWwuaWQpLGUmJlwib2JqZWN0XCI9PT1hKGUuYV9hdHRyKSlmb3IociBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShyKSYmKGwuYV9hdHRyW3JdPWUuYV9hdHRyW3JdKTtpZihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHI9MCxzPWUuY2hpbGRyZW4ubGVuZ3RoO3I8cztyKyspbz10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2pzb24oZS5jaGlsZHJlbltyXSxsLmlkLGkpLGQ9aFtvXSxsLmNoaWxkcmVuLnB1c2gobyksZC5jaGlsZHJlbl9kLmxlbmd0aCYmKGwuY2hpbGRyZW5fZD1sLmNoaWxkcmVuX2QuY29uY2F0KGQuY2hpbGRyZW5fZCkpO2wuY2hpbGRyZW5fZD1sLmNoaWxkcmVuX2QuY29uY2F0KGwuY2hpbGRyZW4pfXJldHVybiBlJiZlLmNoaWxkcmVuJiYhMD09PWUuY2hpbGRyZW4mJihsLnN0YXRlLmxvYWRlZD0hMSxsLmNoaWxkcmVuPVtdLGwuY2hpbGRyZW5fZD1bXSksZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixsLm9yaWdpbmFsPWUsaFtsLmlkXT1sLGwuc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKGwuaWQpLGwuaWR9LF9yZWRyYXc6ZnVuY3Rpb24oKXt2YXIgdCxuLGkscj10aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz90aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLmNoaWxkcmVuLmNvbmNhdChbXSk6dGhpcy5fbW9kZWwuY2hhbmdlZC5jb25jYXQoW10pLHM9bC5jcmVhdGVFbGVtZW50KFwiVUxcIiksYT10aGlzLl9kYXRhLmNvcmUuZm9jdXNlZDtmb3Iobj0wLGk9ci5sZW5ndGg7bjxpO24rKykodD10aGlzLnJlZHJhd19ub2RlKHJbbl0sITAsdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcpKSYmdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcmJnMuYXBwZW5kQ2hpbGQodCk7dGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcmJihzLmNsYXNzTmFtZT10aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWUscy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSx0aGlzLmVsZW1lbnQuZW1wdHkoKS5hcHBlbmQocykpLG51bGwhPT1hJiZ0aGlzLnNldHRpbmdzLmNvcmUucmVzdG9yZV9mb2N1cyYmKCh0PXRoaXMuZ2V0X25vZGUoYSwhMCkpJiZ0Lmxlbmd0aCYmdC5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpWzBdIT09bC5hY3RpdmVFbGVtZW50P3QuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpOnRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGwpLHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSExLHRoaXMuX21vZGVsLmNoYW5nZWQ9W10sdGhpcy50cmlnZ2VyKFwicmVkcmF3XCIse25vZGVzOnJ9KX0scmVkcmF3OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMCksdGhpcy5fcmVkcmF3KCl9LGRyYXdfY2hpbGRyZW46ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5nZXRfbm9kZSh0KSxpPSExLHI9ITEscz0hMSxhPWw7aWYoIW4pcmV0dXJuITE7aWYobi5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuIHRoaXMucmVkcmF3KCEwKTtpZighKHQ9dGhpcy5nZXRfbm9kZSh0LCEwKSl8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZih0LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5yZW1vdmUoKSx0PXRbMF0sbi5jaGlsZHJlbi5sZW5ndGgmJm4uc3RhdGUubG9hZGVkKXtmb3IoKHM9YS5jcmVhdGVFbGVtZW50KFwiVUxcIikpLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImdyb3VwXCIpLHMuY2xhc3NOYW1lPVwianN0cmVlLWNoaWxkcmVuXCIsaT0wLHI9bi5jaGlsZHJlbi5sZW5ndGg7aTxyO2krKylzLmFwcGVuZENoaWxkKHRoaXMucmVkcmF3X25vZGUobi5jaGlsZHJlbltpXSwhMCwhMCkpO3QuYXBwZW5kQ2hpbGQocyl9fSxyZWRyYXdfbm9kZTpmdW5jdGlvbih0LG4saSxyKXt2YXIgcz10aGlzLmdldF9ub2RlKHQpLGE9ITEsbz0hMSxkPSExLGM9ITEsaD0hMSx1PSExLGY9XCJcIixwPWwsZz10aGlzLl9tb2RlbC5kYXRhLF89ITEsbT1udWxsLHY9MCx5PTAsYj0hMSx4PSExO2lmKCFzKXJldHVybiExO2lmKHMuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiB0aGlzLnJlZHJhdyghMCk7aWYobj1ufHwwPT09cy5jaGlsZHJlbi5sZW5ndGgsdD1sLnF1ZXJ5U2VsZWN0b3I/dGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoXCIjXCIrKC0xIT09XCIwMTIzNDU2Nzg5XCIuaW5kZXhPZihzLmlkWzBdKT9cIlxcXFwzXCIrcy5pZFswXStcIiBcIitzLmlkLnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIik6cy5pZC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIikpKTpsLmdldEVsZW1lbnRCeUlkKHMuaWQpKXQ9ZSh0KSxpfHwoKGE9dC5wYXJlbnQoKS5wYXJlbnQoKVswXSk9PT10aGlzLmVsZW1lbnRbMF0mJihhPW51bGwpLG89dC5pbmRleCgpKSxufHwhcy5jaGlsZHJlbi5sZW5ndGh8fHQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmxlbmd0aHx8KG49ITApLG58fChkPXQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpWzBdKSxfPXQuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKVswXT09PWwuYWN0aXZlRWxlbWVudCx0LnJlbW92ZSgpO2Vsc2UgaWYobj0hMCwhaSl7aWYoIShudWxsPT09KGE9cy5wYXJlbnQhPT1lLmpzdHJlZS5yb290P2UoXCIjXCIrcy5wYXJlbnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpLHRoaXMuZWxlbWVudClbMF06bnVsbCl8fGEmJmdbcy5wYXJlbnRdLnN0YXRlLm9wZW5lZCkpcmV0dXJuITE7bz1lLmluQXJyYXkocy5pZCxudWxsPT09YT9nW2UuanN0cmVlLnJvb3RdLmNoaWxkcmVuOmdbcy5wYXJlbnRdLmNoaWxkcmVuKX1mb3IoYyBpbiB0PXRoaXMuX2RhdGEuY29yZS5ub2RlLmNsb25lTm9kZSghMCksZj1cImpzdHJlZS1ub2RlIFwiLHMubGlfYXR0cilpZihzLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoYykpe2lmKFwiaWRcIj09PWMpY29udGludWU7XCJjbGFzc1wiIT09Yz90LnNldEF0dHJpYnV0ZShjLHMubGlfYXR0cltjXSk6Zis9cy5saV9hdHRyW2NdfWZvcihzLmFfYXR0ci5pZHx8KHMuYV9hdHRyLmlkPXMuaWQrXCJfYW5jaG9yXCIpLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCEhcy5zdGF0ZS5zZWxlY3RlZCksdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxldmVsXCIscy5wYXJlbnRzLmxlbmd0aCksdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIixzLmFfYXR0ci5pZCkscy5zdGF0ZS5kaXNhYmxlZCYmdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApLGM9MCxoPXMuY2hpbGRyZW4ubGVuZ3RoO2M8aDtjKyspaWYoIWdbcy5jaGlsZHJlbltjXV0uc3RhdGUuaGlkZGVuKXtiPSEwO2JyZWFrfWlmKG51bGwhPT1zLnBhcmVudCYmZ1tzLnBhcmVudF0mJiFzLnN0YXRlLmhpZGRlbiYmKGM9ZS5pbkFycmF5KHMuaWQsZ1tzLnBhcmVudF0uY2hpbGRyZW4pLHg9cy5pZCwtMSE9PWMpKWZvcihjKyssaD1nW3MucGFyZW50XS5jaGlsZHJlbi5sZW5ndGg7YzxoJiYoZ1tnW3MucGFyZW50XS5jaGlsZHJlbltjXV0uc3RhdGUuaGlkZGVufHwoeD1nW3MucGFyZW50XS5jaGlsZHJlbltjXSkseD09PXMuaWQpO2MrKyk7Zm9yKGggaW4gcy5zdGF0ZS5oaWRkZW4mJihmKz1cIiBqc3RyZWUtaGlkZGVuXCIpLHMuc3RhdGUubG9hZGluZyYmKGYrPVwiIGpzdHJlZS1sb2FkaW5nXCIpLHMuc3RhdGUubG9hZGVkJiYhYj9mKz1cIiBqc3RyZWUtbGVhZlwiOihmKz1zLnN0YXRlLm9wZW5lZCYmcy5zdGF0ZS5sb2FkZWQ/XCIganN0cmVlLW9wZW5cIjpcIiBqc3RyZWUtY2xvc2VkXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIscy5zdGF0ZS5vcGVuZWQmJnMuc3RhdGUubG9hZGVkKSkseD09PXMuaWQmJihmKz1cIiBqc3RyZWUtbGFzdFwiKSx0LmlkPXMuaWQsdC5jbGFzc05hbWU9ZixmPShzLnN0YXRlLnNlbGVjdGVkP1wiIGpzdHJlZS1jbGlja2VkXCI6XCJcIikrKHMuc3RhdGUuZGlzYWJsZWQ/XCIganN0cmVlLWRpc2FibGVkXCI6XCJcIikscy5hX2F0dHIpaWYocy5hX2F0dHIuaGFzT3duUHJvcGVydHkoaCkpe2lmKFwiaHJlZlwiPT09aCYmXCIjXCI9PT1zLmFfYXR0cltoXSljb250aW51ZTtcImNsYXNzXCIhPT1oP3QuY2hpbGROb2Rlc1sxXS5zZXRBdHRyaWJ1dGUoaCxzLmFfYXR0cltoXSk6Zis9XCIgXCIrcy5hX2F0dHJbaF19aWYoZi5sZW5ndGgmJih0LmNoaWxkTm9kZXNbMV0uY2xhc3NOYW1lPVwianN0cmVlLWFuY2hvciBcIitmKSwocy5pY29uJiYhMCE9PXMuaWNvbnx8ITE9PT1zLmljb24pJiYoITE9PT1zLmljb24/dC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lKz1cIiBqc3RyZWUtdGhlbWVpY29uLWhpZGRlblwiOi0xPT09cy5pY29uLmluZGV4T2YoXCIvXCIpJiYtMT09PXMuaWNvbi5pbmRleE9mKFwiLlwiKT90LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPVwiIFwiK3MuaWNvbitcIiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiOih0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9J3VybChcIicrcy5pY29uKydcIiknLHQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1cImNlbnRlciBjZW50ZXJcIix0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT1cImF1dG9cIix0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPVwiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tXCIpKSx0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dD90LmNoaWxkTm9kZXNbMV0uYXBwZW5kQ2hpbGQocC5jcmVhdGVUZXh0Tm9kZShzLnRleHQpKTp0LmNoaWxkTm9kZXNbMV0uaW5uZXJIVE1MKz1zLnRleHQsbiYmcy5jaGlsZHJlbi5sZW5ndGgmJihzLnN0YXRlLm9wZW5lZHx8cikmJnMuc3RhdGUubG9hZGVkKXtmb3IoKHU9cC5jcmVhdGVFbGVtZW50KFwiVUxcIikpLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImdyb3VwXCIpLHUuY2xhc3NOYW1lPVwianN0cmVlLWNoaWxkcmVuXCIsYz0wLGg9cy5jaGlsZHJlbi5sZW5ndGg7YzxoO2MrKyl1LmFwcGVuZENoaWxkKHRoaXMucmVkcmF3X25vZGUocy5jaGlsZHJlbltjXSxuLCEwKSk7dC5hcHBlbmRDaGlsZCh1KX1pZihkJiZ0LmFwcGVuZENoaWxkKGQpLCFpKXtmb3IoYXx8KGE9dGhpcy5lbGVtZW50WzBdKSxjPTAsaD1hLmNoaWxkTm9kZXMubGVuZ3RoO2M8aDtjKyspaWYoYS5jaGlsZE5vZGVzW2NdJiZhLmNoaWxkTm9kZXNbY10uY2xhc3NOYW1lJiYtMSE9PWEuY2hpbGROb2Rlc1tjXS5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1jaGlsZHJlblwiKSl7bT1hLmNoaWxkTm9kZXNbY107YnJlYWt9bXx8KChtPXAuY3JlYXRlRWxlbWVudChcIlVMXCIpKS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSxtLmNsYXNzTmFtZT1cImpzdHJlZS1jaGlsZHJlblwiLGEuYXBwZW5kQ2hpbGQobSkpLG88KGE9bSkuY2hpbGROb2Rlcy5sZW5ndGg/YS5pbnNlcnRCZWZvcmUodCxhLmNoaWxkTm9kZXNbb10pOmEuYXBwZW5kQ2hpbGQodCksXyYmKHY9dGhpcy5lbGVtZW50WzBdLnNjcm9sbFRvcCx5PXRoaXMuZWxlbWVudFswXS5zY3JvbGxMZWZ0LHQuY2hpbGROb2Rlc1sxXS5mb2N1cygpLHRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3A9dix0aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdD15KX1yZXR1cm4gcy5zdGF0ZS5vcGVuZWQmJiFzLnN0YXRlLmxvYWRlZCYmKHMuc3RhdGUub3BlbmVkPSExLHNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe3RoaXMub3Blbl9ub2RlKHMuaWQsITEsMCl9LHRoaXMpLDApKSx0fSxvcGVuX25vZGU6ZnVuY3Rpb24obixpLHIpe3ZhciBzLGEsbyxkO2lmKGUuaXNBcnJheShuKSl7Zm9yKG49bi5zbGljZSgpLHM9MCxhPW4ubGVuZ3RoO3M8YTtzKyspdGhpcy5vcGVuX25vZGUobltzXSxpLHIpO3JldHVybiEwfXJldHVybiEoIShuPXRoaXMuZ2V0X25vZGUobikpfHxuLmlkPT09ZS5qc3RyZWUucm9vdCkmJihyPXI9PT10P3RoaXMuc2V0dGluZ3MuY29yZS5hbmltYXRpb246cix0aGlzLmlzX2Nsb3NlZChuKT90aGlzLmlzX2xvYWRlZChuKT8obz10aGlzLmdldF9ub2RlKG4sITApLGQ9dGhpcyxvLmxlbmd0aCYmKHImJm8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmxlbmd0aCYmby5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikuc3RvcCghMCwhMCksbi5jaGlsZHJlbi5sZW5ndGgmJiF0aGlzLl9maXJzdENoaWxkKG8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpWzBdKSYmdGhpcy5kcmF3X2NoaWxkcmVuKG4pLHI/KHRoaXMudHJpZ2dlcihcImJlZm9yZV9vcGVuXCIse25vZGU6bn0pLG8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikuZW5kKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2xvc2VkXCIpLmFkZENsYXNzKFwianN0cmVlLW9wZW5cIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnN0b3AoITAsITApLnNsaWRlRG93bihyLGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5kaXNwbGF5PVwiXCIsZC5lbGVtZW50JiZkLnRyaWdnZXIoXCJhZnRlcl9vcGVuXCIse25vZGU6bn0pfSkpOih0aGlzLnRyaWdnZXIoXCJiZWZvcmVfb3BlblwiLHtub2RlOm59KSxvWzBdLmNsYXNzTmFtZT1vWzBdLmNsYXNzTmFtZS5yZXBsYWNlKFwianN0cmVlLWNsb3NlZFwiLFwianN0cmVlLW9wZW5cIiksb1swXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsITApKSksbi5zdGF0ZS5vcGVuZWQ9ITAsaSYmaS5jYWxsKHRoaXMsbiwhMCksby5sZW5ndGh8fHRoaXMudHJpZ2dlcihcImJlZm9yZV9vcGVuXCIse25vZGU6bn0pLHRoaXMudHJpZ2dlcihcIm9wZW5fbm9kZVwiLHtub2RlOm59KSxyJiZvLmxlbmd0aHx8dGhpcy50cmlnZ2VyKFwiYWZ0ZXJfb3BlblwiLHtub2RlOm59KSwhMCk6dGhpcy5pc19sb2FkaW5nKG4pP3NldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe3RoaXMub3Blbl9ub2RlKG4saSxyKX0sdGhpcyksNTAwKTp2b2lkIHRoaXMubG9hZF9ub2RlKG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90aGlzLm9wZW5fbm9kZShlLGkscik6ISFpJiZpLmNhbGwodGhpcyxlLCExKX0pOihpJiZpLmNhbGwodGhpcyxuLCExKSwhMSkpfSxfb3Blbl90bzpmdW5jdGlvbih0KXtpZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3ZhciBuLGkscj10LnBhcmVudHM7Zm9yKG49MCxpPXIubGVuZ3RoO248aTtuKz0xKW4hPT1lLmpzdHJlZS5yb290JiZ0aGlzLm9wZW5fbm9kZShyW25dLCExLDApO3JldHVybiBlKFwiI1wiK3QuaWQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpLHRoaXMuZWxlbWVudCl9LGNsb3NlX25vZGU6ZnVuY3Rpb24obixpKXt2YXIgcixzLGEsbztpZihlLmlzQXJyYXkobikpe2ZvcihuPW4uc2xpY2UoKSxyPTAscz1uLmxlbmd0aDtyPHM7cisrKXRoaXMuY2xvc2Vfbm9kZShuW3JdLGkpO3JldHVybiEwfXJldHVybiEoIShuPXRoaXMuZ2V0X25vZGUobikpfHxuLmlkPT09ZS5qc3RyZWUucm9vdCkmJiF0aGlzLmlzX2Nsb3NlZChuKSYmKGk9aT09PXQ/dGhpcy5zZXR0aW5ncy5jb3JlLmFuaW1hdGlvbjppLGE9dGhpcyxvPXRoaXMuZ2V0X25vZGUobiwhMCksbi5zdGF0ZS5vcGVuZWQ9ITEsdGhpcy50cmlnZ2VyKFwiY2xvc2Vfbm9kZVwiLHtub2RlOm59KSx2b2lkKG8ubGVuZ3RoP2k/by5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikuYXR0cihcInN0eWxlXCIsXCJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnRcIikuZW5kKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtb3BlblwiKS5hZGRDbGFzcyhcImpzdHJlZS1jbG9zZWRcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSkuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnN0b3AoITAsITApLnNsaWRlVXAoaSxmdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT1cIlwiLG8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnJlbW92ZSgpLGEuZWxlbWVudCYmYS50cmlnZ2VyKFwiYWZ0ZXJfY2xvc2VcIix7bm9kZTpufSl9KToob1swXS5jbGFzc05hbWU9b1swXS5jbGFzc05hbWUucmVwbGFjZShcImpzdHJlZS1vcGVuXCIsXCJqc3RyZWUtY2xvc2VkXCIpLG8uYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSkuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlcihcImFmdGVyX2Nsb3NlXCIse25vZGU6bn0pKTp0aGlzLnRyaWdnZXIoXCJhZnRlcl9jbG9zZVwiLHtub2RlOm59KSkpfSx0b2dnbGVfbm9kZTpmdW5jdGlvbih0KXt2YXIgbixpO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxpPXQubGVuZ3RoO248aTtuKyspdGhpcy50b2dnbGVfbm9kZSh0W25dKTtyZXR1cm4hMH1yZXR1cm4gdGhpcy5pc19jbG9zZWQodCk/dGhpcy5vcGVuX25vZGUodCk6dGhpcy5pc19vcGVuKHQpP3RoaXMuY2xvc2Vfbm9kZSh0KTp2b2lkIDB9LG9wZW5fYWxsOmZ1bmN0aW9uKHQsbixpKXtpZih0fHwodD1lLmpzdHJlZS5yb290KSwhKHQ9dGhpcy5nZXRfbm9kZSh0KSkpcmV0dXJuITE7dmFyIHIscyxhLG89dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5nZXRfY29udGFpbmVyX3VsKCk6dGhpcy5nZXRfbm9kZSh0LCEwKTtpZighby5sZW5ndGgpe2ZvcihyPTAscz10LmNoaWxkcmVuX2QubGVuZ3RoO3I8cztyKyspdGhpcy5pc19jbG9zZWQodGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2Rbcl1dKSYmKHRoaXMuX21vZGVsLmRhdGFbdC5jaGlsZHJlbl9kW3JdXS5zdGF0ZS5vcGVuZWQ9ITApO3JldHVybiB0aGlzLnRyaWdnZXIoXCJvcGVuX2FsbFwiLHtub2RlOnR9KX1pPWl8fG8sYT10aGlzLChvPXRoaXMuaXNfY2xvc2VkKHQpP28uZmluZChcIi5qc3RyZWUtY2xvc2VkXCIpLmFkZEJhY2soKTpvLmZpbmQoXCIuanN0cmVlLWNsb3NlZFwiKSkuZWFjaChmdW5jdGlvbigpe2Eub3Blbl9ub2RlKHRoaXMsZnVuY3Rpb24oZSx0KXt0JiZ0aGlzLmlzX3BhcmVudChlKSYmdGhpcy5vcGVuX2FsbChlLG4saSl9LG58fDApfSksMD09PWkuZmluZChcIi5qc3RyZWUtY2xvc2VkXCIpLmxlbmd0aCYmdGhpcy50cmlnZ2VyKFwib3Blbl9hbGxcIix7bm9kZTp0aGlzLmdldF9ub2RlKGkpfSl9LGNsb3NlX2FsbDpmdW5jdGlvbih0LG4pe2lmKHR8fCh0PWUuanN0cmVlLnJvb3QpLCEodD10aGlzLmdldF9ub2RlKHQpKSlyZXR1cm4hMTt2YXIgaSxyLHM9dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5nZXRfY29udGFpbmVyX3VsKCk6dGhpcy5nZXRfbm9kZSh0LCEwKSxhPXRoaXM7Zm9yKHMubGVuZ3RoJiYocz10aGlzLmlzX29wZW4odCk/cy5maW5kKFwiLmpzdHJlZS1vcGVuXCIpLmFkZEJhY2soKTpzLmZpbmQoXCIuanN0cmVlLW9wZW5cIiksZShzLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe2EuY2xvc2Vfbm9kZSh0aGlzLG58fDApfSkpLGk9MCxyPXQuY2hpbGRyZW5fZC5sZW5ndGg7aTxyO2krKyl0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtpXV0uc3RhdGUub3BlbmVkPSExO3RoaXMudHJpZ2dlcihcImNsb3NlX2FsbFwiLHtub2RlOnR9KX0saXNfZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dGhpcy5nZXRfbm9kZShlKSkmJmUuc3RhdGUmJmUuc3RhdGUuZGlzYWJsZWR9LGVuYWJsZV9ub2RlOmZ1bmN0aW9uKHQpe3ZhciBuLGk7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl0aGlzLmVuYWJsZV9ub2RlKHRbbl0pO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dC5zdGF0ZS5kaXNhYmxlZD0hMSx0aGlzLmdldF9ub2RlKHQsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIiwhMSksdGhpcy50cmlnZ2VyKFwiZW5hYmxlX25vZGVcIix7bm9kZTp0fSl9LGRpc2FibGVfbm9kZTpmdW5jdGlvbih0KXt2YXIgbixpO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxpPXQubGVuZ3RoO248aTtuKyspdGhpcy5kaXNhYmxlX25vZGUodFtuXSk7cmV0dXJuITB9aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTt0LnN0YXRlLmRpc2FibGVkPSEwLHRoaXMuZ2V0X25vZGUodCwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhcImpzdHJlZS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLCEwKSx0aGlzLnRyaWdnZXIoXCJkaXNhYmxlX25vZGVcIix7bm9kZTp0fSl9LGlzX2hpZGRlbjpmdW5jdGlvbihlKXtyZXR1cm4hMD09PShlPXRoaXMuZ2V0X25vZGUoZSkpLnN0YXRlLmhpZGRlbn0saGlkZV9ub2RlOmZ1bmN0aW9uKHQsbil7dmFyIGkscjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXRoaXMuaGlkZV9ub2RlKHRbaV0sITApO3JldHVybiBufHx0aGlzLnJlZHJhdygpLCEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dC5zdGF0ZS5oaWRkZW58fCh0LnN0YXRlLmhpZGRlbj0hMCx0aGlzLl9ub2RlX2NoYW5nZWQodC5wYXJlbnQpLG58fHRoaXMucmVkcmF3KCksdGhpcy50cmlnZ2VyKFwiaGlkZV9ub2RlXCIse25vZGU6dH0pKX0sc2hvd19ub2RlOmZ1bmN0aW9uKHQsbil7dmFyIGkscjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXRoaXMuc2hvd19ub2RlKHRbaV0sITApO3JldHVybiBufHx0aGlzLnJlZHJhdygpLCEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dC5zdGF0ZS5oaWRkZW4mJih0LnN0YXRlLmhpZGRlbj0hMSx0aGlzLl9ub2RlX2NoYW5nZWQodC5wYXJlbnQpLG58fHRoaXMucmVkcmF3KCksdGhpcy50cmlnZ2VyKFwic2hvd19ub2RlXCIse25vZGU6dH0pKX0saGlkZV9hbGw6ZnVuY3Rpb24odCl7dmFyIG4saT10aGlzLl9tb2RlbC5kYXRhLHI9W107Zm9yKG4gaW4gaSlpLmhhc093blByb3BlcnR5KG4pJiZuIT09ZS5qc3RyZWUucm9vdCYmIWlbbl0uc3RhdGUuaGlkZGVuJiYoaVtuXS5zdGF0ZS5oaWRkZW49ITAsci5wdXNoKG4pKTtyZXR1cm4gdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITAsdHx8dGhpcy5yZWRyYXcoKSx0aGlzLnRyaWdnZXIoXCJoaWRlX2FsbFwiLHtub2RlczpyfSkscn0sc2hvd19hbGw6ZnVuY3Rpb24odCl7dmFyIG4saT10aGlzLl9tb2RlbC5kYXRhLHI9W107Zm9yKG4gaW4gaSlpLmhhc093blByb3BlcnR5KG4pJiZuIT09ZS5qc3RyZWUucm9vdCYmaVtuXS5zdGF0ZS5oaWRkZW4mJihpW25dLnN0YXRlLmhpZGRlbj0hMSxyLnB1c2gobikpO3JldHVybiB0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMCx0fHx0aGlzLnJlZHJhdygpLHRoaXMudHJpZ2dlcihcInNob3dfYWxsXCIse25vZGVzOnJ9KSxyfSxhY3RpdmF0ZV9ub2RlOmZ1bmN0aW9uKGUsbil7aWYodGhpcy5pc19kaXNhYmxlZChlKSlyZXR1cm4hMTtpZihuJiZcIm9iamVjdFwiPT09KHZvaWQgMD09PW4/XCJ1bmRlZmluZWRcIjphKG4pKXx8KG49e30pLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCE9PXQ/dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLmlkKTpudWxsLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJiF0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnN0YXRlLnNlbGVjdGVkJiYodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD1udWxsKSwhdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aC0xXSkpLHRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmKG4ubWV0YUtleXx8bi5jdHJsS2V5fHxuLnNoaWZ0S2V5KSYmKCFuLnNoaWZ0S2V5fHx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkJiZ0aGlzLmdldF9wYXJlbnQoZSkmJnRoaXMuZ2V0X3BhcmVudChlKT09PXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KSlpZihuLnNoaWZ0S2V5KXt2YXIgaSxyLHM9dGhpcy5nZXRfbm9kZShlKS5pZCxvPXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQuaWQsZD10aGlzLmdldF9ub2RlKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KS5jaGlsZHJlbixsPSExO2ZvcihpPTAscj1kLmxlbmd0aDtpPHI7aSs9MSlkW2ldPT09cyYmKGw9IWwpLGRbaV09PT1vJiYobD0hbCksdGhpcy5pc19kaXNhYmxlZChkW2ldKXx8IWwmJmRbaV0hPT1zJiZkW2ldIT09bz90aGlzLmRlc2VsZWN0X25vZGUoZFtpXSwhMCxuKTp0aGlzLmlzX2hpZGRlbihkW2ldKXx8dGhpcy5zZWxlY3Rfbm9kZShkW2ldLCEwLCExLG4pO3RoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwic2VsZWN0X25vZGVcIixub2RlOnRoaXMuZ2V0X25vZGUoZSksc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGV2ZW50Om59KX1lbHNlIHRoaXMuaXNfc2VsZWN0ZWQoZSk/dGhpcy5kZXNlbGVjdF9ub2RlKGUsITEsbik6dGhpcy5zZWxlY3Rfbm9kZShlLCExLCExLG4pO2Vsc2UhdGhpcy5zZXR0aW5ncy5jb3JlLm11bHRpcGxlJiYobi5tZXRhS2V5fHxuLmN0cmxLZXl8fG4uc2hpZnRLZXkpJiZ0aGlzLmlzX3NlbGVjdGVkKGUpP3RoaXMuZGVzZWxlY3Rfbm9kZShlLCExLG4pOih0aGlzLmRlc2VsZWN0X2FsbCghMCksdGhpcy5zZWxlY3Rfbm9kZShlLCExLCExLG4pLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZShlKSk7dGhpcy50cmlnZ2VyKFwiYWN0aXZhdGVfbm9kZVwiLHtub2RlOnRoaXMuZ2V0X25vZGUoZSksZXZlbnQ6bn0pfSxob3Zlcl9ub2RlOmZ1bmN0aW9uKGUpe2lmKCEoZT10aGlzLmdldF9ub2RlKGUsITApKXx8IWUubGVuZ3RofHxlLmNoaWxkcmVuKFwiLmpzdHJlZS1ob3ZlcmVkXCIpLmxlbmd0aClyZXR1cm4hMTt2YXIgdD10aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtaG92ZXJlZFwiKSxuPXRoaXMuZWxlbWVudDt0JiZ0Lmxlbmd0aCYmdGhpcy5kZWhvdmVyX25vZGUodCksZS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKFwianN0cmVlLWhvdmVyZWRcIiksdGhpcy50cmlnZ2VyKFwiaG92ZXJfbm9kZVwiLHtub2RlOnRoaXMuZ2V0X25vZGUoZSl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsZVswXS5pZCl9LDApfSxkZWhvdmVyX25vZGU6ZnVuY3Rpb24oZSl7aWYoIShlPXRoaXMuZ2V0X25vZGUoZSwhMCkpfHwhZS5sZW5ndGh8fCFlLmNoaWxkcmVuKFwiLmpzdHJlZS1ob3ZlcmVkXCIpLmxlbmd0aClyZXR1cm4hMTtlLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtaG92ZXJlZFwiKSx0aGlzLnRyaWdnZXIoXCJkZWhvdmVyX25vZGVcIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSl9LHNlbGVjdF9ub2RlOmZ1bmN0aW9uKHQsbixpLHIpe3ZhciBzLGEsbztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxhPTAsbz10Lmxlbmd0aDthPG87YSsrKXRoaXMuc2VsZWN0X25vZGUodFthXSxuLGkscik7cmV0dXJuITB9aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTtzPXRoaXMuZ2V0X25vZGUodCwhMCksdC5zdGF0ZS5zZWxlY3RlZHx8KHQuc3RhdGUuc2VsZWN0ZWQ9ITAsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2godC5pZCksaXx8KHM9dGhpcy5fb3Blbl90byh0KSkscyYmcy5sZW5ndGgmJnMuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhcImpzdHJlZS1jbGlja2VkXCIpLHRoaXMudHJpZ2dlcihcInNlbGVjdF9ub2RlXCIse25vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6cn0pLG58fHRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwic2VsZWN0X25vZGVcIixub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGV2ZW50OnJ9KSl9LGRlc2VsZWN0X25vZGU6ZnVuY3Rpb24odCxuLGkpe3ZhciByLHMsYTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAscz10Lmxlbmd0aDtyPHM7cisrKXRoaXMuZGVzZWxlY3Rfbm9kZSh0W3JdLG4saSk7cmV0dXJuITB9aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTthPXRoaXMuZ2V0X25vZGUodCwhMCksdC5zdGF0ZS5zZWxlY3RlZCYmKHQuc3RhdGUuc2VsZWN0ZWQ9ITEsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCx0LmlkKSxhLmxlbmd0aCYmYS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNsaWNrZWRcIiksdGhpcy50cmlnZ2VyKFwiZGVzZWxlY3Rfbm9kZVwiLHtub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGV2ZW50Oml9KSxufHx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcImRlc2VsZWN0X25vZGVcIixub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGV2ZW50Oml9KSl9LHNlbGVjdF9hbGw6ZnVuY3Rpb24odCl7dmFyIG4saSxyPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoW10pO2Zvcih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9dGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS5jaGlsZHJlbl9kLmNvbmNhdCgpLG49MCxpPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7bjxpO24rKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtuXV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtuXV0uc3RhdGUuc2VsZWN0ZWQ9ITApO3RoaXMucmVkcmF3KCEwKSx0aGlzLnRyaWdnZXIoXCJzZWxlY3RfYWxsXCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pLHR8fHRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwic2VsZWN0X2FsbFwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxvbGRfc2VsZWN0aW9uOnJ9KX0sZGVzZWxlY3RfYWxsOmZ1bmN0aW9uKGUpe3ZhciB0LG4saT10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IodD0wLG49dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDt0PG47dCsrKXRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW3RdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW3RdXS5zdGF0ZS5zZWxlY3RlZD0hMSk7dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPVtdLHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1jbGlja2VkXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNsaWNrZWRcIikucGFyZW50KCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMSksdGhpcy50cmlnZ2VyKFwiZGVzZWxlY3RfYWxsXCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxub2RlOml9KSxlfHx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcImRlc2VsZWN0X2FsbFwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxvbGRfc2VsZWN0aW9uOml9KX0saXNfc2VsZWN0ZWQ6ZnVuY3Rpb24odCl7cmV0dXJuISghKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmdC5zdGF0ZS5zZWxlY3RlZH0sZ2V0X3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiB0P2UubWFwKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCl9LGdldF90b3Bfc2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIG4saSxyLHMsYT10aGlzLmdldF9zZWxlY3RlZCghMCksbz17fTtmb3Iobj0wLGk9YS5sZW5ndGg7bjxpO24rKylvW2Fbbl0uaWRdPWFbbl07Zm9yKG49MCxpPWEubGVuZ3RoO248aTtuKyspZm9yKHI9MCxzPWFbbl0uY2hpbGRyZW5fZC5sZW5ndGg7cjxzO3IrKylvW2Fbbl0uY2hpbGRyZW5fZFtyXV0mJmRlbGV0ZSBvW2Fbbl0uY2hpbGRyZW5fZFtyXV07Zm9yKG4gaW4gYT1bXSxvKW8uaGFzT3duUHJvcGVydHkobikmJmEucHVzaChuKTtyZXR1cm4gdD9lLm1hcChhLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTphfSxnZXRfYm90dG9tX3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBuLGkscj10aGlzLmdldF9zZWxlY3RlZCghMCkscz1bXTtmb3Iobj0wLGk9ci5sZW5ndGg7bjxpO24rKylyW25dLmNoaWxkcmVuLmxlbmd0aHx8cy5wdXNoKHJbbl0uaWQpO3JldHVybiB0P2UubWFwKHMsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnN9LGdldF9zdGF0ZTpmdW5jdGlvbigpe3ZhciB0LG49e2NvcmU6e29wZW46W10sbG9hZGVkOltdLHNjcm9sbDp7bGVmdDp0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdCgpLHRvcDp0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wKCl9LFxuLyohXG4gICAgICd0aGVtZXMnIDoge1xuICAgICBcdCduYW1lJyA6IHRoaXMuZ2V0X3RoZW1lKCksXG4gICAgIFx0J2ljb25zJyA6IHRoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnMsXG4gICAgIFx0J2RvdHMnIDogdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzXG4gICAgIH0sXG4gICAgICovXG5zZWxlY3RlZDpbXX19O2Zvcih0IGluIHRoaXMuX21vZGVsLmRhdGEpdGhpcy5fbW9kZWwuZGF0YS5oYXNPd25Qcm9wZXJ0eSh0KSYmdCE9PWUuanN0cmVlLnJvb3QmJih0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLmxvYWRlZCYmdGhpcy5zZXR0aW5ncy5jb3JlLmxvYWRlZF9zdGF0ZSYmbi5jb3JlLmxvYWRlZC5wdXNoKHQpLHRoaXMuX21vZGVsLmRhdGFbdF0uc3RhdGUub3BlbmVkJiZuLmNvcmUub3Blbi5wdXNoKHQpLHRoaXMuX21vZGVsLmRhdGFbdF0uc3RhdGUuc2VsZWN0ZWQmJm4uY29yZS5zZWxlY3RlZC5wdXNoKHQpKTtyZXR1cm4gbn0sc2V0X3N0YXRlOmZ1bmN0aW9uKG4saSl7aWYobil7aWYobi5jb3JlJiZuLmNvcmUuc2VsZWN0ZWQmJm4uY29yZS5pbml0aWFsX3NlbGVjdGlvbj09PXQmJihuLmNvcmUuaW5pdGlhbF9zZWxlY3Rpb249dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSkuc29ydCgpLmpvaW4oXCIsXCIpKSxuLmNvcmUpe3ZhciByLHM7aWYobi5jb3JlLmxvYWRlZClyZXR1cm4gdGhpcy5zZXR0aW5ncy5jb3JlLmxvYWRlZF9zdGF0ZSYmZS5pc0FycmF5KG4uY29yZS5sb2FkZWQpJiZuLmNvcmUubG9hZGVkLmxlbmd0aD90aGlzLl9sb2FkX25vZGVzKG4uY29yZS5sb2FkZWQsZnVuY3Rpb24oZSl7ZGVsZXRlIG4uY29yZS5sb2FkZWQsdGhpcy5zZXRfc3RhdGUobixpKX0pOihkZWxldGUgbi5jb3JlLmxvYWRlZCx0aGlzLnNldF9zdGF0ZShuLGkpKSwhMTtpZihuLmNvcmUub3BlbilyZXR1cm4gZS5pc0FycmF5KG4uY29yZS5vcGVuKSYmbi5jb3JlLm9wZW4ubGVuZ3RoP3RoaXMuX2xvYWRfbm9kZXMobi5jb3JlLm9wZW4sZnVuY3Rpb24oZSl7dGhpcy5vcGVuX25vZGUoZSwhMSwwKSxkZWxldGUgbi5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUobixpKX0pOihkZWxldGUgbi5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUobixpKSksITE7aWYobi5jb3JlLnNjcm9sbClyZXR1cm4gbi5jb3JlLnNjcm9sbCYmbi5jb3JlLnNjcm9sbC5sZWZ0IT09dCYmdGhpcy5lbGVtZW50LnNjcm9sbExlZnQobi5jb3JlLnNjcm9sbC5sZWZ0KSxuLmNvcmUuc2Nyb2xsJiZuLmNvcmUuc2Nyb2xsLnRvcCE9PXQmJnRoaXMuZWxlbWVudC5zY3JvbGxUb3Aobi5jb3JlLnNjcm9sbC50b3ApLGRlbGV0ZSBuLmNvcmUuc2Nyb2xsLHRoaXMuc2V0X3N0YXRlKG4saSksITE7aWYobi5jb3JlLnNlbGVjdGVkKXJldHVybiByPXRoaXMsbi5jb3JlLmluaXRpYWxfc2VsZWN0aW9uIT09dCYmbi5jb3JlLmluaXRpYWxfc2VsZWN0aW9uIT09dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSkuc29ydCgpLmpvaW4oXCIsXCIpfHwodGhpcy5kZXNlbGVjdF9hbGwoKSxlLmVhY2gobi5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKGUsdCl7ci5zZWxlY3Rfbm9kZSh0LCExLCEwKX0pKSxkZWxldGUgbi5jb3JlLmluaXRpYWxfc2VsZWN0aW9uLGRlbGV0ZSBuLmNvcmUuc2VsZWN0ZWQsdGhpcy5zZXRfc3RhdGUobixpKSwhMTtmb3IocyBpbiBuKW4uaGFzT3duUHJvcGVydHkocykmJlwiY29yZVwiIT09cyYmLTE9PT1lLmluQXJyYXkocyx0aGlzLnNldHRpbmdzLnBsdWdpbnMpJiZkZWxldGUgbltzXTtpZihlLmlzRW1wdHlPYmplY3Qobi5jb3JlKSlyZXR1cm4gZGVsZXRlIG4uY29yZSx0aGlzLnNldF9zdGF0ZShuLGkpLCExfXJldHVybiFlLmlzRW1wdHlPYmplY3Qobil8fChuPW51bGwsaSYmaS5jYWxsKHRoaXMpLHRoaXMudHJpZ2dlcihcInNldF9zdGF0ZVwiKSwhMSl9cmV0dXJuITF9LHJlZnJlc2g6ZnVuY3Rpb24odCxuKXt0aGlzLl9kYXRhLmNvcmUuc3RhdGU9ITA9PT1uP3t9OnRoaXMuZ2V0X3N0YXRlKCksbiYmZS5pc0Z1bmN0aW9uKG4pJiYodGhpcy5fZGF0YS5jb3JlLnN0YXRlPW4uY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5zdGF0ZSkpLHRoaXMuX2NudD0wLHRoaXMuX21vZGVsLmRhdGE9e30sdGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XT17aWQ6ZS5qc3RyZWUucm9vdCxwYXJlbnQ6bnVsbCxwYXJlbnRzOltdLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sc3RhdGU6e2xvYWRlZDohMX19LHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1bXSx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPW51bGwsdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbDt2YXIgaT10aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWU7dHx8KHRoaXMuZWxlbWVudC5odG1sKFwiPHVsIGNsYXNzPSdcIitpK1wiJyByb2xlPSdncm91cCc+PGxpIGNsYXNzPSdqc3RyZWUtaW5pdGlhbC1ub2RlIGpzdHJlZS1sb2FkaW5nIGpzdHJlZS1sZWFmIGpzdHJlZS1sYXN0JyByb2xlPSd0cmVlaXRlbScgaWQ9J2pcIit0aGlzLl9pZCtcIl9sb2FkaW5nJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLW9jbCc+PC9pPjxhIGNsYXNzPSdqc3RyZWUtYW5jaG9yJyBocmVmPScjJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbi1oaWRkZW4nPjwvaT5cIit0aGlzLmdldF9zdHJpbmcoXCJMb2FkaW5nIC4uLlwiKStcIjwvYT48L2xpPjwvdWw+XCIpLHRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsXCJqXCIrdGhpcy5faWQrXCJfbG9hZGluZ1wiKSksdGhpcy5sb2FkX25vZGUoZS5qc3RyZWUucm9vdCxmdW5jdGlvbih0LG4pe24mJih0aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWU9aSx0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIix0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKS5pZCksdGhpcy5zZXRfc3RhdGUoZS5leHRlbmQoITAse30sdGhpcy5fZGF0YS5jb3JlLnN0YXRlKSxmdW5jdGlvbigpe3RoaXMudHJpZ2dlcihcInJlZnJlc2hcIil9KSksdGhpcy5fZGF0YS5jb3JlLnN0YXRlPW51bGx9KX0scmVmcmVzaF9ub2RlOmZ1bmN0aW9uKHQpe2lmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dmFyIG49W10saT1bXSxyPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoW10pO2kucHVzaCh0LmlkKSwhMD09PXQuc3RhdGUub3BlbmVkJiZuLnB1c2godC5pZCksdGhpcy5nZXRfbm9kZSh0LCEwKS5maW5kKFwiLmpzdHJlZS1vcGVuXCIpLmVhY2goZnVuY3Rpb24oKXtpLnB1c2godGhpcy5pZCksbi5wdXNoKHRoaXMuaWQpfSksdGhpcy5fbG9hZF9ub2RlcyhpLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5vcGVuX25vZGUobiwhMSwwKSx0aGlzLnNlbGVjdF9ub2RlKHIpLHRoaXMudHJpZ2dlcihcInJlZnJlc2hfbm9kZVwiLHtub2RlOnQsbm9kZXM6ZX0pfSx0aGlzKSwhMSwhMCl9LHNldF9pZDpmdW5jdGlvbih0LG4pe2lmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dmFyIGkscixzPXRoaXMuX21vZGVsLmRhdGEsYT10LmlkO2ZvcihuPW4udG9TdHJpbmcoKSxzW3QucGFyZW50XS5jaGlsZHJlbltlLmluQXJyYXkodC5pZCxzW3QucGFyZW50XS5jaGlsZHJlbildPW4saT0wLHI9dC5wYXJlbnRzLmxlbmd0aDtpPHI7aSsrKXNbdC5wYXJlbnRzW2ldXS5jaGlsZHJlbl9kW2UuaW5BcnJheSh0LmlkLHNbdC5wYXJlbnRzW2ldXS5jaGlsZHJlbl9kKV09bjtmb3IoaT0wLHI9dC5jaGlsZHJlbi5sZW5ndGg7aTxyO2krKylzW3QuY2hpbGRyZW5baV1dLnBhcmVudD1uO2ZvcihpPTAscj10LmNoaWxkcmVuX2QubGVuZ3RoO2k8cjtpKyspc1t0LmNoaWxkcmVuX2RbaV1dLnBhcmVudHNbZS5pbkFycmF5KHQuaWQsc1t0LmNoaWxkcmVuX2RbaV1dLnBhcmVudHMpXT1uO3JldHVybi0xIT09KGk9ZS5pbkFycmF5KHQuaWQsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSkmJih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbaV09biksKGk9dGhpcy5nZXRfbm9kZSh0LmlkLCEwKSkmJihpLmF0dHIoXCJpZFwiLG4pLHRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIpPT09dC5pZCYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixuKSksZGVsZXRlIHNbdC5pZF0sdC5pZD1uLHQubGlfYXR0ci5pZD1uLHNbbl09dCx0aGlzLnRyaWdnZXIoXCJzZXRfaWRcIix7bm9kZTp0LG5ldzp0LmlkLG9sZDphfSksITB9LGdldF90ZXh0OmZ1bmN0aW9uKHQpe3JldHVybiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJnQudGV4dH0sc2V0X3RleHQ6ZnVuY3Rpb24odCxuKXt2YXIgaSxyO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspdGhpcy5zZXRfdGV4dCh0W2ldLG4pO3JldHVybiEwfXJldHVybiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdHx8KHQudGV4dD1uLHRoaXMuZ2V0X25vZGUodCwhMCkubGVuZ3RoJiZ0aGlzLnJlZHJhd19ub2RlKHQuaWQpLHRoaXMudHJpZ2dlcihcInNldF90ZXh0XCIse29iajp0LHRleHQ6bn0pLDApKX0sZ2V0X2pzb246ZnVuY3Rpb24odCxuLGkpe2lmKCEodD10aGlzLmdldF9ub2RlKHR8fGUuanN0cmVlLnJvb3QpKSlyZXR1cm4hMTtuJiZuLmZsYXQmJiFpJiYoaT1bXSk7dmFyIHIscyxhPXtpZDp0LmlkLHRleHQ6dC50ZXh0LGljb246dGhpcy5nZXRfaWNvbih0KSxsaV9hdHRyOmUuZXh0ZW5kKCEwLHt9LHQubGlfYXR0ciksYV9hdHRyOmUuZXh0ZW5kKCEwLHt9LHQuYV9hdHRyKSxzdGF0ZTp7fSxkYXRhOighbnx8IW4ubm9fZGF0YSkmJmUuZXh0ZW5kKCEwLGUuaXNBcnJheSh0LmRhdGEpP1tdOnt9LHQuZGF0YSl9O2lmKG4mJm4uZmxhdD9hLnBhcmVudD10LnBhcmVudDphLmNoaWxkcmVuPVtdLG4mJm4ubm9fc3RhdGUpZGVsZXRlIGEuc3RhdGU7ZWxzZSBmb3IociBpbiB0LnN0YXRlKXQuc3RhdGUuaGFzT3duUHJvcGVydHkocikmJihhLnN0YXRlW3JdPXQuc3RhdGVbcl0pO2lmKG4mJm4ubm9fbGlfYXR0ciYmZGVsZXRlIGEubGlfYXR0cixuJiZuLm5vX2FfYXR0ciYmZGVsZXRlIGEuYV9hdHRyLG4mJm4ubm9faWQmJihkZWxldGUgYS5pZCxhLmxpX2F0dHImJmEubGlfYXR0ci5pZCYmZGVsZXRlIGEubGlfYXR0ci5pZCxhLmFfYXR0ciYmYS5hX2F0dHIuaWQmJmRlbGV0ZSBhLmFfYXR0ci5pZCksbiYmbi5mbGF0JiZ0LmlkIT09ZS5qc3RyZWUucm9vdCYmaS5wdXNoKGEpLCFufHwhbi5ub19jaGlsZHJlbilmb3Iocj0wLHM9dC5jaGlsZHJlbi5sZW5ndGg7cjxzO3IrKyluJiZuLmZsYXQ/dGhpcy5nZXRfanNvbih0LmNoaWxkcmVuW3JdLG4saSk6YS5jaGlsZHJlbi5wdXNoKHRoaXMuZ2V0X2pzb24odC5jaGlsZHJlbltyXSxuKSk7cmV0dXJuIG4mJm4uZmxhdD9pOnQuaWQ9PT1lLmpzdHJlZS5yb290P2EuY2hpbGRyZW46YX0sY3JlYXRlX25vZGU6ZnVuY3Rpb24obixpLHIscyxhKXtpZihudWxsPT09biYmKG49ZS5qc3RyZWUucm9vdCksIShuPXRoaXMuZ2V0X25vZGUobikpKXJldHVybiExO2lmKCEocj1yPT09dD9cImxhc3RcIjpyKS50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFhJiYhdGhpcy5pc19sb2FkZWQobikpcmV0dXJuIHRoaXMubG9hZF9ub2RlKG4sZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZV9ub2RlKG4saSxyLHMsITApfSk7dmFyIG8sZCxsLGM7c3dpdGNoKGl8fChpPXt0ZXh0OnRoaXMuZ2V0X3N0cmluZyhcIk5ldyBub2RlXCIpfSksKGk9XCJzdHJpbmdcIj09dHlwZW9mIGk/e3RleHQ6aX06ZS5leHRlbmQoITAse30saSkpLnRleHQ9PT10JiYoaS50ZXh0PXRoaXMuZ2V0X3N0cmluZyhcIk5ldyBub2RlXCIpKSxuLmlkPT09ZS5qc3RyZWUucm9vdCYmKFwiYmVmb3JlXCI9PT1yJiYocj1cImZpcnN0XCIpLFwiYWZ0ZXJcIj09PXImJihyPVwibGFzdFwiKSkscil7Y2FzZVwiYmVmb3JlXCI6bz10aGlzLmdldF9ub2RlKG4ucGFyZW50KSxyPWUuaW5BcnJheShuLmlkLG8uY2hpbGRyZW4pLG49bzticmVhaztjYXNlXCJhZnRlclwiOm89dGhpcy5nZXRfbm9kZShuLnBhcmVudCkscj1lLmluQXJyYXkobi5pZCxvLmNoaWxkcmVuKSsxLG49bzticmVhaztjYXNlXCJpbnNpZGVcIjpjYXNlXCJmaXJzdFwiOnI9MDticmVhaztjYXNlXCJsYXN0XCI6cj1uLmNoaWxkcmVuLmxlbmd0aDticmVhaztkZWZhdWx0OnJ8fChyPTApfWlmKHI+bi5jaGlsZHJlbi5sZW5ndGgmJihyPW4uY2hpbGRyZW4ubGVuZ3RoKSxpLmlkfHwoaS5pZD0hMCksIXRoaXMuY2hlY2soXCJjcmVhdGVfbm9kZVwiLGksbixyKSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITE7aWYoITA9PT1pLmlkJiZkZWxldGUgaS5pZCwhKGk9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKGksbi5pZCxuLnBhcmVudHMuY29uY2F0KCkpKSlyZXR1cm4hMTtmb3Iobz10aGlzLmdldF9ub2RlKGkpLChkPVtdKS5wdXNoKGkpLGQ9ZC5jb25jYXQoby5jaGlsZHJlbl9kKSx0aGlzLnRyaWdnZXIoXCJtb2RlbFwiLHtub2RlczpkLHBhcmVudDpuLmlkfSksbi5jaGlsZHJlbl9kPW4uY2hpbGRyZW5fZC5jb25jYXQoZCksbD0wLGM9bi5wYXJlbnRzLmxlbmd0aDtsPGM7bCsrKXRoaXMuX21vZGVsLmRhdGFbbi5wYXJlbnRzW2xdXS5jaGlsZHJlbl9kPXRoaXMuX21vZGVsLmRhdGFbbi5wYXJlbnRzW2xdXS5jaGlsZHJlbl9kLmNvbmNhdChkKTtmb3IoaT1vLG89W10sbD0wLGM9bi5jaGlsZHJlbi5sZW5ndGg7bDxjO2wrKylvW2w+PXI/bCsxOmxdPW4uY2hpbGRyZW5bbF07cmV0dXJuIG9bcl09aS5pZCxuLmNoaWxkcmVuPW8sdGhpcy5yZWRyYXdfbm9kZShuLCEwKSx0aGlzLnRyaWdnZXIoXCJjcmVhdGVfbm9kZVwiLHtub2RlOnRoaXMuZ2V0X25vZGUoaSkscGFyZW50Om4uaWQscG9zaXRpb246cn0pLHMmJnMuY2FsbCh0aGlzLHRoaXMuZ2V0X25vZGUoaSkpLGkuaWR9LHJlbmFtZV9ub2RlOmZ1bmN0aW9uKHQsbil7dmFyIGkscixzO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspdGhpcy5yZW5hbWVfbm9kZSh0W2ldLG4pO3JldHVybiEwfXJldHVybiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdHx8KHM9dC50ZXh0LHRoaXMuY2hlY2soXCJyZW5hbWVfbm9kZVwiLHQsdGhpcy5nZXRfcGFyZW50KHQpLG4pPyh0aGlzLnNldF90ZXh0KHQsbiksdGhpcy50cmlnZ2VyKFwicmVuYW1lX25vZGVcIix7bm9kZTp0LHRleHQ6bixvbGQ6c30pLDApOih0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwxKSkpfSxkZWxldGVfbm9kZTpmdW5jdGlvbih0KXt2YXIgbixpLHIscyxhLG8sZCxsLGMsaCx1LGY7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl0aGlzLmRlbGV0ZV9ub2RlKHRbbl0pO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7aWYocj10aGlzLmdldF9ub2RlKHQucGFyZW50KSxzPWUuaW5BcnJheSh0LmlkLHIuY2hpbGRyZW4pLGg9ITEsIXRoaXMuY2hlY2soXCJkZWxldGVfbm9kZVwiLHQscixzKSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITE7Zm9yKC0xIT09cyYmKHIuY2hpbGRyZW49ZS52YWthdGEuYXJyYXlfcmVtb3ZlKHIuY2hpbGRyZW4scykpLChhPXQuY2hpbGRyZW5fZC5jb25jYXQoW10pKS5wdXNoKHQuaWQpLG89MCxkPXQucGFyZW50cy5sZW5ndGg7bzxkO28rKyl0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1tvXV0uY2hpbGRyZW5fZD1lLnZha2F0YS5hcnJheV9maWx0ZXIodGhpcy5fbW9kZWwuZGF0YVt0LnBhcmVudHNbb11dLmNoaWxkcmVuX2QsZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluQXJyYXkodCxhKX0pO2ZvcihsPTAsYz1hLmxlbmd0aDtsPGM7bCsrKWlmKHRoaXMuX21vZGVsLmRhdGFbYVtsXV0uc3RhdGUuc2VsZWN0ZWQpe2g9ITA7YnJlYWt9Zm9yKGgmJih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfZmlsdGVyKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxmdW5jdGlvbih0KXtyZXR1cm4tMT09PWUuaW5BcnJheSh0LGEpfSkpLHRoaXMudHJpZ2dlcihcImRlbGV0ZV9ub2RlXCIse25vZGU6dCxwYXJlbnQ6ci5pZH0pLGgmJnRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwiZGVsZXRlX25vZGVcIixub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLHBhcmVudDpyLmlkfSksbD0wLGM9YS5sZW5ndGg7bDxjO2wrKylkZWxldGUgdGhpcy5fbW9kZWwuZGF0YVthW2xdXTtyZXR1cm4tMSE9PWUuaW5BcnJheSh0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZCxhKSYmKHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGwsdT10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsVG9wLGY9dGhpcy5lbGVtZW50WzBdLnNjcm9sbExlZnQsci5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS5jaGlsZHJlblswXSYmdGhpcy5nZXRfbm9kZSh0aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLmNoaWxkcmVuWzBdLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCk6dGhpcy5nZXRfbm9kZShyLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCksdGhpcy5lbGVtZW50WzBdLnNjcm9sbFRvcD11LHRoaXMuZWxlbWVudFswXS5zY3JvbGxMZWZ0PWYpLHRoaXMucmVkcmF3X25vZGUociwhMCksITB9LGNoZWNrOmZ1bmN0aW9uKHQsbixpLHIscyl7bj1uJiZuLmlkP246dGhpcy5nZXRfbm9kZShuKSxpPWkmJmkuaWQ/aTp0aGlzLmdldF9ub2RlKGkpO3ZhciBhPXQubWF0Y2goL15tb3ZlX25vZGV8Y29weV9ub2RlfGNyZWF0ZV9ub2RlJC9pKT9pOm4sbz10aGlzLnNldHRpbmdzLmNvcmUuY2hlY2tfY2FsbGJhY2s7cmV0dXJuXCJtb3ZlX25vZGVcIiE9PXQmJlwiY29weV9ub2RlXCIhPT10fHxzJiZzLmlzX211bHRpfHxuLmlkIT09aS5pZCYmKFwibW92ZV9ub2RlXCIhPT10fHxlLmluQXJyYXkobi5pZCxpLmNoaWxkcmVuKSE9PXIpJiYtMT09PWUuaW5BcnJheShpLmlkLG4uY2hpbGRyZW5fZCk/KGEmJmEuZGF0YSYmKGE9YS5kYXRhKSxhJiZhLmZ1bmN0aW9ucyYmKCExPT09YS5mdW5jdGlvbnNbdF18fCEwPT09YS5mdW5jdGlvbnNbdF0pPyghMT09PWEuZnVuY3Rpb25zW3RdJiYodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzAyXCIscmVhc29uOlwiTm9kZSBkYXRhIHByZXZlbnRzIGZ1bmN0aW9uOiBcIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpyLG9iajohKCFufHwhbi5pZCkmJm4uaWQscGFyOiEoIWl8fCFpLmlkKSYmaS5pZH0pfSksYS5mdW5jdGlvbnNbdF0pOiEoITE9PT1vfHxlLmlzRnVuY3Rpb24obykmJiExPT09by5jYWxsKHRoaXMsdCxuLGkscixzKXx8byYmITE9PT1vW3RdKXx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wM1wiLHJlYXNvbjpcIlVzZXIgY29uZmlnIGZvciBjb3JlLmNoZWNrX2NhbGxiYWNrIHByZXZlbnRzIGZ1bmN0aW9uOiBcIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpyLG9iajohKCFufHwhbi5pZCkmJm4uaWQscGFyOiEoIWl8fCFpLmlkKSYmaS5pZH0pfSwhMSkpOih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcImNvcmVcIixpZDpcImNvcmVfMDFcIixyZWFzb246XCJNb3ZpbmcgcGFyZW50IGluc2lkZSBjaGlsZFwiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpyLG9iajohKCFufHwhbi5pZCkmJm4uaWQscGFyOiEoIWl8fCFpLmlkKSYmaS5pZH0pfSwhMSl9LGxhc3RfZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3J9LG1vdmVfbm9kZTpmdW5jdGlvbihuLGkscixzLGEsbyxkKXt2YXIgbCxjLGgsdSxmLHAsZyxfLG0sdix5LGIseCxqO2lmKGk9dGhpcy5nZXRfbm9kZShpKSxyPXI9PT10PzA6ciwhaSlyZXR1cm4hMTtpZighci50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFhJiYhdGhpcy5pc19sb2FkZWQoaSkpcmV0dXJuIHRoaXMubG9hZF9ub2RlKGksZnVuY3Rpb24oKXt0aGlzLm1vdmVfbm9kZShuLGkscixzLCEwLCExLGQpfSk7aWYoZS5pc0FycmF5KG4pKXtpZigxIT09bi5sZW5ndGgpe2ZvcihsPTAsYz1uLmxlbmd0aDtsPGM7bCsrKShtPXRoaXMubW92ZV9ub2RlKG5bbF0saSxyLHMsYSwhMSxkKSkmJihpPW0scj1cImFmdGVyXCIpO3JldHVybiB0aGlzLnJlZHJhdygpLCEwfW49blswXX1pZighKG49biYmbi5pZD9uOnRoaXMuZ2V0X25vZGUobikpfHxuLmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTtpZihoPShuLnBhcmVudHx8ZS5qc3RyZWUucm9vdCkudG9TdHJpbmcoKSxmPXIudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiZpLmlkIT09ZS5qc3RyZWUucm9vdD90aGlzLmdldF9ub2RlKGkucGFyZW50KTppLHA9ZHx8KHRoaXMuX21vZGVsLmRhdGFbbi5pZF0/dGhpczplLmpzdHJlZS5yZWZlcmVuY2Uobi5pZCkpLGc9IXB8fCFwLl9pZHx8dGhpcy5faWQhPT1wLl9pZCx1PXAmJnAuX2lkJiZoJiZwLl9tb2RlbC5kYXRhW2hdJiZwLl9tb2RlbC5kYXRhW2hdLmNoaWxkcmVuP2UuaW5BcnJheShuLmlkLHAuX21vZGVsLmRhdGFbaF0uY2hpbGRyZW4pOi0xLHAmJnAuX2lkJiYobj1wLl9tb2RlbC5kYXRhW24uaWRdKSxnKXJldHVybiEhKG09dGhpcy5jb3B5X25vZGUobixpLHIscyxhLCExLGQpKSYmKHAmJnAuZGVsZXRlX25vZGUobiksbSk7c3dpdGNoKGkuaWQ9PT1lLmpzdHJlZS5yb290JiYoXCJiZWZvcmVcIj09PXImJihyPVwiZmlyc3RcIiksXCJhZnRlclwiPT09ciYmKHI9XCJsYXN0XCIpKSxyKXtjYXNlXCJiZWZvcmVcIjpyPWUuaW5BcnJheShpLmlkLGYuY2hpbGRyZW4pO2JyZWFrO2Nhc2VcImFmdGVyXCI6cj1lLmluQXJyYXkoaS5pZCxmLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2VcImluc2lkZVwiOmNhc2VcImZpcnN0XCI6cj0wO2JyZWFrO2Nhc2VcImxhc3RcIjpyPWYuY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6cnx8KHI9MCl9aWYocj5mLmNoaWxkcmVuLmxlbmd0aCYmKHI9Zi5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKFwibW92ZV9ub2RlXCIsbixmLHIse2NvcmU6ITAsb3JpZ2luOmQsaXNfbXVsdGk6cCYmcC5faWQmJnAuX2lkIT09dGhpcy5faWQsaXNfZm9yZWlnbjohcHx8IXAuX2lkfSkpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2lmKG4ucGFyZW50PT09Zi5pZCl7Zm9yKF89Zi5jaGlsZHJlbi5jb25jYXQoKSwtMSE9PShtPWUuaW5BcnJheShuLmlkLF8pKSYmKF89ZS52YWthdGEuYXJyYXlfcmVtb3ZlKF8sbSkscj5tJiZyLS0pLG09W10sdj0wLHk9Xy5sZW5ndGg7djx5O3YrKyltW3Y+PXI/disxOnZdPV9bdl07bVtyXT1uLmlkLGYuY2hpbGRyZW49bSx0aGlzLl9ub2RlX2NoYW5nZWQoZi5pZCksdGhpcy5yZWRyYXcoZi5pZD09PWUuanN0cmVlLnJvb3QpfWVsc2V7Zm9yKChtPW4uY2hpbGRyZW5fZC5jb25jYXQoKSkucHVzaChuLmlkKSx2PTAseT1uLnBhcmVudHMubGVuZ3RoO3Y8eTt2Kyspe2ZvcihfPVtdLGo9cC5fbW9kZWwuZGF0YVtuLnBhcmVudHNbdl1dLmNoaWxkcmVuX2QsYj0wLHg9ai5sZW5ndGg7Yjx4O2IrKyktMT09PWUuaW5BcnJheShqW2JdLG0pJiZfLnB1c2goaltiXSk7cC5fbW9kZWwuZGF0YVtuLnBhcmVudHNbdl1dLmNoaWxkcmVuX2Q9X31mb3IocC5fbW9kZWwuZGF0YVtoXS5jaGlsZHJlbj1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbShwLl9tb2RlbC5kYXRhW2hdLmNoaWxkcmVuLG4uaWQpLHY9MCx5PWYucGFyZW50cy5sZW5ndGg7djx5O3YrKyl0aGlzLl9tb2RlbC5kYXRhW2YucGFyZW50c1t2XV0uY2hpbGRyZW5fZD10aGlzLl9tb2RlbC5kYXRhW2YucGFyZW50c1t2XV0uY2hpbGRyZW5fZC5jb25jYXQobSk7Zm9yKF89W10sdj0wLHk9Zi5jaGlsZHJlbi5sZW5ndGg7djx5O3YrKylfW3Y+PXI/disxOnZdPWYuY2hpbGRyZW5bdl07Zm9yKF9bcl09bi5pZCxmLmNoaWxkcmVuPV8sZi5jaGlsZHJlbl9kLnB1c2gobi5pZCksZi5jaGlsZHJlbl9kPWYuY2hpbGRyZW5fZC5jb25jYXQobi5jaGlsZHJlbl9kKSxuLnBhcmVudD1mLmlkLChtPWYucGFyZW50cy5jb25jYXQoKSkudW5zaGlmdChmLmlkKSxqPW4ucGFyZW50cy5sZW5ndGgsbi5wYXJlbnRzPW0sbT1tLmNvbmNhdCgpLHY9MCx5PW4uY2hpbGRyZW5fZC5sZW5ndGg7djx5O3YrKyl0aGlzLl9tb2RlbC5kYXRhW24uY2hpbGRyZW5fZFt2XV0ucGFyZW50cz10aGlzLl9tb2RlbC5kYXRhW24uY2hpbGRyZW5fZFt2XV0ucGFyZW50cy5zbGljZSgwLC0xKmopLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuX21vZGVsLmRhdGFbbi5jaGlsZHJlbl9kW3ZdXS5wYXJlbnRzLG0pO2ghPT1lLmpzdHJlZS5yb290JiZmLmlkIT09ZS5qc3RyZWUucm9vdHx8KHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwKSx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhd3x8KHRoaXMuX25vZGVfY2hhbmdlZChoKSx0aGlzLl9ub2RlX2NoYW5nZWQoZi5pZCkpLG98fHRoaXMucmVkcmF3KCl9cmV0dXJuIHMmJnMuY2FsbCh0aGlzLG4sZixyKSx0aGlzLnRyaWdnZXIoXCJtb3ZlX25vZGVcIix7bm9kZTpuLHBhcmVudDpmLmlkLHBvc2l0aW9uOnIsb2xkX3BhcmVudDpoLG9sZF9wb3NpdGlvbjp1LGlzX211bHRpOnAmJnAuX2lkJiZwLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IXB8fCFwLl9pZCxvbGRfaW5zdGFuY2U6cCxuZXdfaW5zdGFuY2U6dGhpc30pLG4uaWR9LGNvcHlfbm9kZTpmdW5jdGlvbihuLGkscixzLGEsbyxkKXt2YXIgbCxjLGgsdSxmLHAsZyxfLG0sdjtpZihpPXRoaXMuZ2V0X25vZGUoaSkscj1yPT09dD8wOnIsIWkpcmV0dXJuITE7aWYoIXIudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKGkpKXJldHVybiB0aGlzLmxvYWRfbm9kZShpLGZ1bmN0aW9uKCl7dGhpcy5jb3B5X25vZGUobixpLHIscywhMCwhMSxkKX0pO2lmKGUuaXNBcnJheShuKSl7aWYoMSE9PW4ubGVuZ3RoKXtmb3IobD0wLGM9bi5sZW5ndGg7bDxjO2wrKykodT10aGlzLmNvcHlfbm9kZShuW2xdLGkscixzLGEsITAsZCkpJiYoaT11LHI9XCJhZnRlclwiKTtyZXR1cm4gdGhpcy5yZWRyYXcoKSwhMH1uPW5bMF19aWYoIShuPW4mJm4uaWQ/bjp0aGlzLmdldF9ub2RlKG4pKXx8bi5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7c3dpdGNoKF89KG4ucGFyZW50fHxlLmpzdHJlZS5yb290KS50b1N0cmluZygpLG09ci50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJmkuaWQhPT1lLmpzdHJlZS5yb290P3RoaXMuZ2V0X25vZGUoaS5wYXJlbnQpOmksISh2PWR8fCh0aGlzLl9tb2RlbC5kYXRhW24uaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKG4uaWQpKSl8fCF2Ll9pZHx8KHRoaXMuX2lkLHYuX2lkKSx2JiZ2Ll9pZCYmKG49di5fbW9kZWwuZGF0YVtuLmlkXSksaS5pZD09PWUuanN0cmVlLnJvb3QmJihcImJlZm9yZVwiPT09ciYmKHI9XCJmaXJzdFwiKSxcImFmdGVyXCI9PT1yJiYocj1cImxhc3RcIikpLHIpe2Nhc2VcImJlZm9yZVwiOnI9ZS5pbkFycmF5KGkuaWQsbS5jaGlsZHJlbik7YnJlYWs7Y2FzZVwiYWZ0ZXJcIjpyPWUuaW5BcnJheShpLmlkLG0uY2hpbGRyZW4pKzE7YnJlYWs7Y2FzZVwiaW5zaWRlXCI6Y2FzZVwiZmlyc3RcIjpyPTA7YnJlYWs7Y2FzZVwibGFzdFwiOnI9bS5jaGlsZHJlbi5sZW5ndGg7YnJlYWs7ZGVmYXVsdDpyfHwocj0wKX1pZihyPm0uY2hpbGRyZW4ubGVuZ3RoJiYocj1tLmNoaWxkcmVuLmxlbmd0aCksIXRoaXMuY2hlY2soXCJjb3B5X25vZGVcIixuLG0scix7Y29yZTohMCxvcmlnaW46ZCxpc19tdWx0aTp2JiZ2Ll9pZCYmdi5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiF2fHwhdi5faWR9KSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITE7aWYoIShnPXY/di5nZXRfanNvbihuLHtub19pZDohMCxub19kYXRhOiEwLG5vX3N0YXRlOiEwfSk6bikpcmV0dXJuITE7aWYoITA9PT1nLmlkJiZkZWxldGUgZy5pZCwhKGc9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKGcsbS5pZCxtLnBhcmVudHMuY29uY2F0KCkpKSlyZXR1cm4hMTtmb3IodT10aGlzLmdldF9ub2RlKGcpLG4mJm4uc3RhdGUmJiExPT09bi5zdGF0ZS5sb2FkZWQmJih1LnN0YXRlLmxvYWRlZD0hMSksKGg9W10pLnB1c2goZyksaD1oLmNvbmNhdCh1LmNoaWxkcmVuX2QpLHRoaXMudHJpZ2dlcihcIm1vZGVsXCIse25vZGVzOmgscGFyZW50Om0uaWR9KSxmPTAscD1tLnBhcmVudHMubGVuZ3RoO2Y8cDtmKyspdGhpcy5fbW9kZWwuZGF0YVttLnBhcmVudHNbZl1dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVttLnBhcmVudHNbZl1dLmNoaWxkcmVuX2QuY29uY2F0KGgpO2ZvcihoPVtdLGY9MCxwPW0uY2hpbGRyZW4ubGVuZ3RoO2Y8cDtmKyspaFtmPj1yP2YrMTpmXT1tLmNoaWxkcmVuW2ZdO3JldHVybiBoW3JdPXUuaWQsbS5jaGlsZHJlbj1oLG0uY2hpbGRyZW5fZC5wdXNoKHUuaWQpLG0uY2hpbGRyZW5fZD1tLmNoaWxkcmVuX2QuY29uY2F0KHUuY2hpbGRyZW5fZCksbS5pZD09PWUuanN0cmVlLnJvb3QmJih0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMCksdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXd8fHRoaXMuX25vZGVfY2hhbmdlZChtLmlkKSxvfHx0aGlzLnJlZHJhdyhtLmlkPT09ZS5qc3RyZWUucm9vdCkscyYmcy5jYWxsKHRoaXMsdSxtLHIpLHRoaXMudHJpZ2dlcihcImNvcHlfbm9kZVwiLHtub2RlOnUsb3JpZ2luYWw6bixwYXJlbnQ6bS5pZCxwb3NpdGlvbjpyLG9sZF9wYXJlbnQ6XyxvbGRfcG9zaXRpb246diYmdi5faWQmJl8mJnYuX21vZGVsLmRhdGFbX10mJnYuX21vZGVsLmRhdGFbX10uY2hpbGRyZW4/ZS5pbkFycmF5KG4uaWQsdi5fbW9kZWwuZGF0YVtfXS5jaGlsZHJlbik6LTEsaXNfbXVsdGk6diYmdi5faWQmJnYuX2lkIT09dGhpcy5faWQsaXNfZm9yZWlnbjohdnx8IXYuX2lkLG9sZF9pbnN0YW5jZTp2LG5ld19pbnN0YW5jZTp0aGlzfSksdS5pZH0sY3V0OmZ1bmN0aW9uKHQpe2lmKHR8fCh0PXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoKSksZS5pc0FycmF5KHQpfHwodD1bdF0pLCF0Lmxlbmd0aClyZXR1cm4hMTt2YXIgbixhLG8sZD1bXTtmb3IoYT0wLG89dC5sZW5ndGg7YTxvO2ErKykobj10aGlzLmdldF9ub2RlKHRbYV0pKSYmbi5pZCYmbi5pZCE9PWUuanN0cmVlLnJvb3QmJmQucHVzaChuKTtpZighZC5sZW5ndGgpcmV0dXJuITE7aT1kLHM9dGhpcyxyPVwibW92ZV9ub2RlXCIsdGhpcy50cmlnZ2VyKFwiY3V0XCIse25vZGU6dH0pfSxjb3B5OmZ1bmN0aW9uKHQpe2lmKHR8fCh0PXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoKSksZS5pc0FycmF5KHQpfHwodD1bdF0pLCF0Lmxlbmd0aClyZXR1cm4hMTt2YXIgbixhLG8sZD1bXTtmb3IoYT0wLG89dC5sZW5ndGg7YTxvO2ErKykobj10aGlzLmdldF9ub2RlKHRbYV0pKSYmbi5pZCYmbi5pZCE9PWUuanN0cmVlLnJvb3QmJmQucHVzaChuKTtpZighZC5sZW5ndGgpcmV0dXJuITE7aT1kLHM9dGhpcyxyPVwiY29weV9ub2RlXCIsdGhpcy50cmlnZ2VyKFwiY29weVwiLHtub2RlOnR9KX0sZ2V0X2J1ZmZlcjpmdW5jdGlvbigpe3JldHVybnttb2RlOnIsbm9kZTppLGluc3Q6c319LGNhbl9wYXN0ZTpmdW5jdGlvbigpe3JldHVybiExIT09ciYmITEhPT1pfSxwYXN0ZTpmdW5jdGlvbihlLHQpe2lmKCEoKGU9dGhpcy5nZXRfbm9kZShlKSkmJnImJnIubWF0Y2goL14oY29weV9ub2RlfG1vdmVfbm9kZSkkLykmJmkpKXJldHVybiExO3RoaXNbcl0oaSxlLHQsITEsITEsITEscykmJnRoaXMudHJpZ2dlcihcInBhc3RlXCIse3BhcmVudDplLmlkLG5vZGU6aSxtb2RlOnJ9KSxpPSExLHI9ITEscz0hMX0sY2xlYXJfYnVmZmVyOmZ1bmN0aW9uKCl7aT0hMSxyPSExLHM9ITEsdGhpcy50cmlnZ2VyKFwiY2xlYXJfYnVmZmVyXCIpfSxlZGl0OmZ1bmN0aW9uKHQsbixpKXt2YXIgcixzLGEsbyxkLGMsaCx1LGYscD0hMTtyZXR1cm4hISh0PXRoaXMuZ2V0X25vZGUodCkpJiYodGhpcy5jaGVjayhcImVkaXRcIix0LHRoaXMuZ2V0X3BhcmVudCh0KSk/KGY9dCxuPVwic3RyaW5nXCI9PXR5cGVvZiBuP246dC50ZXh0LHRoaXMuc2V0X3RleHQodCxcIlwiKSx0PXRoaXMuX29wZW5fdG8odCksZi50ZXh0PW4scj10aGlzLl9kYXRhLmNvcmUucnRsLHM9dGhpcy5lbGVtZW50LndpZHRoKCksdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9Zi5pZCxhPXQuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpLG89ZShcIjxzcGFuPlwiKSxcbi8qIVxuICAgb2kgPSBvYmouY2hpbGRyZW4oXCJpOnZpc2libGVcIiksXG4gICBhaSA9IGEuY2hpbGRyZW4oXCJpOnZpc2libGVcIiksXG4gICB3MSA9IG9pLndpZHRoKCkgKiBvaS5sZW5ndGgsXG4gICB3MiA9IGFpLndpZHRoKCkgKiBhaS5sZW5ndGgsXG4gICAqL1xuZD1uLGM9ZShcIjxkaXYgLz5cIix7Y3NzOntwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTIwMHB4XCIsbGVmdDpyP1wiMHB4XCI6XCItMTAwMHB4XCIsdmlzaWJpbGl0eTpcImhpZGRlblwifX0pLmFwcGVuZFRvKGwuYm9keSksaD1lKFwiPGlucHV0IC8+XCIse3ZhbHVlOmQsY2xhc3M6XCJqc3RyZWUtcmVuYW1lLWlucHV0XCIsY3NzOntwYWRkaW5nOlwiMFwiLGJvcmRlcjpcIjFweCBzb2xpZCBzaWx2ZXJcIixcImJveC1zaXppbmdcIjpcImJvcmRlci1ib3hcIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsaGVpZ2h0OnRoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQrXCJweFwiLGxpbmVIZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCtcInB4XCIsd2lkdGg6XCIxNTBweFwifSxibHVyOmUucHJveHkoZnVuY3Rpb24obil7bi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxuLnByZXZlbnREZWZhdWx0KCk7dmFyIHIscz1vLmNoaWxkcmVuKFwiLmpzdHJlZS1yZW5hbWUtaW5wdXRcIiksbD1zLnZhbCgpLHU9dGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ7XCJcIj09PWwmJihsPWQpLGMucmVtb3ZlKCksby5yZXBsYWNlV2l0aChhKSxvLnJlbW92ZSgpLGQ9dT9kOmUoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmQoZS5wYXJzZUhUTUwoZCkpLmh0bWwoKSx0PXRoaXMuZ2V0X25vZGUodCksdGhpcy5zZXRfdGV4dCh0LGQpLChyPSEhdGhpcy5yZW5hbWVfbm9kZSh0LHU/ZShcIjxkaXY+PC9kaXY+XCIpLnRleHQobCkudGV4dCgpOmUoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmQoZS5wYXJzZUhUTUwobCkpLmh0bWwoKSkpfHx0aGlzLnNldF90ZXh0KHQsZCksdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9Zi5pZCxzZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldF9ub2RlKGYuaWQsITApO2UubGVuZ3RoJiYodGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9Zi5pZCxlLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKSl9LHRoaXMpLDApLGkmJmkuY2FsbCh0aGlzLGYscixwKSxoPW51bGx9LHRoaXMpLGtleWRvd246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aGljaDsyNz09PXQmJihwPSEwLHRoaXMudmFsdWU9ZCksMjchPT10JiYxMyE9PXQmJjM3IT09dCYmMzghPT10JiYzOSE9PXQmJjQwIT09dCYmMzIhPT10fHxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLDI3IT09dCYmMTMhPT10fHwoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYmx1cigpKX0sY2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sbW91c2Vkb3duOmZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9LGtleXVwOmZ1bmN0aW9uKGUpe2gud2lkdGgoTWF0aC5taW4oYy50ZXh0KFwicFdcIit0aGlzLnZhbHVlKS53aWR0aCgpLHMpKX0sa2V5cHJlc3M6ZnVuY3Rpb24oZSl7aWYoMTM9PT1lLndoaWNoKXJldHVybiExfX0pLHU9e2ZvbnRGYW1pbHk6YS5jc3MoXCJmb250RmFtaWx5XCIpfHxcIlwiLGZvbnRTaXplOmEuY3NzKFwiZm9udFNpemVcIil8fFwiXCIsZm9udFdlaWdodDphLmNzcyhcImZvbnRXZWlnaHRcIil8fFwiXCIsZm9udFN0eWxlOmEuY3NzKFwiZm9udFN0eWxlXCIpfHxcIlwiLGZvbnRTdHJldGNoOmEuY3NzKFwiZm9udFN0cmV0Y2hcIil8fFwiXCIsZm9udFZhcmlhbnQ6YS5jc3MoXCJmb250VmFyaWFudFwiKXx8XCJcIixsZXR0ZXJTcGFjaW5nOmEuY3NzKFwibGV0dGVyU3BhY2luZ1wiKXx8XCJcIix3b3JkU3BhY2luZzphLmNzcyhcIndvcmRTcGFjaW5nXCIpfHxcIlwifSxvLmF0dHIoXCJjbGFzc1wiLGEuYXR0cihcImNsYXNzXCIpKS5hcHBlbmQoYS5jb250ZW50cygpLmNsb25lKCkpLmFwcGVuZChoKSxhLnJlcGxhY2VXaXRoKG8pLGMuY3NzKHUpLGguY3NzKHUpLndpZHRoKE1hdGgubWluKGMudGV4dChcInBXXCIraFswXS52YWx1ZSkud2lkdGgoKSxzKSlbMF0uc2VsZWN0KCksdm9pZCBlKGwpLm9uZShcIm1vdXNlZG93bi5qc3RyZWUgdG91Y2hzdGFydC5qc3RyZWUgZG5kX3N0YXJ0LnZha2F0YVwiLGZ1bmN0aW9uKHQpe2gmJnQudGFyZ2V0IT09aCYmZShoKS5ibHVyKCl9KSk6KHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExKSl9LHNldF90aGVtZTpmdW5jdGlvbih0LG4pe2lmKCF0KXJldHVybiExO2lmKCEwPT09bil7dmFyIGk9dGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5kaXI7aXx8KGk9ZS5qc3RyZWUucGF0aCtcIi90aGVtZXNcIiksbj1pK1wiL1wiK3QrXCIvc3R5bGUuY3NzXCJ9biYmLTE9PT1lLmluQXJyYXkobixvKSYmKGUoXCJoZWFkXCIpLmFwcGVuZCgnPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCInK24rJ1wiIHR5cGU9XCJ0ZXh0L2Nzc1wiIC8+Jyksby5wdXNoKG4pKSx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcImpzdHJlZS1cIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZT10LHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcImpzdHJlZS1cIit0KSx0aGlzLmVsZW1lbnRbdGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwianN0cmVlLVwiK3QrXCItcmVzcG9uc2l2ZVwiKSx0aGlzLnRyaWdnZXIoXCJzZXRfdGhlbWVcIix7dGhlbWU6dH0pfSxnZXRfdGhlbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lfSxzZXRfdGhlbWVfdmFyaWFudDpmdW5jdGlvbihlKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcImpzdHJlZS1cIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUrXCItXCIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy52YXJpYW50KSx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQ9ZSxlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJqc3RyZWUtXCIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lK1wiLVwiK3RoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudCl9LGdldF90aGVtZV92YXJpYW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudH0sc2hvd19zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKFwianN0cmVlLXN0cmlwZWRcIiksdGhpcy50cmlnZ2VyKFwic2hvd19zdHJpcGVzXCIpfSxoaWRlX3N0cmlwZXM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtc3RyaXBlZFwiKSx0aGlzLnRyaWdnZXIoXCJoaWRlX3N0cmlwZXNcIil9LHRvZ2dsZV9zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzP3RoaXMuaGlkZV9zdHJpcGVzKCk6dGhpcy5zaG93X3N0cmlwZXMoKX0sc2hvd19kb3RzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW5vLWRvdHNcIiksdGhpcy50cmlnZ2VyKFwic2hvd19kb3RzXCIpfSxoaWRlX2RvdHM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoXCJqc3RyZWUtbm8tZG90c1wiKSx0aGlzLnRyaWdnZXIoXCJoaWRlX2RvdHNcIil9LHRvZ2dsZV9kb3RzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzP3RoaXMuaGlkZV9kb3RzKCk6dGhpcy5zaG93X2RvdHMoKX0sc2hvd19pY29uczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtbm8taWNvbnNcIiksdGhpcy50cmlnZ2VyKFwic2hvd19pY29uc1wiKX0saGlkZV9pY29uczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoXCJqc3RyZWUtbm8taWNvbnNcIiksdGhpcy50cmlnZ2VyKFwiaGlkZV9pY29uc1wiKX0sdG9nZ2xlX2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz90aGlzLmhpZGVfaWNvbnMoKTp0aGlzLnNob3dfaWNvbnMoKX0sc2hvd19lbGxpcHNpczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZWxsaXBzaXM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoXCJqc3RyZWUtZWxsaXBzaXNcIiksdGhpcy50cmlnZ2VyKFwic2hvd19lbGxpcHNpc1wiKX0saGlkZV9lbGxpcHNpczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZWxsaXBzaXM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZWxsaXBzaXNcIiksdGhpcy50cmlnZ2VyKFwiaGlkZV9lbGxpcHNpc1wiKX0sdG9nZ2xlX2VsbGlwc2lzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz90aGlzLmhpZGVfZWxsaXBzaXMoKTp0aGlzLnNob3dfZWxsaXBzaXMoKX0sc2V0X2ljb246ZnVuY3Rpb24obixpKXt2YXIgcixzLGEsbztpZihlLmlzQXJyYXkobikpe2ZvcihuPW4uc2xpY2UoKSxyPTAscz1uLmxlbmd0aDtyPHM7cisrKXRoaXMuc2V0X2ljb24obltyXSxpKTtyZXR1cm4hMH1yZXR1cm4hKCEobj10aGlzLmdldF9ub2RlKG4pKXx8bi5pZD09PWUuanN0cmVlLnJvb3R8fChvPW4uaWNvbixuLmljb249ITA9PT1pfHxudWxsPT09aXx8aT09PXR8fFwiXCI9PT1pfHxpLGE9dGhpcy5nZXRfbm9kZShuLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS10aGVtZWljb25cIiksITE9PT1pPyhhLnJlbW92ZUNsYXNzKFwianN0cmVlLXRoZW1laWNvbi1jdXN0b20gXCIrbykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLnJlbW92ZUF0dHIoXCJyZWxcIiksdGhpcy5oaWRlX2ljb24obikpOiEwPT09aXx8bnVsbD09PWl8fGk9PT10fHxcIlwiPT09aT8oYS5yZW1vdmVDbGFzcyhcImpzdHJlZS10aGVtZWljb24tY3VzdG9tIFwiK28pLmNzcyhcImJhY2tncm91bmRcIixcIlwiKS5yZW1vdmVBdHRyKFwicmVsXCIpLCExPT09byYmdGhpcy5zaG93X2ljb24obikpOi0xPT09aS5pbmRleE9mKFwiL1wiKSYmLTE9PT1pLmluZGV4T2YoXCIuXCIpPyhhLnJlbW92ZUNsYXNzKG8pLmNzcyhcImJhY2tncm91bmRcIixcIlwiKSxhLmFkZENsYXNzKGkrXCIganN0cmVlLXRoZW1laWNvbi1jdXN0b21cIikuYXR0cihcInJlbFwiLGkpLCExPT09byYmdGhpcy5zaG93X2ljb24obikpOihhLnJlbW92ZUNsYXNzKG8pLmNzcyhcImJhY2tncm91bmRcIixcIlwiKSxhLmFkZENsYXNzKFwianN0cmVlLXRoZW1laWNvbi1jdXN0b21cIikuY3NzKFwiYmFja2dyb3VuZFwiLFwidXJsKCdcIitpK1wiJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXRcIikuYXR0cihcInJlbFwiLGkpLCExPT09byYmdGhpcy5zaG93X2ljb24obikpLDApKX0sZ2V0X2ljb246ZnVuY3Rpb24odCl7cmV0dXJuISghKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmdC5pY29ufSxoaWRlX2ljb246ZnVuY3Rpb24odCl7dmFyIG4saTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRoaXMuaGlkZV9pY29uKHRbbl0pO3JldHVybiEwfXJldHVybiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0PT09ZS5qc3RyZWUucm9vdHx8KHQuaWNvbj0hMSx0aGlzLmdldF9ub2RlKHQsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLXRoZW1laWNvblwiKS5hZGRDbGFzcyhcImpzdHJlZS10aGVtZWljb24taGlkZGVuXCIpLDApKX0sc2hvd19pY29uOmZ1bmN0aW9uKHQpe3ZhciBuLGkscjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRoaXMuc2hvd19pY29uKHRbbl0pO3JldHVybiEwfXJldHVybiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0PT09ZS5qc3RyZWUucm9vdHx8KHI9dGhpcy5nZXRfbm9kZSh0LCEwKSx0Lmljb249IXIubGVuZ3RofHxyLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLXRoZW1laWNvblwiKS5hdHRyKFwicmVsXCIpLHQuaWNvbnx8KHQuaWNvbj0hMCksci5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS10aGVtZWljb25cIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtdGhlbWVpY29uLWhpZGRlblwiKSwwKSl9fSxlLnZha2F0YT17fSxlLnZha2F0YS5hdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsbil7dD1lKHQpWzBdO3ZhciBpPW4/e306W107cmV0dXJuIHQmJnQuYXR0cmlidXRlcyYmZS5lYWNoKHQuYXR0cmlidXRlcyxmdW5jdGlvbih0LHIpey0xPT09ZS5pbkFycmF5KHIubmFtZS50b0xvd2VyQ2FzZSgpLFtcInN0eWxlXCIsXCJjb250ZW50ZWRpdGFibGVcIixcImhhc2ZvY3VzXCIsXCJ0YWJpbmRleFwiXSkmJm51bGwhPT1yLnZhbHVlJiZcIlwiIT09ZS50cmltKHIudmFsdWUpJiYobj9pW3IubmFtZV09ci52YWx1ZTppLnB1c2goci5uYW1lKSl9KSxpfSxlLnZha2F0YS5hcnJheV91bmlxdWU9ZnVuY3Rpb24oZSl7dmFyIG4saSxyPVtdLHM9e307Zm9yKG49MCxpPWUubGVuZ3RoO248aTtuKyspc1tlW25dXT09PXQmJihyLnB1c2goZVtuXSksc1tlW25dXT0hMCk7cmV0dXJuIHJ9LGUudmFrYXRhLmFycmF5X3JlbW92ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNwbGljZSh0LDEpLGV9LGUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtPWZ1bmN0aW9uKHQsbil7dmFyIGk9ZS5pbkFycmF5KG4sdCk7cmV0dXJuLTEhPT1pP2UudmFrYXRhLmFycmF5X3JlbW92ZSh0LGkpOnR9LGUudmFrYXRhLmFycmF5X2ZpbHRlcj1mdW5jdGlvbihlLHQsbixpLHIpe2lmKGUuZmlsdGVyKXJldHVybiBlLmZpbHRlcih0LG4pO2ZvcihyIGluIGk9W10sZSl+fnIrXCJcIj09citcIlwiJiZyPj0wJiZ0LmNhbGwobixlW3JdLCtyLGUpJiZpLnB1c2goZVtyXSk7cmV0dXJuIGl9LGUuanN0cmVlLnBsdWdpbnMuY2hhbmdlZD1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3RoaXMudHJpZ2dlcj1mdW5jdGlvbihlLGkpe3ZhciByLHM7aWYoaXx8KGk9e30pLFwiY2hhbmdlZFwiPT09ZS5yZXBsYWNlKFwiLmpzdHJlZVwiLFwiXCIpKXtpLmNoYW5nZWQ9e3NlbGVjdGVkOltdLGRlc2VsZWN0ZWQ6W119O3ZhciBhPXt9O2ZvcihyPTAscz1uLmxlbmd0aDtyPHM7cisrKWFbbltyXV09MTtmb3Iocj0wLHM9aS5zZWxlY3RlZC5sZW5ndGg7cjxzO3IrKylhW2kuc2VsZWN0ZWRbcl1dP2FbaS5zZWxlY3RlZFtyXV09MjppLmNoYW5nZWQuc2VsZWN0ZWQucHVzaChpLnNlbGVjdGVkW3JdKTtmb3Iocj0wLHM9bi5sZW5ndGg7cjxzO3IrKykxPT09YVtuW3JdXSYmaS5jaGFuZ2VkLmRlc2VsZWN0ZWQucHVzaChuW3JdKTtuPWkuc2VsZWN0ZWQuc2xpY2UoKX10LnRyaWdnZXIuY2FsbCh0aGlzLGUsaSl9LHRoaXMucmVmcmVzaD1mdW5jdGlvbihlLGkpe3JldHVybiBuPVtdLHQucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt2YXIgYyxoLHU9bC5jcmVhdGVFbGVtZW50KFwiSVwiKTt1LmNsYXNzTmFtZT1cImpzdHJlZS1pY29uIGpzdHJlZS1jaGVja2JveFwiLHUuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicHJlc2VudGF0aW9uXCIpLGUuanN0cmVlLmRlZmF1bHRzLmNoZWNrYm94PXt2aXNpYmxlOiEwLHRocmVlX3N0YXRlOiEwLHdob2xlX25vZGU6ITAsa2VlcF9zZWxlY3RlZF9zdHlsZTohMCxjYXNjYWRlOlwiXCIsdGllX3NlbGVjdGlvbjohMCxjYXNjYWRlX3RvX2Rpc2FibGVkOiEwLGNhc2NhZGVfdG9faGlkZGVuOiEwfSxlLmpzdHJlZS5wbHVnaW5zLmNoZWNrYm94PWZ1bmN0aW9uKG4saSl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7aS5iaW5kLmNhbGwodGhpcyksdGhpcy5fZGF0YS5jaGVja2JveC51dG89ITEsdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1bXSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRocmVlX3N0YXRlJiYodGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlPVwidXArZG93bit1bmRldGVybWluZWRcIiksdGhpcy5lbGVtZW50Lm9uKFwiaW5pdC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jaGVja2JveC52aXNpYmxlPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudmlzaWJsZSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LmtlZXBfc2VsZWN0ZWRfc3R5bGV8fHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcImpzdHJlZS1jaGVja2JveC1uby1jbGlja2VkXCIpLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKFwianN0cmVlLWNoZWNrYm94LXNlbGVjdGlvblwiKX0sdGhpcykpLm9uKFwibG9hZGluZy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNoZWNrYm94LnZpc2libGU/XCJzaG93X2NoZWNrYm94ZXNcIjpcImhpZGVfY2hlY2tib3hlc1wiXSgpfSx0aGlzKSksLTEhPT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZihcInVuZGV0ZXJtaW5lZFwiKSYmdGhpcy5lbGVtZW50Lm9uKFwiY2hhbmdlZC5qc3RyZWUgdW5jaGVja19ub2RlLmpzdHJlZSBjaGVja19ub2RlLmpzdHJlZSB1bmNoZWNrX2FsbC5qc3RyZWUgY2hlY2tfYWxsLmpzdHJlZSBtb3ZlX25vZGUuanN0cmVlIGNvcHlfbm9kZS5qc3RyZWUgcmVkcmF3LmpzdHJlZSBvcGVuX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuX2RhdGEuY2hlY2tib3gudXRvJiZjbGVhclRpbWVvdXQodGhpcy5fZGF0YS5jaGVja2JveC51dG8pLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPXNldFRpbWVvdXQoZS5wcm94eSh0aGlzLl91bmRldGVybWluZWQsdGhpcyksNTApfSx0aGlzKSksdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9ufHx0aGlzLmVsZW1lbnQub24oXCJtb2RlbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyPXRoaXMuX21vZGVsLmRhdGEscz0oclt0LnBhcmVudF0sdC5ub2Rlcyk7Zm9yKG49MCxpPXMubGVuZ3RoO248aTtuKyspcltzW25dXS5zdGF0ZS5jaGVja2VkPXJbc1tuXV0uc3RhdGUuY2hlY2tlZHx8cltzW25dXS5vcmlnaW5hbCYmcltzW25dXS5vcmlnaW5hbC5zdGF0ZSYmcltzW25dXS5vcmlnaW5hbC5zdGF0ZS5jaGVja2VkLHJbc1tuXV0uc3RhdGUuY2hlY2tlZCYmdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKHNbbl0pfSx0aGlzKSksLTE9PT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZihcInVwXCIpJiYtMT09PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKFwiZG93blwiKXx8dGhpcy5lbGVtZW50Lm9uKFwibW9kZWwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe3ZhciBpLHIscyxhLG8sZCxsPXRoaXMuX21vZGVsLmRhdGEsYz1sW24ucGFyZW50XSxoPW4ubm9kZXMsdT1bXSxmPXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSxwPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjtpZigtMSE9PWYuaW5kZXhPZihcImRvd25cIikpaWYoYy5zdGF0ZVtwP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl0pe2ZvcihyPTAscz1oLmxlbmd0aDtyPHM7cisrKWxbaFtyXV0uc3RhdGVbcD9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSEwO3RoaXMuX2RhdGFbcD9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkPXRoaXMuX2RhdGFbcD9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLmNvbmNhdChoKX1lbHNlIGZvcihyPTAscz1oLmxlbmd0aDtyPHM7cisrKWlmKGxbaFtyXV0uc3RhdGVbcD9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdKXtmb3IoYT0wLG89bFtoW3JdXS5jaGlsZHJlbl9kLmxlbmd0aDthPG87YSsrKWxbbFtoW3JdXS5jaGlsZHJlbl9kW2FdXS5zdGF0ZVtwP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITA7dGhpcy5fZGF0YVtwP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9dGhpcy5fZGF0YVtwP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQuY29uY2F0KGxbaFtyXV0uY2hpbGRyZW5fZCl9aWYoLTEhPT1mLmluZGV4T2YoXCJ1cFwiKSl7Zm9yKHI9MCxzPWMuY2hpbGRyZW5fZC5sZW5ndGg7cjxzO3IrKylsW2MuY2hpbGRyZW5fZFtyXV0uY2hpbGRyZW4ubGVuZ3RofHx1LnB1c2gobFtjLmNoaWxkcmVuX2Rbcl1dLnBhcmVudCk7Zm9yKHU9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHUpLGE9MCxvPXUubGVuZ3RoO2E8bzthKyspZm9yKGM9bFt1W2FdXTtjJiZjLmlkIT09ZS5qc3RyZWUucm9vdDspe2ZvcihpPTAscj0wLHM9Yy5jaGlsZHJlbi5sZW5ndGg7cjxzO3IrKylpKz1sW2MuY2hpbGRyZW5bcl1dLnN0YXRlW3A/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTtpZihpIT09cylicmVhaztjLnN0YXRlW3A/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCx0aGlzLl9kYXRhW3A/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZC5wdXNoKGMuaWQpLChkPXRoaXMuZ2V0X25vZGUoYywhMCkpJiZkLmxlbmd0aCYmZC5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKHA/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIiksYz10aGlzLmdldF9ub2RlKGMucGFyZW50KX19dGhpcy5fZGF0YVtwP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHRoaXMuX2RhdGFbcD9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkKX0sdGhpcykpLm9uKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj9cInNlbGVjdF9ub2RlLmpzdHJlZVwiOlwiY2hlY2tfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7dmFyIGkscixzLGEsbz1uLm5vZGUsZD10aGlzLl9tb2RlbC5kYXRhLGw9dGhpcy5nZXRfbm9kZShvLnBhcmVudCksYz10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsaD10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sdT17fSxmPXRoaXMuX2RhdGFbaD9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkO2ZvcihpPTAscj1mLmxlbmd0aDtpPHI7aSsrKXVbZltpXV09ITA7aWYoLTEhPT1jLmluZGV4T2YoXCJkb3duXCIpKXt2YXIgcD10aGlzLl9jYXNjYWRlX25ld19jaGVja2VkX3N0YXRlKG8uaWQsITApLGc9by5jaGlsZHJlbl9kLmNvbmNhdChvLmlkKTtmb3IoaT0wLHI9Zy5sZW5ndGg7aTxyO2krKylwLmluZGV4T2YoZ1tpXSk+LTE/dVtnW2ldXT0hMDpkZWxldGUgdVtnW2ldXX1pZigtMSE9PWMuaW5kZXhPZihcInVwXCIpKWZvcig7bCYmbC5pZCE9PWUuanN0cmVlLnJvb3Q7KXtmb3Iocz0wLGk9MCxyPWwuY2hpbGRyZW4ubGVuZ3RoO2k8cjtpKyspcys9ZFtsLmNoaWxkcmVuW2ldXS5zdGF0ZVtoP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07aWYocyE9PXIpYnJlYWs7bC5zdGF0ZVtoP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITAsdVtsLmlkXT0hMCwoYT10aGlzLmdldF9ub2RlKGwsITApKSYmYS5sZW5ndGgmJmEuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhoP1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpLGw9dGhpcy5nZXRfbm9kZShsLnBhcmVudCl9Zm9yKGkgaW4gZj1bXSx1KXUuaGFzT3duUHJvcGVydHkoaSkmJmYucHVzaChpKTt0aGlzLl9kYXRhW2g/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD1mfSx0aGlzKSkub24odGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP1wiZGVzZWxlY3RfYWxsLmpzdHJlZVwiOlwidW5jaGVja19hbGwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe3ZhciBpLHIscyxhPXRoaXMuZ2V0X25vZGUoZS5qc3RyZWUucm9vdCksbz10aGlzLl9tb2RlbC5kYXRhO2ZvcihpPTAscj1hLmNoaWxkcmVuX2QubGVuZ3RoO2k8cjtpKyspKHM9b1thLmNoaWxkcmVuX2RbaV1dKSYmcy5vcmlnaW5hbCYmcy5vcmlnaW5hbC5zdGF0ZSYmcy5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihzLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSl9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/XCJkZXNlbGVjdF9ub2RlLmpzdHJlZVwiOlwidW5jaGVja19ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIscz10Lm5vZGUsYT0odGhpcy5nZXRfbm9kZShzLCEwKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUpLG89dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLGQ9dGhpcy5fZGF0YVtvP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQsbD1zLmNoaWxkcmVuX2QuY29uY2F0KHMuaWQpO2lmKC0xIT09YS5pbmRleE9mKFwiZG93blwiKSl7dmFyIGM9dGhpcy5fY2FzY2FkZV9uZXdfY2hlY2tlZF9zdGF0ZShzLmlkLCExKTtkPWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09bC5pbmRleE9mKGUpfHxjLmluZGV4T2YoZSk+LTF9KX1pZigtMSE9PWEuaW5kZXhPZihcInVwXCIpJiYtMT09PWQuaW5kZXhPZihzLmlkKSl7Zm9yKG49MCxpPXMucGFyZW50cy5sZW5ndGg7bjxpO24rKykocj10aGlzLl9tb2RlbC5kYXRhW3MucGFyZW50c1tuXV0pLnN0YXRlW28/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMSxyJiZyLm9yaWdpbmFsJiZyLm9yaWdpbmFsLnN0YXRlJiZyLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKHIub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKSwocj10aGlzLmdldF9ub2RlKHMucGFyZW50c1tuXSwhMCkpJiZyLmxlbmd0aCYmci5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKG8/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIik7ZD1kLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMT09PXMucGFyZW50cy5pbmRleE9mKGUpfSl9dGhpcy5fZGF0YVtvP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9ZH0sdGhpcykpLC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoXCJ1cFwiKSYmdGhpcy5lbGVtZW50Lm9uKFwiZGVsZXRlX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe2Zvcih2YXIgaSxyLHMsYSxvPXRoaXMuZ2V0X25vZGUobi5wYXJlbnQpLGQ9dGhpcy5fbW9kZWwuZGF0YSxsPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjtvJiZvLmlkIT09ZS5qc3RyZWUucm9vdCYmIW8uc3RhdGVbbD9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdOyl7Zm9yKHM9MCxpPTAscj1vLmNoaWxkcmVuLmxlbmd0aDtpPHI7aSsrKXMrPWRbby5jaGlsZHJlbltpXV0uc3RhdGVbbD9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdO2lmKCEocj4wJiZzPT09cikpYnJlYWs7by5zdGF0ZVtsP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITAsdGhpcy5fZGF0YVtsP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQucHVzaChvLmlkKSwoYT10aGlzLmdldF9ub2RlKG8sITApKSYmYS5sZW5ndGgmJmEuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhsP1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpLG89dGhpcy5nZXRfbm9kZShvLnBhcmVudCl9fSx0aGlzKSkub24oXCJtb3ZlX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe3ZhciBpLHIscyxhLG8sZD1uLmlzX211bHRpLGw9bi5vbGRfcGFyZW50LGM9dGhpcy5nZXRfbm9kZShuLnBhcmVudCksaD10aGlzLl9tb2RlbC5kYXRhLHU9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKCFkKWZvcihpPXRoaXMuZ2V0X25vZGUobCk7aSYmaS5pZCE9PWUuanN0cmVlLnJvb3QmJiFpLnN0YXRlW3U/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTspe2ZvcihyPTAscz0wLGE9aS5jaGlsZHJlbi5sZW5ndGg7czxhO3MrKylyKz1oW2kuY2hpbGRyZW5bc11dLnN0YXRlW3U/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTtpZighKGE+MCYmcj09PWEpKWJyZWFrO2kuc3RhdGVbdT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSEwLHRoaXMuX2RhdGFbdT9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLnB1c2goaS5pZCksKG89dGhpcy5nZXRfbm9kZShpLCEwKSkmJm8ubGVuZ3RoJiZvLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3ModT9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKSxpPXRoaXMuZ2V0X25vZGUoaS5wYXJlbnQpfWZvcihpPWM7aSYmaS5pZCE9PWUuanN0cmVlLnJvb3Q7KXtmb3Iocj0wLHM9MCxhPWkuY2hpbGRyZW4ubGVuZ3RoO3M8YTtzKyspcis9aFtpLmNoaWxkcmVuW3NdXS5zdGF0ZVt1P1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07aWYocj09PWEpaS5zdGF0ZVt1P1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl18fChpLnN0YXRlW3U/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCx0aGlzLl9kYXRhW3U/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZC5wdXNoKGkuaWQpLChvPXRoaXMuZ2V0X25vZGUoaSwhMCkpJiZvLmxlbmd0aCYmby5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKHU/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIikpO2Vsc2V7aWYoIWkuc3RhdGVbdT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdKWJyZWFrO2kuc3RhdGVbdT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSExLHRoaXMuX2RhdGFbdT9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGFbdT9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLGkuaWQpLChvPXRoaXMuZ2V0X25vZGUoaSwhMCkpJiZvLmxlbmd0aCYmby5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKHU/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIil9aT10aGlzLmdldF9ub2RlKGkucGFyZW50KX19LHRoaXMpKX0sdGhpcy5nZXRfdW5kZXRlcm1pbmVkPWZ1bmN0aW9uKG4pe2lmKC0xPT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoXCJ1bmRldGVybWluZWRcIikpcmV0dXJuW107dmFyIGkscixzLGEsbz17fSxkPXRoaXMuX21vZGVsLmRhdGEsbD10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sYz10aGlzLl9kYXRhW2w/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZCxoPVtdLHU9dGhpcyxmPVtdO2ZvcihpPTAscj1jLmxlbmd0aDtpPHI7aSsrKWlmKGRbY1tpXV0mJmRbY1tpXV0ucGFyZW50cylmb3Iocz0wLGE9ZFtjW2ldXS5wYXJlbnRzLmxlbmd0aDtzPGEmJm9bZFtjW2ldXS5wYXJlbnRzW3NdXT09PXQ7cysrKWRbY1tpXV0ucGFyZW50c1tzXSE9PWUuanN0cmVlLnJvb3QmJihvW2RbY1tpXV0ucGFyZW50c1tzXV09ITAsaC5wdXNoKGRbY1tpXV0ucGFyZW50c1tzXSkpO2Zvcih0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtY2xvc2VkXCIpLm5vdChcIjpoYXMoLmpzdHJlZS1jaGlsZHJlbilcIikuZWFjaChmdW5jdGlvbigpe3ZhciBuLGw9dS5nZXRfbm9kZSh0aGlzKTtpZihsKWlmKGwuc3RhdGUubG9hZGVkKXtmb3IoaT0wLHI9bC5jaGlsZHJlbl9kLmxlbmd0aDtpPHI7aSsrKWlmKCEobj1kW2wuY2hpbGRyZW5fZFtpXV0pLnN0YXRlLmxvYWRlZCYmbi5vcmlnaW5hbCYmbi5vcmlnaW5hbC5zdGF0ZSYmbi5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJiEwPT09bi5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQpZm9yKG9bbi5pZF09PT10JiZuLmlkIT09ZS5qc3RyZWUucm9vdCYmKG9bbi5pZF09ITAsaC5wdXNoKG4uaWQpKSxzPTAsYT1uLnBhcmVudHMubGVuZ3RoO3M8YTtzKyspb1tuLnBhcmVudHNbc11dPT09dCYmbi5wYXJlbnRzW3NdIT09ZS5qc3RyZWUucm9vdCYmKG9bbi5wYXJlbnRzW3NdXT0hMCxoLnB1c2gobi5wYXJlbnRzW3NdKSl9ZWxzZSBpZihsLm9yaWdpbmFsJiZsLm9yaWdpbmFsLnN0YXRlJiZsLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmITA9PT1sLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZClmb3Iob1tsLmlkXT09PXQmJmwuaWQhPT1lLmpzdHJlZS5yb290JiYob1tsLmlkXT0hMCxoLnB1c2gobC5pZCkpLHM9MCxhPWwucGFyZW50cy5sZW5ndGg7czxhO3MrKylvW2wucGFyZW50c1tzXV09PT10JiZsLnBhcmVudHNbc10hPT1lLmpzdHJlZS5yb290JiYob1tsLnBhcmVudHNbc11dPSEwLGgucHVzaChsLnBhcmVudHNbc10pKX0pLGk9MCxyPWgubGVuZ3RoO2k8cjtpKyspZFtoW2ldXS5zdGF0ZVtsP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl18fGYucHVzaChuP2RbaFtpXV06aFtpXSk7cmV0dXJuIGZ9LHRoaXMuX3VuZGV0ZXJtaW5lZD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLmVsZW1lbnQpe3ZhciBlLHQsbixpPXRoaXMuZ2V0X3VuZGV0ZXJtaW5lZCghMSk7Zm9yKHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS11bmRldGVybWluZWRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtdW5kZXRlcm1pbmVkXCIpLGU9MCx0PWkubGVuZ3RoO2U8dDtlKyspKG49dGhpcy5nZXRfbm9kZShpW2VdLCEwKSkmJm4ubGVuZ3RoJiZuLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLWNoZWNrYm94XCIpLmFkZENsYXNzKFwianN0cmVlLXVuZGV0ZXJtaW5lZFwiKX19LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24odCxuLHIscyl7aWYodD1pLnJlZHJhd19ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIGEsbyxkPW51bGwsbD1udWxsO2ZvcihhPTAsbz10LmNoaWxkTm9kZXMubGVuZ3RoO2E8bzthKyspaWYodC5jaGlsZE5vZGVzW2FdJiZ0LmNoaWxkTm9kZXNbYV0uY2xhc3NOYW1lJiYtMSE9PXQuY2hpbGROb2Rlc1thXS5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1hbmNob3JcIikpe2Q9dC5jaGlsZE5vZGVzW2FdO2JyZWFrfWQmJighdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLl9tb2RlbC5kYXRhW3QuaWRdLnN0YXRlLmNoZWNrZWQmJihkLmNsYXNzTmFtZSs9XCIganN0cmVlLWNoZWNrZWRcIiksbD11LmNsb25lTm9kZSghMSksdGhpcy5fbW9kZWwuZGF0YVt0LmlkXS5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZCYmKGwuY2xhc3NOYW1lKz1cIiBqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWRcIiksZC5pbnNlcnRCZWZvcmUobCxkLmNoaWxkTm9kZXNbMF0pKX1yZXR1cm4gcnx8LTE9PT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZihcInVuZGV0ZXJtaW5lZFwiKXx8KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvJiZjbGVhclRpbWVvdXQodGhpcy5fZGF0YS5jaGVja2JveC51dG8pLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPXNldFRpbWVvdXQoZS5wcm94eSh0aGlzLl91bmRldGVybWluZWQsdGhpcyksNTApKSx0fSx0aGlzLnNob3dfY2hlY2tib3hlcz1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuY2hlY2tib3hlcz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1uby1jaGVja2JveGVzXCIpfSx0aGlzLmhpZGVfY2hlY2tib3hlcz1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuY2hlY2tib3hlcz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1uby1jaGVja2JveGVzXCIpfSx0aGlzLnRvZ2dsZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzP3RoaXMuaGlkZV9jaGVja2JveGVzKCk6dGhpcy5zaG93X2NoZWNrYm94ZXMoKX0sdGhpcy5pc191bmRldGVybWluZWQ9ZnVuY3Rpb24odCl7dD10aGlzLmdldF9ub2RlKHQpO3ZhciBuLGkscj10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUscz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sYT10aGlzLl9kYXRhW3M/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZCxvPXRoaXMuX21vZGVsLmRhdGE7aWYoIXR8fCEwPT09dC5zdGF0ZVtzP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl18fC0xPT09ci5pbmRleE9mKFwidW5kZXRlcm1pbmVkXCIpfHwtMT09PXIuaW5kZXhPZihcImRvd25cIikmJi0xPT09ci5pbmRleE9mKFwidXBcIikpcmV0dXJuITE7aWYoIXQuc3RhdGUubG9hZGVkJiYhMD09PXQub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkKXJldHVybiEwO2ZvcihuPTAsaT10LmNoaWxkcmVuX2QubGVuZ3RoO248aTtuKyspaWYoLTEhPT1lLmluQXJyYXkodC5jaGlsZHJlbl9kW25dLGEpfHwhb1t0LmNoaWxkcmVuX2Rbbl1dLnN0YXRlLmxvYWRlZCYmb1t0LmNoaWxkcmVuX2Rbbl1dLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZClyZXR1cm4hMDtyZXR1cm4hMX0sdGhpcy5kaXNhYmxlX2NoZWNrYm94PWZ1bmN0aW9uKHQpe3ZhciBuLGkscjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRoaXMuZGlzYWJsZV9jaGVja2JveCh0W25dKTtyZXR1cm4hMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3I9dGhpcy5nZXRfbm9kZSh0LCEwKSx0LnN0YXRlLmNoZWNrYm94X2Rpc2FibGVkfHwodC5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZD0hMCxyJiZyLmxlbmd0aCYmci5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGVja2JveFwiKS5hZGRDbGFzcyhcImpzdHJlZS1jaGVja2JveC1kaXNhYmxlZFwiKSx0aGlzLnRyaWdnZXIoXCJkaXNhYmxlX2NoZWNrYm94XCIse25vZGU6dH0pKX0sdGhpcy5lbmFibGVfY2hlY2tib3g9ZnVuY3Rpb24odCl7dmFyIG4saSxyO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxpPXQubGVuZ3RoO248aTtuKyspdGhpcy5lbmFibGVfY2hlY2tib3godFtuXSk7cmV0dXJuITB9aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTtyPXRoaXMuZ2V0X25vZGUodCwhMCksdC5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZCYmKHQuc3RhdGUuY2hlY2tib3hfZGlzYWJsZWQ9ITEsciYmci5sZW5ndGgmJnIuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtY2hlY2tib3hcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWRcIiksdGhpcy50cmlnZ2VyKFwiZW5hYmxlX2NoZWNrYm94XCIse25vZGU6dH0pKX0sdGhpcy5hY3RpdmF0ZV9ub2RlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIWUobi50YXJnZXQpLmhhc0NsYXNzKFwianN0cmVlLWNoZWNrYm94LWRpc2FibGVkXCIpJiYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiYodGhpcy5zZXR0aW5ncy5jaGVja2JveC53aG9sZV9ub2RlfHxlKG4udGFyZ2V0KS5oYXNDbGFzcyhcImpzdHJlZS1jaGVja2JveFwiKSkmJihuLmN0cmxLZXk9ITApLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8IXRoaXMuc2V0dGluZ3MuY2hlY2tib3gud2hvbGVfbm9kZSYmIWUobi50YXJnZXQpLmhhc0NsYXNzKFwianN0cmVlLWNoZWNrYm94XCIpP2kuYWN0aXZhdGVfbm9kZS5jYWxsKHRoaXMsdCxuKTohdGhpcy5pc19kaXNhYmxlZCh0KSYmKHRoaXMuaXNfY2hlY2tlZCh0KT90aGlzLnVuY2hlY2tfbm9kZSh0LG4pOnRoaXMuY2hlY2tfbm9kZSh0LG4pLHZvaWQgdGhpcy50cmlnZ2VyKFwiYWN0aXZhdGVfbm9kZVwiLHtub2RlOnRoaXMuZ2V0X25vZGUodCl9KSkpfSx0aGlzLl9jYXNjYWRlX25ld19jaGVja2VkX3N0YXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHM9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLGE9dGhpcy5fbW9kZWwuZGF0YVtlXSxvPVtdLGQ9W107aWYoIXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZV90b19kaXNhYmxlZCYmYS5zdGF0ZS5kaXNhYmxlZHx8IXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZV90b19oaWRkZW4mJmEuc3RhdGUuaGlkZGVuKXI9dGhpcy5nZXRfY2hlY2tlZF9kZXNjZW5kYW50cyhlKSxhLnN0YXRlW3M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXSYmci5wdXNoKGEuaWQpLG89by5jb25jYXQocik7ZWxzZXtpZihhLmNoaWxkcmVuKWZvcihuPTAsaT1hLmNoaWxkcmVuLmxlbmd0aDtuPGk7bisrKXt2YXIgbD1hLmNoaWxkcmVuW25dO3I9dGhpcy5fY2FzY2FkZV9uZXdfY2hlY2tlZF9zdGF0ZShsLHQpLG89by5jb25jYXQociksci5pbmRleE9mKGwpPi0xJiZkLnB1c2gobCl9dmFyIGM9dGhpcy5nZXRfbm9kZShhLCEwKSxoPWQubGVuZ3RoPjAmJmQubGVuZ3RoPGEuY2hpbGRyZW4ubGVuZ3RoO2Eub3JpZ2luYWwmJmEub3JpZ2luYWwuc3RhdGUmJmEub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoYS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9aCksaD8oYS5zdGF0ZVtzP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITEsYy5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKHM/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIikpOnQmJmQubGVuZ3RoPT09YS5jaGlsZHJlbi5sZW5ndGg/KGEuc3RhdGVbcz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPXQsby5wdXNoKGEuaWQpLGMuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhzP1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpKTooYS5zdGF0ZVtzP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITEsYy5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKHM/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIikpfXJldHVybiBvfSx0aGlzLmdldF9jaGVja2VkX2Rlc2NlbmRhbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10LnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24saT10Ll9tb2RlbC5kYXRhW2VdO3JldHVybiBpLmNoaWxkcmVuX2QuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9tb2RlbC5kYXRhW2VdLnN0YXRlW24/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXX0pfSx0aGlzLmNoZWNrX25vZGU9ZnVuY3Rpb24odCxuKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuc2VsZWN0X25vZGUodCwhMSwhMCxuKTt2YXIgaSxyLHM7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCkscj0wLHM9dC5sZW5ndGg7cjxzO3IrKyl0aGlzLmNoZWNrX25vZGUodFtyXSxuKTtyZXR1cm4hMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO2k9dGhpcy5nZXRfbm9kZSh0LCEwKSx0LnN0YXRlLmNoZWNrZWR8fCh0LnN0YXRlLmNoZWNrZWQ9ITAsdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKHQuaWQpLGkmJmkubGVuZ3RoJiZpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoXCJqc3RyZWUtY2hlY2tlZFwiKSx0aGlzLnRyaWdnZXIoXCJjaGVja19ub2RlXCIse25vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50Om59KSl9LHRoaXMudW5jaGVja19ub2RlPWZ1bmN0aW9uKHQsbil7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X25vZGUodCwhMSxuKTt2YXIgaSxyLHM7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl0aGlzLnVuY2hlY2tfbm9kZSh0W2ldLG4pO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7cz10aGlzLmdldF9ub2RlKHQsITApLHQuc3RhdGUuY2hlY2tlZCYmKHQuc3RhdGUuY2hlY2tlZD0hMSx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsdC5pZCkscy5sZW5ndGgmJnMuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jaGVja2VkXCIpLHRoaXMudHJpZ2dlcihcInVuY2hlY2tfbm9kZVwiLHtub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxldmVudDpufSkpfSx0aGlzLmNoZWNrX2FsbD1mdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5zZWxlY3RfYWxsKCk7dmFyIHQsbjtmb3IodGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5jb25jYXQoW10pLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9dGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS5jaGlsZHJlbl9kLmNvbmNhdCgpLHQ9MCxuPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO3Q8bjt0KyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW3RdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFt0XV0uc3RhdGUuY2hlY2tlZD0hMCk7dGhpcy5yZWRyYXcoITApLHRoaXMudHJpZ2dlcihcImNoZWNrX2FsbFwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkfSl9LHRoaXMudW5jaGVja19hbGw9ZnVuY3Rpb24oKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZGVzZWxlY3RfYWxsKCk7dmFyIGUsdCxuPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IoZT0wLHQ9dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5sZW5ndGg7ZTx0O2UrKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWRbZV1dJiYodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW2VdXS5zdGF0ZS5jaGVja2VkPSExKTt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPVtdLHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1jaGVja2VkXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNoZWNrZWRcIiksdGhpcy50cmlnZ2VyKFwidW5jaGVja19hbGxcIix7c2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxub2RlOm59KX0sdGhpcy5pc19jaGVja2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/dGhpcy5pc19zZWxlY3RlZCh0KTohKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ0LnN0YXRlLmNoZWNrZWR9LHRoaXMuZ2V0X2NoZWNrZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj90aGlzLmdldF9zZWxlY3RlZCh0KTp0P2UubWFwKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWR9LHRoaXMuZ2V0X3RvcF9jaGVja2VkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5nZXRfdG9wX3NlbGVjdGVkKHQpO3ZhciBuLGkscixzLGE9dGhpcy5nZXRfY2hlY2tlZCghMCksbz17fTtmb3Iobj0wLGk9YS5sZW5ndGg7bjxpO24rKylvW2Fbbl0uaWRdPWFbbl07Zm9yKG49MCxpPWEubGVuZ3RoO248aTtuKyspZm9yKHI9MCxzPWFbbl0uY2hpbGRyZW5fZC5sZW5ndGg7cjxzO3IrKylvW2Fbbl0uY2hpbGRyZW5fZFtyXV0mJmRlbGV0ZSBvW2Fbbl0uY2hpbGRyZW5fZFtyXV07Zm9yKG4gaW4gYT1bXSxvKW8uaGFzT3duUHJvcGVydHkobikmJmEucHVzaChuKTtyZXR1cm4gdD9lLm1hcChhLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTphfSx0aGlzLmdldF9ib3R0b21fY2hlY2tlZD1mdW5jdGlvbih0KXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZ2V0X2JvdHRvbV9zZWxlY3RlZCh0KTt2YXIgbixpLHI9dGhpcy5nZXRfY2hlY2tlZCghMCkscz1bXTtmb3Iobj0wLGk9ci5sZW5ndGg7bjxpO24rKylyW25dLmNoaWxkcmVuLmxlbmd0aHx8cy5wdXNoKHJbbl0uaWQpO3JldHVybiB0P2UubWFwKHMsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnN9LHRoaXMubG9hZF9ub2RlPWZ1bmN0aW9uKHQsbil7dmFyIHIscyxhO2lmKCFlLmlzQXJyYXkodCkmJiF0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJihhPXRoaXMuZ2V0X25vZGUodCkpJiZhLnN0YXRlLmxvYWRlZClmb3Iocj0wLHM9YS5jaGlsZHJlbl9kLmxlbmd0aDtyPHM7cisrKXRoaXMuX21vZGVsLmRhdGFbYS5jaGlsZHJlbl9kW3JdXS5zdGF0ZS5jaGVja2VkJiYodGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbSh0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGEuY2hpbGRyZW5fZFtyXSkpO3JldHVybiBpLmxvYWRfbm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRoaXMuZ2V0X3N0YXRlPWZ1bmN0aW9uKCl7dmFyIGU9aS5nZXRfc3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ZTooZS5jaGVja2JveD10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLnNsaWNlKCksZSl9LHRoaXMuc2V0X3N0YXRlPWZ1bmN0aW9uKHQsbil7dmFyIHI9aS5zZXRfc3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHImJnQuY2hlY2tib3gpe2lmKCF0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pe3RoaXMudW5jaGVja19hbGwoKTt2YXIgcz10aGlzO2UuZWFjaCh0LmNoZWNrYm94LGZ1bmN0aW9uKGUsdCl7cy5jaGVja19ub2RlKHQpfSl9cmV0dXJuIGRlbGV0ZSB0LmNoZWNrYm94LHRoaXMuc2V0X3N0YXRlKHQsbiksITF9cmV0dXJuIHJ9LHRoaXMucmVmcmVzaD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJih0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPVtdKSxpLnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sZS5qc3RyZWUuZGVmYXVsdHMuY29uZGl0aW9uYWxzZWxlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5qc3RyZWUucGx1Z2lucy5jb25kaXRpb25hbHNlbGVjdD1mdW5jdGlvbihlLHQpe3RoaXMuYWN0aXZhdGVfbm9kZT1mdW5jdGlvbihlLG4pe2lmKHRoaXMuc2V0dGluZ3MuY29uZGl0aW9uYWxzZWxlY3QuY2FsbCh0aGlzLHRoaXMuZ2V0X25vZGUoZSksbikpcmV0dXJuIHQuYWN0aXZhdGVfbm9kZS5jYWxsKHRoaXMsZSxuKX19LGUuanN0cmVlLmRlZmF1bHRzLmNvbnRleHRtZW51PXtzZWxlY3Rfbm9kZTohMCxzaG93X2F0X25vZGU6ITAsaXRlbXM6ZnVuY3Rpb24odCxuKXtyZXR1cm57Y3JlYXRlOntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMCxfZGlzYWJsZWQ6ITEsbGFiZWw6XCJDcmVhdGVcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxpPW4uZ2V0X25vZGUodC5yZWZlcmVuY2UpO24uY3JlYXRlX25vZGUoaSx7fSxcImxhc3RcIixmdW5jdGlvbihlKXt0cnl7bi5lZGl0KGUpfWNhdGNoKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmVkaXQoZSl9LDApfX0pfX0scmVuYW1lOntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMSxfZGlzYWJsZWQ6ITEsbGFiZWw6XCJSZW5hbWVcIixcbi8qIVxuICAgICBcInNob3J0Y3V0XCJcdFx0XHQ6IDExMyxcbiAgICAgXCJzaG9ydGN1dF9sYWJlbFwiXHQ6ICdGMicsXG4gICAgIFwiaWNvblwiXHRcdFx0XHQ6IFwiZ2x5cGhpY29uIGdseXBoaWNvbi1sZWFmXCIsXG4gICAgICovXG5hY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxpPW4uZ2V0X25vZGUodC5yZWZlcmVuY2UpO24uZWRpdChpKX19LHJlbW92ZTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLHNlcGFyYXRvcl9hZnRlcjohMSxfZGlzYWJsZWQ6ITEsbGFiZWw6XCJEZWxldGVcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxpPW4uZ2V0X25vZGUodC5yZWZlcmVuY2UpO24uaXNfc2VsZWN0ZWQoaSk/bi5kZWxldGVfbm9kZShuLmdldF9zZWxlY3RlZCgpKTpuLmRlbGV0ZV9ub2RlKGkpfX0sY2NwOntzZXBhcmF0b3JfYmVmb3JlOiEwLGljb246ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOlwiRWRpdFwiLGFjdGlvbjohMSxzdWJtZW51OntjdXQ6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOlwiQ3V0XCIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSksaT1uLmdldF9ub2RlKHQucmVmZXJlbmNlKTtuLmlzX3NlbGVjdGVkKGkpP24uY3V0KG4uZ2V0X3RvcF9zZWxlY3RlZCgpKTpuLmN1dChpKX19LGNvcHk6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsbGFiZWw6XCJDb3B5XCIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSksaT1uLmdldF9ub2RlKHQucmVmZXJlbmNlKTtuLmlzX3NlbGVjdGVkKGkpP24uY29weShuLmdldF90b3Bfc2VsZWN0ZWQoKSk6bi5jb3B5KGkpfX0scGFzdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxfZGlzYWJsZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkuY2FuX3Bhc3RlKCl9LHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDpcIlBhc3RlXCIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSksaT1uLmdldF9ub2RlKHQucmVmZXJlbmNlKTtuLnBhc3RlKGkpfX19fX19fSxlLmpzdHJlZS5wbHVnaW5zLmNvbnRleHRtZW51PWZ1bmN0aW9uKG4saSl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7aS5iaW5kLmNhbGwodGhpcyk7dmFyIHQsbixyPTAscz1udWxsO3RoaXMuZWxlbWVudC5vbihcImluaXQuanN0cmVlIGxvYWRpbmcuanN0cmVlIHJlYWR5LmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1jb250ZXh0bWVudVwiKX0sdGhpcykpLm9uKFwiY29udGV4dG1lbnUuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXtcImlucHV0XCIhPT1lLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJihlLnByZXZlbnREZWZhdWx0KCkscj1lLmN0cmxLZXk/K25ldyBEYXRlOjAsKHR8fHMpJiYocj0rbmV3IERhdGUrMWU0KSxzJiZjbGVhclRpbWVvdXQocyksdGhpcy5pc19sb2FkaW5nKGUuY3VycmVudFRhcmdldCl8fHRoaXMuc2hvd19jb250ZXh0bWVudShlLmN1cnJlbnRUYXJnZXQsZS5wYWdlWCxlLnBhZ2VZLGUpKX0sdGhpcykpLm9uKFwiY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24odCl7dGhpcy5fZGF0YS5jb250ZXh0bWVudS52aXNpYmxlJiYoIXJ8fCtuZXcgRGF0ZS1yPjI1MCkmJmUudmFrYXRhLmNvbnRleHQuaGlkZSgpLHI9MH0sdGhpcykpLm9uKFwidG91Y2hzdGFydC5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZnVuY3Rpb24oaSl7aS5vcmlnaW5hbEV2ZW50JiZpLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJmkub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQ9aS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsbj1pLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSxzPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGkuY3VycmVudFRhcmdldCkudHJpZ2dlcihcImNvbnRleHRtZW51XCIsITApfSw3NTApKX0pLm9uKFwidG91Y2htb3ZlLnZha2F0YS5qc3RyZWVcIixmdW5jdGlvbihpKXtzJiZpLm9yaWdpbmFsRXZlbnQmJmkub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyYmaS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdJiYoTWF0aC5hYnModC1pLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCk+MTB8fE1hdGguYWJzKG4taS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkpPjEwKSYmKGNsZWFyVGltZW91dChzKSxlLnZha2F0YS5jb250ZXh0LmhpZGUoKSl9KS5vbihcInRvdWNoZW5kLnZha2F0YS5qc3RyZWVcIixmdW5jdGlvbihlKXtzJiZjbGVhclRpbWVvdXQocyl9KSxcbi8qIVxuICAgaWYoISgnb25jb250ZXh0bWVudScgaW4gZG9jdW1lbnQuYm9keSkgJiYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmJvZHkpKSB7XG4gICBcdHZhciBlbCA9IG51bGwsIHRtID0gbnVsbDtcbiAgIFx0dGhpcy5lbGVtZW50XG4gICBcdFx0Lm9uKFwidG91Y2hzdGFydFwiLCBcIi5qc3RyZWUtYW5jaG9yXCIsIGZ1bmN0aW9uIChlKSB7XG4gICBcdFx0XHRlbCA9IGUuY3VycmVudFRhcmdldDtcbiAgIFx0XHRcdHRtID0gK25ldyBEYXRlKCk7XG4gICBcdFx0XHQkKGRvY3VtZW50KS5vbmUoXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgXHRcdFx0XHRlLnRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVggLSB3aW5kb3cucGFnZVhPZmZzZXQsIGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIC0gd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgIFx0XHRcdFx0ZS5jdXJyZW50VGFyZ2V0ID0gZS50YXJnZXQ7XG4gICBcdFx0XHRcdHRtID0gKCgrKG5ldyBEYXRlKCkpKSAtIHRtKTtcbiAgIFx0XHRcdFx0aWYoZS50YXJnZXQgPT09IGVsICYmIHRtID4gNjAwICYmIHRtIDwgMTAwMCkge1xuICAgXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgIFx0XHRcdFx0XHQkKGVsKS50cmlnZ2VyKCdjb250ZXh0bWVudScsIGUpO1xuICAgXHRcdFx0XHR9XG4gICBcdFx0XHRcdGVsID0gbnVsbDtcbiAgIFx0XHRcdFx0dG0gPSBudWxsO1xuICAgXHRcdFx0fSk7XG4gICBcdFx0fSk7XG4gICB9XG4gICAqL1xuZShsKS5vbihcImNvbnRleHRfaGlkZS52YWthdGEuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZT0hMSxlKG4ucmVmZXJlbmNlKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jb250ZXh0XCIpfSx0aGlzKSl9LHRoaXMudGVhcmRvd249ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvbnRleHRtZW51LnZpc2libGUmJmUudmFrYXRhLmNvbnRleHQuaGlkZSgpLGkudGVhcmRvd24uY2FsbCh0aGlzKX0sdGhpcy5zaG93X2NvbnRleHRtZW51PWZ1bmN0aW9uKG4saSxyLHMpe2lmKCEobj10aGlzLmdldF9ub2RlKG4pKXx8bi5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dmFyIGE9dGhpcy5zZXR0aW5ncy5jb250ZXh0bWVudSxvPXRoaXMuZ2V0X25vZGUobiwhMCksZD1vLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIiksbD0hMSxjPSExOyhhLnNob3dfYXRfbm9kZXx8aT09PXR8fHI9PT10KSYmKGw9ZC5vZmZzZXQoKSxpPWwubGVmdCxyPWwudG9wK3RoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQpLHRoaXMuc2V0dGluZ3MuY29udGV4dG1lbnUuc2VsZWN0X25vZGUmJiF0aGlzLmlzX3NlbGVjdGVkKG4pJiZ0aGlzLmFjdGl2YXRlX25vZGUobixzKSxjPWEuaXRlbXMsZS5pc0Z1bmN0aW9uKGMpJiYoYz1jLmNhbGwodGhpcyxuLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5fc2hvd19jb250ZXh0bWVudShuLGkscixlKX0sdGhpcykpKSxlLmlzUGxhaW5PYmplY3QoYykmJnRoaXMuX3Nob3dfY29udGV4dG1lbnUobixpLHIsYyl9LHRoaXMuX3Nob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24odCxuLGkscil7dmFyIHM9dGhpcy5nZXRfbm9kZSh0LCEwKSxhPXMuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKTtlKGwpLm9uZShcImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe3ZhciBpPVwianN0cmVlLWNvbnRleHRtZW51IGpzdHJlZS1cIit0aGlzLmdldF90aGVtZSgpK1wiLWNvbnRleHRtZW51XCI7ZShuLmVsZW1lbnQpLmFkZENsYXNzKGkpLGEuYWRkQ2xhc3MoXCJqc3RyZWUtY29udGV4dFwiKX0sdGhpcykpLHRoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZT0hMCxlLnZha2F0YS5jb250ZXh0LnNob3coYSx7eDpuLHk6aX0sciksdGhpcy50cmlnZ2VyKFwic2hvd19jb250ZXh0bWVudVwiLHtub2RlOnQseDpuLHk6aX0pfX0sZnVuY3Rpb24oZSl7dmFyIHQ9ITEsbj17ZWxlbWVudDohMSxyZWZlcmVuY2U6ITEscG9zaXRpb25feDowLHBvc2l0aW9uX3k6MCxpdGVtczpbXSxodG1sOlwiXCIsaXNfdmlzaWJsZTohMX07ZS52YWthdGEuY29udGV4dD17c2V0dGluZ3M6e2hpZGVfb25tb3VzZWxlYXZlOjAsaWNvbnM6ITB9LF90cmlnZ2VyOmZ1bmN0aW9uKHQpe2UobCkudHJpZ2dlckhhbmRsZXIoXCJjb250ZXh0X1wiK3QrXCIudmFrYXRhXCIse3JlZmVyZW5jZTpuLnJlZmVyZW5jZSxlbGVtZW50Om4uZWxlbWVudCxwb3NpdGlvbjp7eDpuLnBvc2l0aW9uX3gseTpuLnBvc2l0aW9uX3l9fSl9LF9leGVjdXRlOmZ1bmN0aW9uKHQpe3JldHVybiEoISh0PW4uaXRlbXNbdF0pfHx0Ll9kaXNhYmxlZCYmKCFlLmlzRnVuY3Rpb24odC5fZGlzYWJsZWQpfHx0Ll9kaXNhYmxlZCh7aXRlbTp0LHJlZmVyZW5jZTpuLnJlZmVyZW5jZSxlbGVtZW50Om4uZWxlbWVudH0pKXx8IXQuYWN0aW9uKSYmdC5hY3Rpb24uY2FsbChudWxsLHtpdGVtOnQscmVmZXJlbmNlOm4ucmVmZXJlbmNlLGVsZW1lbnQ6bi5lbGVtZW50LHBvc2l0aW9uOnt4Om4ucG9zaXRpb25feCx5Om4ucG9zaXRpb25feX19KX0sX3BhcnNlOmZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuITE7aXx8KG4uaHRtbD1cIlwiLG4uaXRlbXM9W10pO3ZhciByLHM9XCJcIixhPSExO3JldHVybiBpJiYocys9XCI8dWw+XCIpLGUuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7aWYoIWkpcmV0dXJuITA7bi5pdGVtcy5wdXNoKGkpLCFhJiZpLnNlcGFyYXRvcl9iZWZvcmUmJihzKz1cIjxsaSBjbGFzcz0ndmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yJz48YSBocmVmPScjJyBcIisoZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucz9cIlwiOidzdHlsZT1cIm1hcmdpbi1sZWZ0OjBweDtcIicpK1wiPiYjMTYwOzwvYT48L2xpPlwiKSxhPSExLHMrPVwiPGxpIGNsYXNzPSdcIisoaS5fY2xhc3N8fFwiXCIpKyghMD09PWkuX2Rpc2FibGVkfHxlLmlzRnVuY3Rpb24oaS5fZGlzYWJsZWQpJiZpLl9kaXNhYmxlZCh7aXRlbTppLHJlZmVyZW5jZTpuLnJlZmVyZW5jZSxlbGVtZW50Om4uZWxlbWVudH0pP1wiIHZha2F0YS1jb250ZXh0bWVudS1kaXNhYmxlZCBcIjpcIlwiKStcIicgXCIrKGkuc2hvcnRjdXQ/XCIgZGF0YS1zaG9ydGN1dD0nXCIraS5zaG9ydGN1dCtcIicgXCI6XCJcIikrXCI+XCIscys9XCI8YSBocmVmPScjJyByZWw9J1wiKyhuLml0ZW1zLmxlbmd0aC0xKStcIicgXCIrKGkudGl0bGU/XCJ0aXRsZT0nXCIraS50aXRsZStcIidcIjpcIlwiKStcIj5cIixlLnZha2F0YS5jb250ZXh0LnNldHRpbmdzLmljb25zJiYocys9XCI8aSBcIixpLmljb24mJigtMSE9PWkuaWNvbi5pbmRleE9mKFwiL1wiKXx8LTEhPT1pLmljb24uaW5kZXhPZihcIi5cIik/cys9XCIgc3R5bGU9J2JhY2tncm91bmQ6dXJsKFxcXCJcIitpLmljb24rXCJcXFwiKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCcgXCI6cys9XCIgY2xhc3M9J1wiK2kuaWNvbitcIicgXCIpLHMrPVwiPjwvaT48c3BhbiBjbGFzcz0ndmFrYXRhLWNvbnRleHRtZW51LXNlcCc+JiMxNjA7PC9zcGFuPlwiKSxzKz0oZS5pc0Z1bmN0aW9uKGkubGFiZWwpP2kubGFiZWwoe2l0ZW06dCxyZWZlcmVuY2U6bi5yZWZlcmVuY2UsZWxlbWVudDpuLmVsZW1lbnR9KTppLmxhYmVsKSsoaS5zaG9ydGN1dD8nIDxzcGFuIGNsYXNzPVwidmFrYXRhLWNvbnRleHRtZW51LXNob3J0Y3V0IHZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC0nK2kuc2hvcnRjdXQrJ1wiPicrKGkuc2hvcnRjdXRfbGFiZWx8fFwiXCIpK1wiPC9zcGFuPlwiOlwiXCIpK1wiPC9hPlwiLGkuc3VibWVudSYmKHI9ZS52YWthdGEuY29udGV4dC5fcGFyc2UoaS5zdWJtZW51LCEwKSkmJihzKz1yKSxzKz1cIjwvbGk+XCIsaS5zZXBhcmF0b3JfYWZ0ZXImJihzKz1cIjxsaSBjbGFzcz0ndmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yJz48YSBocmVmPScjJyBcIisoZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucz9cIlwiOidzdHlsZT1cIm1hcmdpbi1sZWZ0OjBweDtcIicpK1wiPiYjMTYwOzwvYT48L2xpPlwiLGE9ITApfSkscz1zLnJlcGxhY2UoLzxsaSBjbGFzc1xcPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InXFw+PFxcL2xpXFw+JC8sXCJcIiksaSYmKHMrPVwiPC91bD5cIiksaXx8KG4uaHRtbD1zLGUudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoXCJwYXJzZVwiKSkscy5sZW5ndGg+MTAmJnN9LF9zaG93X3N1Ym1lbnU6ZnVuY3Rpb24obil7aWYoKG49ZShuKSkubGVuZ3RoJiZuLmNoaWxkcmVuKFwidWxcIikubGVuZ3RoKXt2YXIgaT1uLmNoaWxkcmVuKFwidWxcIikscj1uLm9mZnNldCgpLmxlZnQscz1yK24ub3V0ZXJXaWR0aCgpLGE9bi5vZmZzZXQoKS50b3Asbz1pLndpZHRoKCksZD1pLmhlaWdodCgpLGw9ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSxjPWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCk7dD9uW3MtKG8rMTArbi5vdXRlcldpZHRoKCkpPDA/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJ2YWthdGEtY29udGV4dC1sZWZ0XCIpOm5bcytvPmwmJnI+bC1zP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwidmFrYXRhLWNvbnRleHQtcmlnaHRcIiksYStkKzEwPmMmJmkuY3NzKFwiYm90dG9tXCIsXCItMXB4XCIpLG4uaGFzQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1yaWdodFwiKT9yPG8mJmkuY3NzKFwibWFyZ2luLXJpZ2h0XCIsci1vKTpsLXM8byYmaS5jc3MoXCJtYXJnaW4tbGVmdFwiLGwtcy1vKSxpLnNob3coKX19LHNob3c6ZnVuY3Rpb24oaSxyLHMpe3ZhciBhLG8sZCxjLGgsdSxmLHA7c3dpdGNoKG4uZWxlbWVudCYmbi5lbGVtZW50Lmxlbmd0aCYmbi5lbGVtZW50LndpZHRoKFwiXCIpLCEwKXtjYXNlIXImJiFpOnJldHVybiExO2Nhc2UhIXImJiEhaTpuLnJlZmVyZW5jZT1pLG4ucG9zaXRpb25feD1yLngsbi5wb3NpdGlvbl95PXIueTticmVhaztjYXNlIXImJiEhaTpuLnJlZmVyZW5jZT1pLGE9aS5vZmZzZXQoKSxuLnBvc2l0aW9uX3g9YS5sZWZ0K2kub3V0ZXJIZWlnaHQoKSxuLnBvc2l0aW9uX3k9YS50b3A7YnJlYWs7Y2FzZSEhciYmIWk6bi5wb3NpdGlvbl94PXIueCxuLnBvc2l0aW9uX3k9ci55fWkmJiFzJiZlKGkpLmRhdGEoXCJ2YWthdGFfY29udGV4dG1lbnVcIikmJihzPWUoaSkuZGF0YShcInZha2F0YV9jb250ZXh0bWVudVwiKSksZS52YWthdGEuY29udGV4dC5fcGFyc2UocykmJm4uZWxlbWVudC5odG1sKG4uaHRtbCksbi5pdGVtcy5sZW5ndGgmJihuLmVsZW1lbnQuYXBwZW5kVG8obC5ib2R5KSxvPW4uZWxlbWVudCxkPW4ucG9zaXRpb25feCxjPW4ucG9zaXRpb25feSxoPW8ud2lkdGgoKSx1PW8uaGVpZ2h0KCksZj1lKHdpbmRvdykud2lkdGgoKStlKHdpbmRvdykuc2Nyb2xsTGVmdCgpLHA9ZSh3aW5kb3cpLmhlaWdodCgpK2Uod2luZG93KS5zY3JvbGxUb3AoKSx0JiYoZC09by5vdXRlcldpZHRoKCktZShpKS5vdXRlcldpZHRoKCkpPGUod2luZG93KS5zY3JvbGxMZWZ0KCkrMjAmJihkPWUod2luZG93KS5zY3JvbGxMZWZ0KCkrMjApLGQraCsyMD5mJiYoZD1mLShoKzIwKSksYyt1KzIwPnAmJihjPXAtKHUrMjApKSxuLmVsZW1lbnQuY3NzKHtsZWZ0OmQsdG9wOmN9KS5zaG93KCkuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpLnBhcmVudCgpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIiksbi5pc192aXNpYmxlPSEwLGUudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoXCJzaG93XCIpKX0saGlkZTpmdW5jdGlvbigpe24uaXNfdmlzaWJsZSYmKG4uZWxlbWVudC5oaWRlKCkuZmluZChcInVsXCIpLmhpZGUoKS5lbmQoKS5maW5kKFwiOmZvY3VzXCIpLmJsdXIoKS5lbmQoKS5kZXRhY2goKSxuLmlzX3Zpc2libGU9ITEsZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcihcImhpZGVcIikpfX0sZShmdW5jdGlvbigpe3Q9XCJydGxcIj09PWUobC5ib2R5KS5jc3MoXCJkaXJlY3Rpb25cIik7dmFyIGk9ITE7bi5lbGVtZW50PWUoXCI8dWwgY2xhc3M9J3Zha2F0YS1jb250ZXh0Jz48L3VsPlwiKSxuLmVsZW1lbnQub24oXCJtb3VzZWVudGVyXCIsXCJsaVwiLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5jb250YWlucyh0aGlzLHQucmVsYXRlZFRhcmdldCl8fChpJiZjbGVhclRpbWVvdXQoaSksbi5lbGVtZW50LmZpbmQoXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5lbmQoKSxlKHRoaXMpLnNpYmxpbmdzKCkuZmluZChcInVsXCIpLmhpZGUoKS5lbmQoKS5lbmQoKS5wYXJlbnRzVW50aWwoXCIudmFrYXRhLWNvbnRleHRcIixcImxpXCIpLmFkZEJhY2soKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLGUudmFrYXRhLmNvbnRleHQuX3Nob3dfc3VibWVudSh0aGlzKSl9KS5vbihcIm1vdXNlbGVhdmVcIixcImxpXCIsZnVuY3Rpb24odCl7ZS5jb250YWlucyh0aGlzLHQucmVsYXRlZFRhcmdldCl8fGUodGhpcykuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5hZGRCYWNrKCkucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKX0pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKHQpe2UodGhpcykuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5yZW1vdmVDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUmJihpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnZha2F0YS5jb250ZXh0LmhpZGUoKX0sZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5oaWRlX29ubW91c2VsZWF2ZSkpfSkub24oXCJjbGlja1wiLFwiYVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlKHRoaXMpLmJsdXIoKS5wYXJlbnQoKS5oYXNDbGFzcyhcInZha2F0YS1jb250ZXh0LWRpc2FibGVkXCIpfHwhMT09PWUudmFrYXRhLmNvbnRleHQuX2V4ZWN1dGUoZSh0aGlzKS5hdHRyKFwicmVsXCIpKXx8ZS52YWthdGEuY29udGV4dC5oaWRlKCl9KS5vbihcImtleWRvd25cIixcImFcIixmdW5jdGlvbih0KXt2YXIgaT1udWxsO3N3aXRjaCh0LndoaWNoKXtjYXNlIDEzOmNhc2UgMzI6dC50eXBlPVwiY2xpY2tcIix0LnByZXZlbnREZWZhdWx0KCksZSh0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIodCk7YnJlYWs7Y2FzZSAzNzpuLmlzX3Zpc2libGUmJihuLmVsZW1lbnQuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5sYXN0KCkuY2xvc2VzdChcImxpXCIpLmZpcnN0KCkuZmluZChcInVsXCIpLmhpZGUoKS5maW5kKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuZW5kKCkuZW5kKCkuY2hpbGRyZW4oXCJhXCIpLmZvY3VzKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzg6bi5pc192aXNpYmxlJiYoKGk9bi5lbGVtZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5wcmV2QWxsKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLmZpcnN0KCkpLmxlbmd0aHx8KGk9bi5lbGVtZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oXCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcilcIikubGFzdCgpKSxpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuY2hpbGRyZW4oXCJhXCIpLmZvY3VzKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzk6bi5pc192aXNpYmxlJiYobi5lbGVtZW50LmZpbmQoXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikubGFzdCgpLmNoaWxkcmVuKFwidWxcIikuc2hvdygpLmNoaWxkcmVuKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuZmlyc3QoKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLmNoaWxkcmVuKFwiYVwiKS5mb2N1cygpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDQwOm4uaXNfdmlzaWJsZSYmKChpPW4uZWxlbWVudC5maW5kKFwidWw6dmlzaWJsZVwiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikubmV4dEFsbChcImxpOm5vdCgudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yKVwiKS5maXJzdCgpKS5sZW5ndGh8fChpPW4uZWxlbWVudC5maW5kKFwidWw6dmlzaWJsZVwiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLmZpcnN0KCkpLGkuYWRkQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5jaGlsZHJlbihcImFcIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAyNzplLnZha2F0YS5jb250ZXh0LmhpZGUoKSx0LnByZXZlbnREZWZhdWx0KCl9fSkub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PW4uZWxlbWVudC5maW5kKFwiLnZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC1cIitlLndoaWNoKS5wYXJlbnQoKTt0LnBhcmVudCgpLm5vdChcIi52YWthdGEtY29udGV4dC1kaXNhYmxlZFwiKSYmdC5jbGljaygpfSksZShsKS5vbihcIm1vdXNlZG93bi52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24odCl7bi5pc192aXNpYmxlJiZuLmVsZW1lbnRbMF0hPT10LnRhcmdldCYmIWUuY29udGFpbnMobi5lbGVtZW50WzBdLHQudGFyZ2V0KSYmZS52YWthdGEuY29udGV4dC5oaWRlKCl9KS5vbihcImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24oZSxpKXtuLmVsZW1lbnQuZmluZChcImxpOmhhcyh1bClcIikuY2hpbGRyZW4oXCJhXCIpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtcGFyZW50XCIpLHQmJm4uZWxlbWVudC5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LXJ0bFwiKS5jc3MoXCJkaXJlY3Rpb25cIixcInJ0bFwiKSxuLmVsZW1lbnQuZmluZChcInVsXCIpLmhpZGUoKS5lbmQoKX0pfSl9KGUpLGUuanN0cmVlLmRlZmF1bHRzLmRuZD17Y29weTohMCxvcGVuX3RpbWVvdXQ6NTAwLGlzX2RyYWdnYWJsZTohMCxjaGVja193aGlsZV9kcmFnZ2luZzohMCxhbHdheXNfY29weTohMSxpbnNpZGVfcG9zOjAsZHJhZ19zZWxlY3Rpb246ITAsdG91Y2g6ITAsbGFyZ2VfZHJvcF90YXJnZXQ6ITEsbGFyZ2VfZHJhZ190YXJnZXQ6ITEsdXNlX2h0bWw1OiExfSxlLmpzdHJlZS5wbHVnaW5zLmRuZD1mdW5jdGlvbih0LG4pe3RoaXMuaW5pdD1mdW5jdGlvbihlLHQpe24uaW5pdC5jYWxsKHRoaXMsZSx0KSx0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDU9dGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1JiZcImRyYWdnYWJsZVwiaW4gbC5jcmVhdGVFbGVtZW50KFwic3BhblwiKX0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7bi5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKHRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNT9cImRyYWdzdGFydC5qc3RyZWVcIjpcIm1vdXNlZG93bi5qc3RyZWUgdG91Y2hzdGFydC5qc3RyZWVcIix0aGlzLnNldHRpbmdzLmRuZC5sYXJnZV9kcmFnX3RhcmdldD9cIi5qc3RyZWUtbm9kZVwiOlwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0JiZlKHQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpWzBdIT09dC5jdXJyZW50VGFyZ2V0KXJldHVybiEwO2lmKFwidG91Y2hzdGFydFwiPT09dC50eXBlJiYoIXRoaXMuc2V0dGluZ3MuZG5kLnRvdWNofHxcInNlbGVjdGVkXCI9PT10aGlzLnNldHRpbmdzLmRuZC50b3VjaCYmIWUodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuaGFzQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSkpcmV0dXJuITA7dmFyIG49dGhpcy5nZXRfbm9kZSh0LnRhcmdldCksaT10aGlzLmlzX3NlbGVjdGVkKG4pJiZ0aGlzLnNldHRpbmdzLmRuZC5kcmFnX3NlbGVjdGlvbj90aGlzLmdldF90b3Bfc2VsZWN0ZWQoKS5sZW5ndGg6MSxyPWk+MT9pK1wiIFwiK3RoaXMuZ2V0X3N0cmluZyhcIm5vZGVzXCIpOnRoaXMuZ2V0X3RleHQodC5jdXJyZW50VGFyZ2V0KTtpZih0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dCYmKHI9ZS52YWthdGEuaHRtbC5lc2NhcGUocikpLG4mJm4uaWQmJm4uaWQhPT1lLmpzdHJlZS5yb290JiYoMT09PXQud2hpY2h8fFwidG91Y2hzdGFydFwiPT09dC50eXBlfHxcImRyYWdzdGFydFwiPT09dC50eXBlKSYmKCEwPT09dGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlfHxlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlKSYmdGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlLmNhbGwodGhpcyxpPjE/dGhpcy5nZXRfdG9wX3NlbGVjdGVkKCEwKTpbbl0sdCkpKXtpZihjPXtqc3RyZWU6ITAsb3JpZ2luOnRoaXMsb2JqOnRoaXMuZ2V0X25vZGUobiwhMCksbm9kZXM6aT4xP3RoaXMuZ2V0X3RvcF9zZWxlY3RlZCgpOltuLmlkXX0saD10LmN1cnJlbnRUYXJnZXQsIXRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNSlyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJtb3VzZWRvd24uanN0cmVlXCIpLGUudmFrYXRhLmRuZC5zdGFydCh0LGMsJzxkaXYgaWQ9XCJqc3RyZWUtZG5kXCIgY2xhc3M9XCJqc3RyZWUtJyt0aGlzLmdldF90aGVtZSgpK1wiIGpzdHJlZS1cIit0aGlzLmdldF90aGVtZSgpK1wiLVwiK3RoaXMuZ2V0X3RoZW1lX3ZhcmlhbnQoKStcIiBcIisodGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKydcIj48aSBjbGFzcz1cImpzdHJlZS1pY29uIGpzdHJlZS1lclwiPjwvaT4nK3IrJzxpbnMgY2xhc3M9XCJqc3RyZWUtY29weVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPis8L2lucz48L2Rpdj4nKTtlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJzdGFydFwiLHQse2hlbHBlcjplKCksZWxlbWVudDpoLGRhdGE6Y30pfX0sdGhpcykpLHRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNSYmdGhpcy5lbGVtZW50Lm9uKFwiZHJhZ292ZXIuanN0cmVlXCIsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJtb3ZlXCIsdCx7aGVscGVyOmUoKSxlbGVtZW50OmgsZGF0YTpjfSksITF9KS5vbihcImRyb3AuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0b3BcIix0LHtoZWxwZXI6ZSgpLGVsZW1lbnQ6aCxkYXRhOmN9KSwhMX0sdGhpcykpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKGUsdCxpLHIpe2lmKChlPW4ucmVkcmF3X25vZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSYmdGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1KWlmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0KWUuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsITApO2Vsc2V7dmFyIHMsYSxvPW51bGw7Zm9yKHM9MCxhPWUuY2hpbGROb2Rlcy5sZW5ndGg7czxhO3MrKylpZihlLmNoaWxkTm9kZXNbc10mJmUuY2hpbGROb2Rlc1tzXS5jbGFzc05hbWUmJi0xIT09ZS5jaGlsZE5vZGVzW3NdLmNsYXNzTmFtZS5pbmRleE9mKFwianN0cmVlLWFuY2hvclwiKSl7bz1lLmNoaWxkTm9kZXNbc107YnJlYWt9byYmby5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwhMCl9cmV0dXJuIGV9fSxlKGZ1bmN0aW9uKCl7dmFyIG49ITEsaT0hMSxyPSExLHM9ITEsYT1lKCc8ZGl2IGlkPVwianN0cmVlLW1hcmtlclwiPiYjMTYwOzwvZGl2PicpLmhpZGUoKTtlKGwpLm9uKFwiZHJhZ292ZXIudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKHQpe2gmJmUudmFrYXRhLmRuZC5fdHJpZ2dlcihcIm1vdmVcIix0LHtoZWxwZXI6ZSgpLGVsZW1lbnQ6aCxkYXRhOmN9KX0pLm9uKFwiZHJvcC52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24odCl7aCYmKGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0b3BcIix0LHtoZWxwZXI6ZSgpLGVsZW1lbnQ6aCxkYXRhOmN9KSxoPW51bGwsYz1udWxsKX0pLm9uKFwiZG5kX3N0YXJ0LnZha2F0YS5qc3RyZWVcIixmdW5jdGlvbihlLHQpe249ITEscj0hMSx0JiZ0LmRhdGEmJnQuZGF0YS5qc3RyZWUmJmEuYXBwZW5kVG8obC5ib2R5KX0pLm9uKFwiZG5kX21vdmUudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKG8sZCl7dmFyIGw9ZC5ldmVudC50YXJnZXQhPT1yLnRhcmdldDtpZihzJiYoZC5ldmVudCYmXCJkcmFnb3ZlclwiPT09ZC5ldmVudC50eXBlJiYhbHx8Y2xlYXJUaW1lb3V0KHMpKSxkJiZkLmRhdGEmJmQuZGF0YS5qc3RyZWUmJighZC5ldmVudC50YXJnZXQuaWR8fFwianN0cmVlLW1hcmtlclwiIT09ZC5ldmVudC50YXJnZXQuaWQpKXtyPWQuZXZlbnQ7dmFyIGMsaCx1LGYscCxnLF8sbSx2LHksYix4LGosayx3LEMsVD1lLmpzdHJlZS5yZWZlcmVuY2UoZC5ldmVudC50YXJnZXQpLE49ITEsUz0hMSxFPSExO2lmKFQmJlQuX2RhdGEmJlQuX2RhdGEuZG5kKWlmKGEuYXR0cihcImNsYXNzXCIsXCJqc3RyZWUtXCIrVC5nZXRfdGhlbWUoKSsoVC5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKSx3PWQuZGF0YS5vcmlnaW4mJihkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8ZC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKGQuZXZlbnQubWV0YUtleXx8ZC5ldmVudC5jdHJsS2V5KSksZC5oZWxwZXIuY2hpbGRyZW4oKS5hdHRyKFwiY2xhc3NcIixcImpzdHJlZS1cIitULmdldF90aGVtZSgpK1wiIGpzdHJlZS1cIitULmdldF90aGVtZSgpK1wiLVwiK1QuZ2V0X3RoZW1lX3ZhcmlhbnQoKStcIiBcIisoVC5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKS5maW5kKFwiLmpzdHJlZS1jb3B5XCIpLmZpcnN0KClbdz9cInNob3dcIjpcImhpZGVcIl0oKSxkLmV2ZW50LnRhcmdldCE9PVQuZWxlbWVudFswXSYmZC5ldmVudC50YXJnZXQhPT1ULmdldF9jb250YWluZXJfdWwoKVswXXx8MCE9PVQuZ2V0X2NvbnRhaW5lcl91bCgpLmNoaWxkcmVuKCkubGVuZ3RoKXtpZigoTj1ULnNldHRpbmdzLmRuZC5sYXJnZV9kcm9wX3RhcmdldD9lKGQuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIik6ZShkLmV2ZW50LnRhcmdldCkuY2xvc2VzdChcIi5qc3RyZWUtYW5jaG9yXCIpKSYmTi5sZW5ndGgmJk4ucGFyZW50KCkuaXMoXCIuanN0cmVlLWNsb3NlZCwgLmpzdHJlZS1vcGVuLCAuanN0cmVlLWxlYWZcIikmJihTPU4ub2Zmc2V0KCksRT0oZC5ldmVudC5wYWdlWSE9PXQ/ZC5ldmVudC5wYWdlWTpkLmV2ZW50Lm9yaWdpbmFsRXZlbnQucGFnZVkpLVMudG9wLHU9Ti5vdXRlckhlaWdodCgpLGc9RTx1LzM/W1wiYlwiLFwiaVwiLFwiYVwiXTpFPnUtdS8zP1tcImFcIixcImlcIixcImJcIl06RT51LzI/W1wiaVwiLFwiYVwiLFwiYlwiXTpbXCJpXCIsXCJiXCIsXCJhXCJdLGUuZWFjaChnLGZ1bmN0aW9uKHQscil7c3dpdGNoKHIpe2Nhc2VcImJcIjpjPVMubGVmdC02LGg9Uy50b3AsZj1ULmdldF9wYXJlbnQoTikscD1OLnBhcmVudCgpLmluZGV4KCk7YnJlYWs7Y2FzZVwiaVwiOmo9VC5zZXR0aW5ncy5kbmQuaW5zaWRlX3BvcyxrPVQuZ2V0X25vZGUoTi5wYXJlbnQoKSksYz1TLmxlZnQtMixoPVMudG9wK3UvMisxLGY9ay5pZCxwPVwiZmlyc3RcIj09PWo/MDpcImxhc3RcIj09PWo/ay5jaGlsZHJlbi5sZW5ndGg6TWF0aC5taW4oaixrLmNoaWxkcmVuLmxlbmd0aCk7YnJlYWs7Y2FzZVwiYVwiOmM9Uy5sZWZ0LTYsaD1TLnRvcCt1LGY9VC5nZXRfcGFyZW50KE4pLHA9Ti5wYXJlbnQoKS5pbmRleCgpKzF9Zm9yKF89ITAsbT0wLHY9ZC5kYXRhLm5vZGVzLmxlbmd0aDttPHY7bSsrKWlmKHk9ZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT9cImNvcHlfbm9kZVwiOlwibW92ZV9ub2RlXCIsYj1wLFwibW92ZV9ub2RlXCI9PT15JiZcImFcIj09PXImJmQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW49PT1UJiZmPT09VC5nZXRfcGFyZW50KGQuZGF0YS5ub2Rlc1ttXSkmJih4PVQuZ2V0X25vZGUoZiksYj5lLmluQXJyYXkoZC5kYXRhLm5vZGVzW21dLHguY2hpbGRyZW4pJiYoYi09MSkpLCEoXz1fJiYoVCYmVC5zZXR0aW5ncyYmVC5zZXR0aW5ncy5kbmQmJiExPT09VC5zZXR0aW5ncy5kbmQuY2hlY2tfd2hpbGVfZHJhZ2dpbmd8fFQuY2hlY2soeSxkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luIT09VD9kLmRhdGEub3JpZ2luLmdldF9ub2RlKGQuZGF0YS5ub2Rlc1ttXSk6ZC5kYXRhLm5vZGVzW21dLGYsYix7ZG5kOiEwLHJlZjpULmdldF9ub2RlKE4ucGFyZW50KCkpLHBvczpyLG9yaWdpbjpkLmRhdGEub3JpZ2luLGlzX211bHRpOmQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW4hPT1ULGlzX2ZvcmVpZ246IWQuZGF0YS5vcmlnaW59KSkpKXtUJiZULmxhc3RfZXJyb3ImJihpPVQubGFzdF9lcnJvcigpKTticmVha312YXIgbyxFO2lmKFwiaVwiPT09ciYmTi5wYXJlbnQoKS5pcyhcIi5qc3RyZWUtY2xvc2VkXCIpJiZULnNldHRpbmdzLmRuZC5vcGVuX3RpbWVvdXQmJihkLmV2ZW50JiZcImRyYWdvdmVyXCI9PT1kLmV2ZW50LnR5cGUmJiFsfHwocyYmY2xlYXJUaW1lb3V0KHMpLHM9c2V0VGltZW91dCgobz1ULEU9TixmdW5jdGlvbigpe28ub3Blbl9ub2RlKEUpfSksVC5zZXR0aW5ncy5kbmQub3Blbl90aW1lb3V0KSkpLF8pcmV0dXJuKEM9VC5nZXRfbm9kZShmLCEwKSkuaGFzQ2xhc3MoXCIuanN0cmVlLWRuZC1wYXJlbnRcIil8fChlKFwiLmpzdHJlZS1kbmQtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWRuZC1wYXJlbnRcIiksQy5hZGRDbGFzcyhcImpzdHJlZS1kbmQtcGFyZW50XCIpKSxuPXtpbnM6VCxwYXI6Zixwb3M6XCJpXCIhPT1yfHxcImxhc3RcIiE9PWp8fDAhPT1wfHxULmlzX2xvYWRlZChrKT9wOlwibGFzdFwifSxhLmNzcyh7bGVmdDpjK1wicHhcIix0b3A6aCtcInB4XCJ9KS5zaG93KCksZC5oZWxwZXIuZmluZChcIi5qc3RyZWUtaWNvblwiKS5maXJzdCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLWVyXCIpLmFkZENsYXNzKFwianN0cmVlLW9rXCIpLGQuZXZlbnQub3JpZ2luYWxFdmVudCYmZC5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlciYmKGQuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD13P1wiY29weVwiOlwibW92ZVwiKSxpPXt9LGc9ITAsITF9KSwhMD09PWcpKXJldHVybn1lbHNle2ZvcihfPSEwLG09MCx2PWQuZGF0YS5ub2Rlcy5sZW5ndGg7bTx2JiYoXz1fJiZULmNoZWNrKGQuZGF0YS5vcmlnaW4mJihkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8ZC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKGQuZXZlbnQubWV0YUtleXx8ZC5ldmVudC5jdHJsS2V5KSk/XCJjb3B5X25vZGVcIjpcIm1vdmVfbm9kZVwiLGQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW4hPT1UP2QuZGF0YS5vcmlnaW4uZ2V0X25vZGUoZC5kYXRhLm5vZGVzW21dKTpkLmRhdGEubm9kZXNbbV0sZS5qc3RyZWUucm9vdCxcImxhc3RcIix7ZG5kOiEwLHJlZjpULmdldF9ub2RlKGUuanN0cmVlLnJvb3QpLHBvczpcImlcIixvcmlnaW46ZC5kYXRhLm9yaWdpbixpc19tdWx0aTpkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luIT09VCxpc19mb3JlaWduOiFkLmRhdGEub3JpZ2lufSkpO20rKyk7aWYoXylyZXR1cm4gbj17aW5zOlQscGFyOmUuanN0cmVlLnJvb3QscG9zOlwibGFzdFwifSxhLmhpZGUoKSxkLmhlbHBlci5maW5kKFwiLmpzdHJlZS1pY29uXCIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZXJcIikuYWRkQ2xhc3MoXCJqc3RyZWUtb2tcIiksdm9pZChkLmV2ZW50Lm9yaWdpbmFsRXZlbnQmJmQuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXImJihkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9dz9cImNvcHlcIjpcIm1vdmVcIikpfWUoXCIuanN0cmVlLWRuZC1wYXJlbnRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZG5kLXBhcmVudFwiKSxuPSExLGQuaGVscGVyLmZpbmQoXCIuanN0cmVlLWljb25cIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtb2tcIikuYWRkQ2xhc3MoXCJqc3RyZWUtZXJcIiksZC5ldmVudC5vcmlnaW5hbEV2ZW50JiZkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLGEuaGlkZSgpfX0pLm9uKFwiZG5kX3Njcm9sbC52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24oZSx0KXt0JiZ0LmRhdGEmJnQuZGF0YS5qc3RyZWUmJihhLmhpZGUoKSxuPSExLHI9ITEsdC5oZWxwZXIuZmluZChcIi5qc3RyZWUtaWNvblwiKS5maXJzdCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW9rXCIpLmFkZENsYXNzKFwianN0cmVlLWVyXCIpKX0pLm9uKFwiZG5kX3N0b3AudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKHQsbyl7aWYoZShcIi5qc3RyZWUtZG5kLXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1kbmQtcGFyZW50XCIpLHMmJmNsZWFyVGltZW91dChzKSxvJiZvLmRhdGEmJm8uZGF0YS5qc3RyZWUpe2EuaGlkZSgpLmRldGFjaCgpO3ZhciBkLGwsYz1bXTtpZihuKXtmb3IoZD0wLGw9by5kYXRhLm5vZGVzLmxlbmd0aDtkPGw7ZCsrKWNbZF09by5kYXRhLm9yaWdpbj9vLmRhdGEub3JpZ2luLmdldF9ub2RlKG8uZGF0YS5ub2Rlc1tkXSk6by5kYXRhLm5vZGVzW2RdO24uaW5zW28uZGF0YS5vcmlnaW4mJihvLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8by5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKG8uZXZlbnQubWV0YUtleXx8by5ldmVudC5jdHJsS2V5KSk/XCJjb3B5X25vZGVcIjpcIm1vdmVfbm9kZVwiXShjLG4ucGFyLG4ucG9zLCExLCExLCExLG8uZGF0YS5vcmlnaW4pfWVsc2UoZD1lKG8uZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZVwiKSkubGVuZ3RoJiZpJiZpLmVycm9yJiZcImNoZWNrXCI9PT1pLmVycm9yJiYoZD1kLmpzdHJlZSghMCkpJiZkLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLGkpO3I9ITEsbj0hMX19KS5vbihcImtleXVwLmpzdHJlZSBrZXlkb3duLmpzdHJlZVwiLGZ1bmN0aW9uKHQsbyl7KG89ZS52YWthdGEuZG5kLl9nZXQoKSkmJm8uZGF0YSYmby5kYXRhLmpzdHJlZSYmKFwia2V5dXBcIj09PXQudHlwZSYmMjc9PT10LndoaWNoPyhzJiZjbGVhclRpbWVvdXQocyksbj0hMSxpPSExLHI9ITEscz0hMSxhLmhpZGUoKS5kZXRhY2goKSxlLnZha2F0YS5kbmQuX2NsZWFuKCkpOihvLmhlbHBlci5maW5kKFwiLmpzdHJlZS1jb3B5XCIpLmZpcnN0KClbby5kYXRhLm9yaWdpbiYmKG8uZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxvLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYodC5tZXRhS2V5fHx0LmN0cmxLZXkpKT9cInNob3dcIjpcImhpZGVcIl0oKSxyJiYoci5tZXRhS2V5PXQubWV0YUtleSxyLmN0cmxLZXk9dC5jdHJsS2V5LGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcIm1vdmVcIixyKSkpKX0pfSksZnVuY3Rpb24oZSl7ZS52YWthdGEuaHRtbD17ZGl2OmUoXCI8ZGl2IC8+XCIpLGVzY2FwZTpmdW5jdGlvbih0KXtyZXR1cm4gZS52YWthdGEuaHRtbC5kaXYudGV4dCh0KS5odG1sKCl9LHN0cmlwOmZ1bmN0aW9uKHQpe3JldHVybiBlLnZha2F0YS5odG1sLmRpdi5lbXB0eSgpLmFwcGVuZChlLnBhcnNlSFRNTCh0KSkudGV4dCgpfX07dmFyIG49e2VsZW1lbnQ6ITEsdGFyZ2V0OiExLGlzX2Rvd246ITEsaXNfZHJhZzohMSxoZWxwZXI6ITEsaGVscGVyX3c6MCxkYXRhOiExLGluaXRfeDowLGluaXRfeTowLHNjcm9sbF9sOjAsc2Nyb2xsX3Q6MCxzY3JvbGxfZTohMSxzY3JvbGxfaTohMSxpc190b3VjaDohMX07ZS52YWthdGEuZG5kPXtzZXR0aW5nczp7c2Nyb2xsX3NwZWVkOjEwLHNjcm9sbF9wcm94aW1pdHk6MjAsaGVscGVyX2xlZnQ6NSxoZWxwZXJfdG9wOjEwLHRocmVzaG9sZDo1LHRocmVzaG9sZF90b3VjaDoxMH0sX3RyaWdnZXI6ZnVuY3Rpb24obixpLHIpe3I9PT10JiYocj1lLnZha2F0YS5kbmQuX2dldCgpKSxyLmV2ZW50PWksZShsKS50cmlnZ2VySGFuZGxlcihcImRuZF9cIituK1wiLnZha2F0YVwiLHIpfSxfZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2RhdGE6bi5kYXRhLGVsZW1lbnQ6bi5lbGVtZW50LGhlbHBlcjpuLmhlbHBlcn19LF9jbGVhbjpmdW5jdGlvbigpe24uaGVscGVyJiZuLmhlbHBlci5yZW1vdmUoKSxuLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChuLnNjcm9sbF9pKSxuLnNjcm9sbF9pPSExKSxuPXtlbGVtZW50OiExLHRhcmdldDohMSxpc19kb3duOiExLGlzX2RyYWc6ITEsaGVscGVyOiExLGhlbHBlcl93OjAsZGF0YTohMSxpbml0X3g6MCxpbml0X3k6MCxzY3JvbGxfbDowLHNjcm9sbF90OjAsc2Nyb2xsX2U6ITEsc2Nyb2xsX2k6ITEsaXNfdG91Y2g6ITF9LGUobCkub2ZmKFwibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWVcIixlLnZha2F0YS5kbmQuZHJhZyksZShsKS5vZmYoXCJtb3VzZXVwLnZha2F0YS5qc3RyZWUgdG91Y2hlbmQudmFrYXRhLmpzdHJlZVwiLGUudmFrYXRhLmRuZC5zdG9wKX0sX3Njcm9sbDpmdW5jdGlvbih0KXtpZighbi5zY3JvbGxfZXx8IW4uc2Nyb2xsX2wmJiFuLnNjcm9sbF90KXJldHVybiBuLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChuLnNjcm9sbF9pKSxuLnNjcm9sbF9pPSExKSwhMTtpZighbi5zY3JvbGxfaSlyZXR1cm4gbi5zY3JvbGxfaT1zZXRJbnRlcnZhbChlLnZha2F0YS5kbmQuX3Njcm9sbCwxMDApLCExO2lmKCEwPT09dClyZXR1cm4hMTt2YXIgaT1uLnNjcm9sbF9lLnNjcm9sbFRvcCgpLHI9bi5zY3JvbGxfZS5zY3JvbGxMZWZ0KCk7bi5zY3JvbGxfZS5zY3JvbGxUb3AoaStuLnNjcm9sbF90KmUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfc3BlZWQpLG4uc2Nyb2xsX2Uuc2Nyb2xsTGVmdChyK24uc2Nyb2xsX2wqZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9zcGVlZCksaT09PW4uc2Nyb2xsX2Uuc2Nyb2xsVG9wKCkmJnI9PT1uLnNjcm9sbF9lLnNjcm9sbExlZnQoKXx8ZS52YWthdGEuZG5kLl90cmlnZ2VyKFwic2Nyb2xsXCIsbi5zY3JvbGxfZSl9LHN0YXJ0OmZ1bmN0aW9uKHQsaSxyKXtcInRvdWNoc3RhcnRcIj09PXQudHlwZSYmdC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQucGFnZVg9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHQucGFnZVk9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHQudGFyZ2V0PWwuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxuLmlzX2RyYWcmJmUudmFrYXRhLmRuZC5zdG9wKHt9KTt0cnl7dC5jdXJyZW50VGFyZ2V0LnVuc2VsZWN0YWJsZT1cIm9uXCIsdC5jdXJyZW50VGFyZ2V0Lm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5jdXJyZW50VGFyZ2V0LnN0eWxlJiYodC5jdXJyZW50VGFyZ2V0LnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiLHQuY3VycmVudFRhcmdldC5zdHlsZS5tc1RvdWNoQWN0aW9uPVwibm9uZVwiLHQuY3VycmVudFRhcmdldC5zdHlsZS5Nb3pVc2VyU2VsZWN0PVwibm9uZVwiKX1jYXRjaChlKXt9cmV0dXJuIG4uaW5pdF94PXQucGFnZVgsbi5pbml0X3k9dC5wYWdlWSxuLmRhdGE9aSxuLmlzX2Rvd249ITAsbi5lbGVtZW50PXQuY3VycmVudFRhcmdldCxuLnRhcmdldD10LnRhcmdldCxuLmlzX3RvdWNoPVwidG91Y2hzdGFydFwiPT09dC50eXBlLCExIT09ciYmKG4uaGVscGVyPWUoXCI8ZGl2IGlkPSd2YWthdGEtZG5kJz48L2Rpdj5cIikuaHRtbChyKS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLG1hcmdpbjpcIjBcIixwYWRkaW5nOlwiMFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMjAwMHB4XCIsbGluZUhlaWdodDpcIjE2cHhcIix6SW5kZXg6XCIxMDAwMFwifSkpLGUobCkub24oXCJtb3VzZW1vdmUudmFrYXRhLmpzdHJlZSB0b3VjaG1vdmUudmFrYXRhLmpzdHJlZVwiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGwpLm9uKFwibW91c2V1cC52YWthdGEuanN0cmVlIHRvdWNoZW5kLnZha2F0YS5qc3RyZWVcIixlLnZha2F0YS5kbmQuc3RvcCksITF9LGRyYWc6ZnVuY3Rpb24odCl7aWYoXCJ0b3VjaG1vdmVcIj09PXQudHlwZSYmdC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQucGFnZVg9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHQucGFnZVk9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHQudGFyZ2V0PWwuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxuLmlzX2Rvd24pe2lmKCFuLmlzX2RyYWcpe2lmKCEoTWF0aC5hYnModC5wYWdlWC1uLmluaXRfeCk+KG4uaXNfdG91Y2g/ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZF90b3VjaDplLnZha2F0YS5kbmQuc2V0dGluZ3MudGhyZXNob2xkKXx8TWF0aC5hYnModC5wYWdlWS1uLmluaXRfeSk+KG4uaXNfdG91Y2g/ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZF90b3VjaDplLnZha2F0YS5kbmQuc2V0dGluZ3MudGhyZXNob2xkKSkpcmV0dXJuO24uaGVscGVyJiYobi5oZWxwZXIuYXBwZW5kVG8obC5ib2R5KSxuLmhlbHBlcl93PW4uaGVscGVyLm91dGVyV2lkdGgoKSksbi5pc19kcmFnPSEwLGUobi50YXJnZXQpLm9uZShcImNsaWNrLnZha2F0YVwiLCExKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJzdGFydFwiLHQpfXZhciBpPSExLHI9ITEscz0hMSxhPSExLG89ITEsZD0hMSxjPSExLGg9ITEsdT0hMSxmPSExO3JldHVybiBuLnNjcm9sbF90PTAsbi5zY3JvbGxfbD0wLG4uc2Nyb2xsX2U9ITEsZShlKHQudGFyZ2V0KS5wYXJlbnRzVW50aWwoXCJib2R5XCIpLmFkZEJhY2soKS5nZXQoKS5yZXZlcnNlKCkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi9eYXV0b3xzY3JvbGwkLy50ZXN0KGUodGhpcykuY3NzKFwib3ZlcmZsb3dcIikpJiYodGhpcy5zY3JvbGxIZWlnaHQ+dGhpcy5vZmZzZXRIZWlnaHR8fHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCl9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKSxyPWkub2Zmc2V0KCk7aWYodGhpcy5zY3JvbGxIZWlnaHQ+dGhpcy5vZmZzZXRIZWlnaHQmJihyLnRvcCtpLmhlaWdodCgpLXQucGFnZVk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF90PTEpLHQucGFnZVktci50b3A8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF90PS0xKSksdGhpcy5zY3JvbGxXaWR0aD50aGlzLm9mZnNldFdpZHRoJiYoci5sZWZ0K2kud2lkdGgoKS10LnBhZ2VYPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYobi5zY3JvbGxfbD0xKSx0LnBhZ2VYLXIubGVmdDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKG4uc2Nyb2xsX2w9LTEpKSxuLnNjcm9sbF90fHxuLnNjcm9sbF9sKXJldHVybiBuLnNjcm9sbF9lPWUodGhpcyksITF9KSxuLnNjcm9sbF9lfHwoaT1lKGwpLHI9ZSh3aW5kb3cpLHM9aS5oZWlnaHQoKSxhPXIuaGVpZ2h0KCksbz1pLndpZHRoKCksZD1yLndpZHRoKCksYz1pLnNjcm9sbFRvcCgpLGg9aS5zY3JvbGxMZWZ0KCkscz5hJiZ0LnBhZ2VZLWM8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF90PS0xKSxzPmEmJmEtKHQucGFnZVktYyk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF90PTEpLG8+ZCYmdC5wYWdlWC1oPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYobi5zY3JvbGxfbD0tMSksbz5kJiZkLSh0LnBhZ2VYLWgpPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYobi5zY3JvbGxfbD0xKSwobi5zY3JvbGxfdHx8bi5zY3JvbGxfbCkmJihuLnNjcm9sbF9lPWkpKSxuLnNjcm9sbF9lJiZlLnZha2F0YS5kbmQuX3Njcm9sbCghMCksbi5oZWxwZXImJih1PXBhcnNlSW50KHQucGFnZVkrZS52YWthdGEuZG5kLnNldHRpbmdzLmhlbHBlcl90b3AsMTApLGY9cGFyc2VJbnQodC5wYWdlWCtlLnZha2F0YS5kbmQuc2V0dGluZ3MuaGVscGVyX2xlZnQsMTApLHMmJnUrMjU+cyYmKHU9cy01MCksbyYmZituLmhlbHBlcl93Pm8mJihmPW8tKG4uaGVscGVyX3crMikpLG4uaGVscGVyLmNzcyh7bGVmdDpmK1wicHhcIix0b3A6dStcInB4XCJ9KSksZS52YWthdGEuZG5kLl90cmlnZ2VyKFwibW92ZVwiLHQpLCExfX0sc3RvcDpmdW5jdGlvbih0KXtpZihcInRvdWNoZW5kXCI9PT10LnR5cGUmJnQub3JpZ2luYWxFdmVudCYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJih0LnBhZ2VYPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx0LnBhZ2VZPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSx0LnRhcmdldD1sLmVsZW1lbnRGcm9tUG9pbnQodC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCx0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KSksbi5pc19kcmFnKXQudGFyZ2V0IT09bi50YXJnZXQmJmUobi50YXJnZXQpLm9mZihcImNsaWNrLnZha2F0YVwiKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJzdG9wXCIsdCk7ZWxzZSBpZihcInRvdWNoZW5kXCI9PT10LnR5cGUmJnQudGFyZ2V0PT09bi50YXJnZXQpe3ZhciBpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKHQudGFyZ2V0KS5jbGljaygpfSwxMDApO2UodC50YXJnZXQpLm9uZShcImNsaWNrXCIsZnVuY3Rpb24oKXtpJiZjbGVhclRpbWVvdXQoaSl9KX1yZXR1cm4gZS52YWthdGEuZG5kLl9jbGVhbigpLCExfX19KGUpLGUuanN0cmVlLmRlZmF1bHRzLm1hc3Nsb2FkPW51bGwsZS5qc3RyZWUucGx1Z2lucy5tYXNzbG9hZD1mdW5jdGlvbih0LG4pe3RoaXMuaW5pdD1mdW5jdGlvbihlLHQpe3RoaXMuX2RhdGEubWFzc2xvYWQ9e30sbi5pbml0LmNhbGwodGhpcyxlLHQpfSx0aGlzLl9sb2FkX25vZGVzPWZ1bmN0aW9uKHQsaSxyLHMpe3ZhciBvLGQsbCxjPXRoaXMuc2V0dGluZ3MubWFzc2xvYWQsaD0oSlNPTi5zdHJpbmdpZnkodCksW10pLHU9dGhpcy5fbW9kZWwuZGF0YTtpZighcil7Zm9yKG89MCxkPXQubGVuZ3RoO288ZDtvKyspdVt0W29dXSYmKHVbdFtvXV0uc3RhdGUubG9hZGVkfHx1W3Rbb11dLnN0YXRlLmZhaWxlZCkmJiFzfHwoaC5wdXNoKHRbb10pLChsPXRoaXMuZ2V0X25vZGUodFtvXSwhMCkpJiZsLmxlbmd0aCYmbC5hZGRDbGFzcyhcImpzdHJlZS1sb2FkaW5nXCIpLmF0dHIoXCJhcmlhLWJ1c3lcIiwhMCkpO2lmKHRoaXMuX2RhdGEubWFzc2xvYWQ9e30saC5sZW5ndGgpe2lmKGUuaXNGdW5jdGlvbihjKSlyZXR1cm4gYy5jYWxsKHRoaXMsaCxlLnByb3h5KGZ1bmN0aW9uKGUpe3ZhciBhLG87aWYoZSlmb3IoYSBpbiBlKWUuaGFzT3duUHJvcGVydHkoYSkmJih0aGlzLl9kYXRhLm1hc3Nsb2FkW2FdPWVbYV0pO2ZvcihhPTAsbz10Lmxlbmd0aDthPG87YSsrKShsPXRoaXMuZ2V0X25vZGUodFthXSwhMCkpJiZsLmxlbmd0aCYmbC5yZW1vdmVDbGFzcyhcImpzdHJlZS1sb2FkaW5nXCIpLmF0dHIoXCJhcmlhLWJ1c3lcIiwhMSk7bi5fbG9hZF9ub2Rlcy5jYWxsKHRoaXMsdCxpLHIscyl9LHRoaXMpKTtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWM/XCJ1bmRlZmluZWRcIjphKGMpKSYmYyYmYy51cmwpcmV0dXJuIGM9ZS5leHRlbmQoITAse30sYyksZS5pc0Z1bmN0aW9uKGMudXJsKSYmKGMudXJsPWMudXJsLmNhbGwodGhpcyxoKSksZS5pc0Z1bmN0aW9uKGMuZGF0YSkmJihjLmRhdGE9Yy5kYXRhLmNhbGwodGhpcyxoKSksZS5hamF4KGMpLmRvbmUoZS5wcm94eShmdW5jdGlvbihlLGEsbyl7dmFyIGQsYztpZihlKWZvcihkIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShkKSYmKHRoaXMuX2RhdGEubWFzc2xvYWRbZF09ZVtkXSk7Zm9yKGQ9MCxjPXQubGVuZ3RoO2Q8YztkKyspKGw9dGhpcy5nZXRfbm9kZSh0W2RdLCEwKSkmJmwubGVuZ3RoJiZsLnJlbW92ZUNsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCExKTtuLl9sb2FkX25vZGVzLmNhbGwodGhpcyx0LGkscixzKX0sdGhpcykpLmZhaWwoZS5wcm94eShmdW5jdGlvbihlKXtuLl9sb2FkX25vZGVzLmNhbGwodGhpcyx0LGkscixzKX0sdGhpcykpfX1yZXR1cm4gbi5fbG9hZF9ub2Rlcy5jYWxsKHRoaXMsdCxpLHIscyl9LHRoaXMuX2xvYWRfbm9kZT1mdW5jdGlvbih0LGkpe3ZhciByLHM9dGhpcy5fZGF0YS5tYXNzbG9hZFt0LmlkXSxhPW51bGw7cmV0dXJuIHM/KGE9dGhpc1tcInN0cmluZ1wiPT10eXBlb2Ygcz9cIl9hcHBlbmRfaHRtbF9kYXRhXCI6XCJfYXBwZW5kX2pzb25fZGF0YVwiXSh0LFwic3RyaW5nXCI9PXR5cGVvZiBzP2UoZS5wYXJzZUhUTUwocykpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAzIT09dGhpcy5ub2RlVHlwZX0pOnMsZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KSwocj10aGlzLmdldF9ub2RlKHQuaWQsITApKSYmci5sZW5ndGgmJnIucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtbG9hZGluZ1wiKS5hdHRyKFwiYXJpYS1idXN5XCIsITEpLGRlbGV0ZSB0aGlzLl9kYXRhLm1hc3Nsb2FkW3QuaWRdLGEpOm4uX2xvYWRfbm9kZS5jYWxsKHRoaXMsdCxpKX19LGUuanN0cmVlLmRlZmF1bHRzLnNlYXJjaD17YWpheDohMSxmdXp6eTohMSxjYXNlX3NlbnNpdGl2ZTohMSxzaG93X29ubHlfbWF0Y2hlczohMSxzaG93X29ubHlfbWF0Y2hlc19jaGlsZHJlbjohMSxjbG9zZV9vcGVuZWRfb25jbGVhcjohMCxzZWFyY2hfbGVhdmVzX29ubHk6ITEsc2VhcmNoX2NhbGxiYWNrOiExfSxlLmpzdHJlZS5wbHVnaW5zLnNlYXJjaD1mdW5jdGlvbihuLGkpe3RoaXMuYmluZD1mdW5jdGlvbigpe2kuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuc2VhcmNoLnN0cj1cIlwiLHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKCksdGhpcy5fZGF0YS5zZWFyY2gucmVzPVtdLHRoaXMuX2RhdGEuc2VhcmNoLm9wbj1bXSx0aGlzLl9kYXRhLnNlYXJjaC5zb209ITEsdGhpcy5fZGF0YS5zZWFyY2guc21jPSExLHRoaXMuX2RhdGEuc2VhcmNoLmhkbj1bXSx0aGlzLmVsZW1lbnQub24oXCJzZWFyY2guanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LG4pe2lmKHRoaXMuX2RhdGEuc2VhcmNoLnNvbSYmbi5yZXMubGVuZ3RoKXt2YXIgaSxyLHMsYSxvPXRoaXMuX21vZGVsLmRhdGEsZD1bXTtmb3IoaT0wLHI9bi5yZXMubGVuZ3RoO2k8cjtpKyspaWYob1tuLnJlc1tpXV0mJiFvW24ucmVzW2ldXS5zdGF0ZS5oaWRkZW4mJihkLnB1c2gobi5yZXNbaV0pLGQ9ZC5jb25jYXQob1tuLnJlc1tpXV0ucGFyZW50cyksdGhpcy5fZGF0YS5zZWFyY2guc21jKSlmb3Iocz0wLGE9b1tuLnJlc1tpXV0uY2hpbGRyZW5fZC5sZW5ndGg7czxhO3MrKylvW29bbi5yZXNbaV1dLmNoaWxkcmVuX2Rbc11dJiYhb1tvW24ucmVzW2ldXS5jaGlsZHJlbl9kW3NdXS5zdGF0ZS5oaWRkZW4mJmQucHVzaChvW24ucmVzW2ldXS5jaGlsZHJlbl9kW3NdKTtkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKGUudmFrYXRhLmFycmF5X3VuaXF1ZShkKSxlLmpzdHJlZS5yb290KSx0aGlzLl9kYXRhLnNlYXJjaC5oZG49dGhpcy5oaWRlX2FsbCghMCksdGhpcy5zaG93X25vZGUoZCwhMCksdGhpcy5yZWRyYXcoITApfX0sdGhpcykpLm9uKFwiY2xlYXJfc2VhcmNoLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLl9kYXRhLnNlYXJjaC5zb20mJnQucmVzLmxlbmd0aCYmKHRoaXMuc2hvd19ub2RlKHRoaXMuX2RhdGEuc2VhcmNoLmhkbiwhMCksdGhpcy5yZWRyYXcoITApKX0sdGhpcykpfSx0aGlzLnNlYXJjaD1mdW5jdGlvbihuLGkscixzLGEsbyl7aWYoITE9PT1ufHxcIlwiPT09ZS50cmltKG4udG9TdHJpbmcoKSkpcmV0dXJuIHRoaXMuY2xlYXJfc2VhcmNoKCk7cz0ocz10aGlzLmdldF9ub2RlKHMpKSYmcy5pZD9zLmlkOm51bGwsbj1uLnRvU3RyaW5nKCk7dmFyIGQsbCxjPXRoaXMuc2V0dGluZ3Muc2VhcmNoLGg9ISFjLmFqYXgmJmMuYWpheCx1PXRoaXMuX21vZGVsLmRhdGEsZj1udWxsLHA9W10sZz1bXTtpZih0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoJiYhYSYmdGhpcy5jbGVhcl9zZWFyY2goKSxyPT09dCYmKHI9Yy5zaG93X29ubHlfbWF0Y2hlcyksbz09PXQmJihvPWMuc2hvd19vbmx5X21hdGNoZXNfY2hpbGRyZW4pLCFpJiYhMSE9PWgpcmV0dXJuIGUuaXNGdW5jdGlvbihoKT9oLmNhbGwodGhpcyxuLGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKG4sITAscixzLGEsbyl9KX0sdGhpcykscyk6KChoPWUuZXh0ZW5kKHt9LGgpKS5kYXRhfHwoaC5kYXRhPXt9KSxoLmRhdGEuc3RyPW4scyYmKGguZGF0YS5pbnNpZGU9cyksdGhpcy5fZGF0YS5zZWFyY2gubGFzdFJlcXVlc3QmJnRoaXMuX2RhdGEuc2VhcmNoLmxhc3RSZXF1ZXN0LmFib3J0KCksdGhpcy5fZGF0YS5zZWFyY2gubGFzdFJlcXVlc3Q9ZS5hamF4KGgpLmZhaWwoZS5wcm94eShmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImFqYXhcIixwbHVnaW46XCJzZWFyY2hcIixpZDpcInNlYXJjaF8wMVwiLHJlYXNvbjpcIkNvdWxkIG5vdCBsb2FkIHNlYXJjaCBwYXJlbnRzXCIsZGF0YTpKU09OLnN0cmluZ2lmeShoKX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcil9LHRoaXMpKS5kb25lKGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKG4sITAscixzLGEsbyl9KX0sdGhpcykpLHRoaXMuX2RhdGEuc2VhcmNoLmxhc3RSZXF1ZXN0KTtpZihhfHwodGhpcy5fZGF0YS5zZWFyY2guc3RyPW4sdGhpcy5fZGF0YS5zZWFyY2guZG9tPWUoKSx0aGlzLl9kYXRhLnNlYXJjaC5yZXM9W10sdGhpcy5fZGF0YS5zZWFyY2gub3BuPVtdLHRoaXMuX2RhdGEuc2VhcmNoLnNvbT1yLHRoaXMuX2RhdGEuc2VhcmNoLnNtYz1vKSxmPW5ldyBlLnZha2F0YS5zZWFyY2gobiwhMCx7Y2FzZVNlbnNpdGl2ZTpjLmNhc2Vfc2Vuc2l0aXZlLGZ1enp5OmMuZnV6enl9KSxlLmVhY2godVtzfHxlLmpzdHJlZS5yb290XS5jaGlsZHJlbl9kLGZ1bmN0aW9uKGUsdCl7dmFyIGk9dVt0XTtpLnRleHQmJiFpLnN0YXRlLmhpZGRlbiYmKCFjLnNlYXJjaF9sZWF2ZXNfb25seXx8aS5zdGF0ZS5sb2FkZWQmJjA9PT1pLmNoaWxkcmVuLmxlbmd0aCkmJihjLnNlYXJjaF9jYWxsYmFjayYmYy5zZWFyY2hfY2FsbGJhY2suY2FsbCh0aGlzLG4saSl8fCFjLnNlYXJjaF9jYWxsYmFjayYmZi5zZWFyY2goaS50ZXh0KS5pc01hdGNoKSYmKHAucHVzaCh0KSxnPWcuY29uY2F0KGkucGFyZW50cykpfSkscC5sZW5ndGgpe2ZvcihnPWUudmFrYXRhLmFycmF5X3VuaXF1ZShnKSxkPTAsbD1nLmxlbmd0aDtkPGw7ZCsrKWdbZF0hPT1lLmpzdHJlZS5yb290JiZ1W2dbZF1dJiYhMD09PXRoaXMub3Blbl9ub2RlKGdbZF0sbnVsbCwwKSYmdGhpcy5fZGF0YS5zZWFyY2gub3BuLnB1c2goZ1tkXSk7YT8odGhpcy5fZGF0YS5zZWFyY2guZG9tPXRoaXMuX2RhdGEuc2VhcmNoLmRvbS5hZGQoZSh0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbChcIiNcIitlLm1hcChwLGZ1bmN0aW9uKHQpe3JldHVybi0xIT09XCIwMTIzNDU2Nzg5XCIuaW5kZXhPZih0WzBdKT9cIlxcXFwzXCIrdFswXStcIiBcIit0LnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIik6dC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIil9KS5qb2luKFwiLCAjXCIpKSkpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1lLnZha2F0YS5hcnJheV91bmlxdWUodGhpcy5fZGF0YS5zZWFyY2gucmVzLmNvbmNhdChwKSkpOih0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSh0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbChcIiNcIitlLm1hcChwLGZ1bmN0aW9uKHQpe3JldHVybi0xIT09XCIwMTIzNDU2Nzg5XCIuaW5kZXhPZih0WzBdKT9cIlxcXFwzXCIrdFswXStcIiBcIit0LnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIik6dC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIil9KS5qb2luKFwiLCAjXCIpKSksdGhpcy5fZGF0YS5zZWFyY2gucmVzPXApLHRoaXMuX2RhdGEuc2VhcmNoLmRvbS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKFwianN0cmVlLXNlYXJjaFwiKX10aGlzLnRyaWdnZXIoXCJzZWFyY2hcIix7bm9kZXM6dGhpcy5fZGF0YS5zZWFyY2guZG9tLHN0cjpuLHJlczp0aGlzLl9kYXRhLnNlYXJjaC5yZXMsc2hvd19vbmx5X21hdGNoZXM6cn0pfSx0aGlzLmNsZWFyX3NlYXJjaD1mdW5jdGlvbigpe3RoaXMuc2V0dGluZ3Muc2VhcmNoLmNsb3NlX29wZW5lZF9vbmNsZWFyJiZ0aGlzLmNsb3NlX25vZGUodGhpcy5fZGF0YS5zZWFyY2gub3BuLDApLHRoaXMudHJpZ2dlcihcImNsZWFyX3NlYXJjaFwiLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOnRoaXMuX2RhdGEuc2VhcmNoLnN0cixyZXM6dGhpcy5fZGF0YS5zZWFyY2gucmVzfSksdGhpcy5fZGF0YS5zZWFyY2gucmVzLmxlbmd0aCYmKHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2UubWFwKHRoaXMuX2RhdGEuc2VhcmNoLnJlcyxmdW5jdGlvbih0KXtyZXR1cm4tMSE9PVwiMDEyMzQ1Njc4OVwiLmluZGV4T2YodFswXSk/XCJcXFxcM1wiK3RbMF0rXCIgXCIrdC5zdWJzdHIoMSkucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpOnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpfSkuam9pbihcIiwgI1wiKSkpLHRoaXMuX2RhdGEuc2VhcmNoLmRvbS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLXNlYXJjaFwiKSksdGhpcy5fZGF0YS5zZWFyY2guc3RyPVwiXCIsdGhpcy5fZGF0YS5zZWFyY2gucmVzPVtdLHRoaXMuX2RhdGEuc2VhcmNoLm9wbj1bXSx0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKHQsbixyLHMpe2lmKCh0PWkucmVkcmF3X25vZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSYmLTEhPT1lLmluQXJyYXkodC5pZCx0aGlzLl9kYXRhLnNlYXJjaC5yZXMpKXt2YXIgYSxvLGQ9bnVsbDtmb3IoYT0wLG89dC5jaGlsZE5vZGVzLmxlbmd0aDthPG87YSsrKWlmKHQuY2hpbGROb2Rlc1thXSYmdC5jaGlsZE5vZGVzW2FdLmNsYXNzTmFtZSYmLTEhPT10LmNoaWxkTm9kZXNbYV0uY2xhc3NOYW1lLmluZGV4T2YoXCJqc3RyZWUtYW5jaG9yXCIpKXtkPXQuY2hpbGROb2Rlc1thXTticmVha31kJiYoZC5jbGFzc05hbWUrPVwiIGpzdHJlZS1zZWFyY2hcIil9cmV0dXJuIHR9fSxmdW5jdGlvbihlKXtlLnZha2F0YS5zZWFyY2g9ZnVuY3Rpb24odCxuLGkpe2k9aXx8e30sITEhPT0oaT1lLmV4dGVuZCh7fSxlLnZha2F0YS5zZWFyY2guZGVmYXVsdHMsaSkpLmZ1enp5JiYoaS5mdXp6eT0hMCksdD1pLmNhc2VTZW5zaXRpdmU/dDp0LnRvTG93ZXJDYXNlKCk7dmFyIHIscyxhLG8sZD1pLmxvY2F0aW9uLGw9aS5kaXN0YW5jZSxjPWkudGhyZXNob2xkLGg9dC5sZW5ndGg7cmV0dXJuIGg+MzImJihpLmZ1enp5PSExKSxpLmZ1enp5JiYocj0xPDxoLTEscz1mdW5jdGlvbigpe3ZhciBlPXt9LG49MDtmb3Iobj0wO248aDtuKyspZVt0LmNoYXJBdChuKV09MDtmb3Iobj0wO248aDtuKyspZVt0LmNoYXJBdChuKV18PTE8PGgtbi0xO3JldHVybiBlfSgpLGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lL2gsaT1NYXRoLmFicyhkLXQpO3JldHVybiBsP24raS9sOmk/MTpufSksbz1mdW5jdGlvbihlKXtpZihlPWkuY2FzZVNlbnNpdGl2ZT9lOmUudG9Mb3dlckNhc2UoKSx0PT09ZXx8LTEhPT1lLmluZGV4T2YodCkpcmV0dXJue2lzTWF0Y2g6ITAsc2NvcmU6MH07aWYoIWkuZnV6enkpcmV0dXJue2lzTWF0Y2g6ITEsc2NvcmU6MX07dmFyIG4sbyxsLHUsZixwLGcsXyxtLHY9ZS5sZW5ndGgseT1jLGI9ZS5pbmRleE9mKHQsZCkseD1oK3Ysaj0xLGs9W107Zm9yKC0xIT09YiYmKHk9TWF0aC5taW4oYSgwLGIpLHkpLC0xIT09KGI9ZS5sYXN0SW5kZXhPZih0LGQraCkpJiYoeT1NYXRoLm1pbihhKDAsYikseSkpKSxiPS0xLG49MDtuPGg7bisrKXtmb3IobD0wLHU9eDtsPHU7KWEobixkK3UpPD15P2w9dTp4PXUsdT1NYXRoLmZsb29yKCh4LWwpLzIrbCk7Zm9yKHg9dSxwPU1hdGgubWF4KDEsZC11KzEpLGc9TWF0aC5taW4oZCt1LHYpK2gsKF89bmV3IEFycmF5KGcrMikpW2crMV09KDE8PG4pLTEsbz1nO28+PXA7by0tKWlmKG09c1tlLmNoYXJBdChvLTEpXSxfW29dPTA9PT1uPyhfW28rMV08PDF8MSkmbTooX1tvKzFdPDwxfDEpJm18KGZbbysxXXxmW29dKTw8MXwxfGZbbysxXSxfW29dJnImJihqPWEobixvLTEpKTw9eSl7aWYoeT1qLGI9by0xLGsucHVzaChiKSwhKGI+ZCkpYnJlYWs7cD1NYXRoLm1heCgxLDIqZC1iKX1pZihhKG4rMSxkKT55KWJyZWFrO2Y9X31yZXR1cm57aXNNYXRjaDpiPj0wLHNjb3JlOmp9fSwhMD09PW4/e3NlYXJjaDpvfTpvKG4pfSxlLnZha2F0YS5zZWFyY2guZGVmYXVsdHM9e2xvY2F0aW9uOjAsZGlzdGFuY2U6MTAwLHRocmVzaG9sZDouNixmdXp6eTohMSxjYXNlU2Vuc2l0aXZlOiExfX0oZSksZS5qc3RyZWUuZGVmYXVsdHMuc29ydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldF90ZXh0KGUpPnRoaXMuZ2V0X3RleHQodCk/MTotMX0sZS5qc3RyZWUucGx1Z2lucy5zb3J0PWZ1bmN0aW9uKHQsbil7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7bi5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKFwibW9kZWwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuc29ydCh0LnBhcmVudCwhMCl9LHRoaXMpKS5vbihcInJlbmFtZV9ub2RlLmpzdHJlZSBjcmVhdGVfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50fHx0Lm5vZGUucGFyZW50LCExKSx0aGlzLnJlZHJhd19ub2RlKHQucGFyZW50fHx0Lm5vZGUucGFyZW50LCEwKX0sdGhpcykpLm9uKFwibW92ZV9ub2RlLmpzdHJlZSBjb3B5X25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuc29ydCh0LnBhcmVudCwhMSksdGhpcy5yZWRyYXdfbm9kZSh0LnBhcmVudCwhMCl9LHRoaXMpKX0sdGhpcy5zb3J0PWZ1bmN0aW9uKHQsbil7dmFyIGkscjtpZigodD10aGlzLmdldF9ub2RlKHQpKSYmdC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5sZW5ndGgmJih0LmNoaWxkcmVuLnNvcnQoZS5wcm94eSh0aGlzLnNldHRpbmdzLnNvcnQsdGhpcykpLG4pKWZvcihpPTAscj10LmNoaWxkcmVuX2QubGVuZ3RoO2k8cjtpKyspdGhpcy5zb3J0KHQuY2hpbGRyZW5fZFtpXSwhMSl9fTt2YXIgZj0hMTtlLmpzdHJlZS5kZWZhdWx0cy5zdGF0ZT17a2V5OlwianN0cmVlXCIsZXZlbnRzOlwiY2hhbmdlZC5qc3RyZWUgb3Blbl9ub2RlLmpzdHJlZSBjbG9zZV9ub2RlLmpzdHJlZSBjaGVja19ub2RlLmpzdHJlZSB1bmNoZWNrX25vZGUuanN0cmVlXCIsdHRsOiExLGZpbHRlcjohMSxwcmVzZXJ2ZV9sb2FkZWQ6ITF9LGUuanN0cmVlLnBsdWdpbnMuc3RhdGU9ZnVuY3Rpb24odCxuKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtuLmJpbmQuY2FsbCh0aGlzKTt2YXIgdD1lLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKHRoaXMuc2V0dGluZ3Muc3RhdGUuZXZlbnRzLGUucHJveHkoZnVuY3Rpb24oKXtmJiZjbGVhclRpbWVvdXQoZiksZj1zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNhdmVfc3RhdGUoKX0sdGhpcyksMTAwKX0sdGhpcykpLHRoaXMudHJpZ2dlcihcInN0YXRlX3JlYWR5XCIpfSx0aGlzKTt0aGlzLmVsZW1lbnQub24oXCJyZWFkeS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsbil7dGhpcy5lbGVtZW50Lm9uZShcInJlc3RvcmVfc3RhdGUuanN0cmVlXCIsdCksdGhpcy5yZXN0b3JlX3N0YXRlKCl8fHQoKX0sdGhpcykpfSx0aGlzLnNhdmVfc3RhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldF9zdGF0ZSgpO3RoaXMuc2V0dGluZ3Muc3RhdGUucHJlc2VydmVfbG9hZGVkfHxkZWxldGUgdC5jb3JlLmxvYWRlZDt2YXIgbj17c3RhdGU6dCx0dGw6dGhpcy5zZXR0aW5ncy5zdGF0ZS50dGwsc2VjOituZXcgRGF0ZX07ZS52YWthdGEuc3RvcmFnZS5zZXQodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXksSlNPTi5zdHJpbmdpZnkobikpfSx0aGlzLnJlc3RvcmVfc3RhdGU9ZnVuY3Rpb24oKXt2YXIgdD1lLnZha2F0YS5zdG9yYWdlLmdldCh0aGlzLnNldHRpbmdzLnN0YXRlLmtleSk7aWYodCl0cnl7dD1KU09OLnBhcnNlKHQpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEodCYmdC50dGwmJnQuc2VjJiYrbmV3IERhdGUtdC5zZWM+dC50dGx8fCh0JiZ0LnN0YXRlJiYodD10LnN0YXRlKSx0JiZlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5zdGF0ZS5maWx0ZXIpJiYodD10aGlzLnNldHRpbmdzLnN0YXRlLmZpbHRlci5jYWxsKHRoaXMsdCkpLCF0fHwodGhpcy5zZXR0aW5ncy5zdGF0ZS5wcmVzZXJ2ZV9sb2FkZWR8fGRlbGV0ZSB0LmNvcmUubG9hZGVkLHRoaXMuZWxlbWVudC5vbmUoXCJzZXRfc3RhdGUuanN0cmVlXCIsZnVuY3Rpb24obixpKXtpLmluc3RhbmNlLnRyaWdnZXIoXCJyZXN0b3JlX3N0YXRlXCIse3N0YXRlOmUuZXh0ZW5kKCEwLHt9LHQpfSl9KSx0aGlzLnNldF9zdGF0ZSh0KSwwKSkpfSx0aGlzLmNsZWFyX3N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGUudmFrYXRhLnN0b3JhZ2UuZGVsKHRoaXMuc2V0dGluZ3Muc3RhdGUua2V5KX19LGZ1bmN0aW9uKGUsdCl7ZS52YWthdGEuc3RvcmFnZT17c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX0sZGVsOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9fX0oZSksZS5qc3RyZWUuZGVmYXVsdHMudHlwZXM9e2RlZmF1bHQ6e319LGUuanN0cmVlLmRlZmF1bHRzLnR5cGVzW2UuanN0cmVlLnJvb3RdPXt9LGUuanN0cmVlLnBsdWdpbnMudHlwZXM9ZnVuY3Rpb24obixpKXt0aGlzLmluaXQ9ZnVuY3Rpb24obixyKXt2YXIgcyxhO2lmKHImJnIudHlwZXMmJnIudHlwZXMuZGVmYXVsdClmb3IocyBpbiByLnR5cGVzKWlmKFwiZGVmYXVsdFwiIT09cyYmcyE9PWUuanN0cmVlLnJvb3QmJnIudHlwZXMuaGFzT3duUHJvcGVydHkocykpZm9yKGEgaW4gci50eXBlcy5kZWZhdWx0KXIudHlwZXMuZGVmYXVsdC5oYXNPd25Qcm9wZXJ0eShhKSYmci50eXBlc1tzXVthXT09PXQmJihyLnR5cGVzW3NdW2FdPXIudHlwZXMuZGVmYXVsdFthXSk7aS5pbml0LmNhbGwodGhpcyxuLHIpLHRoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0udHlwZT1lLmpzdHJlZS5yb290fSx0aGlzLnJlZnJlc2g9ZnVuY3Rpb24odCxuKXtpLnJlZnJlc2guY2FsbCh0aGlzLHQsbiksdGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS50eXBlPWUuanN0cmVlLnJvb3R9LHRoaXMuYmluZD1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbihcIm1vZGVsLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24obixpKXt2YXIgcixzLG8sZD10aGlzLl9tb2RlbC5kYXRhLGw9aS5ub2RlcyxjPXRoaXMuc2V0dGluZ3MudHlwZXMsaD1cImRlZmF1bHRcIjtmb3Iocj0wLHM9bC5sZW5ndGg7cjxzO3IrKyl7aWYoaD1cImRlZmF1bHRcIixkW2xbcl1dLm9yaWdpbmFsJiZkW2xbcl1dLm9yaWdpbmFsLnR5cGUmJmNbZFtsW3JdXS5vcmlnaW5hbC50eXBlXSYmKGg9ZFtsW3JdXS5vcmlnaW5hbC50eXBlKSxkW2xbcl1dLmRhdGEmJmRbbFtyXV0uZGF0YS5qc3RyZWUmJmRbbFtyXV0uZGF0YS5qc3RyZWUudHlwZSYmY1tkW2xbcl1dLmRhdGEuanN0cmVlLnR5cGVdJiYoaD1kW2xbcl1dLmRhdGEuanN0cmVlLnR5cGUpLGRbbFtyXV0udHlwZT1oLCEwPT09ZFtsW3JdXS5pY29uJiZjW2hdLmljb24hPT10JiYoZFtsW3JdXS5pY29uPWNbaF0uaWNvbiksY1toXS5saV9hdHRyIT09dCYmXCJvYmplY3RcIj09PWEoY1toXS5saV9hdHRyKSlmb3IobyBpbiBjW2hdLmxpX2F0dHIpaWYoY1toXS5saV9hdHRyLmhhc093blByb3BlcnR5KG8pKXtpZihcImlkXCI9PT1vKWNvbnRpbnVlO2RbbFtyXV0ubGlfYXR0cltvXT09PXQ/ZFtsW3JdXS5saV9hdHRyW29dPWNbaF0ubGlfYXR0cltvXTpcImNsYXNzXCI9PT1vJiYoZFtsW3JdXS5saV9hdHRyLmNsYXNzPWNbaF0ubGlfYXR0ci5jbGFzcytcIiBcIitkW2xbcl1dLmxpX2F0dHIuY2xhc3MpfWlmKGNbaF0uYV9hdHRyIT09dCYmXCJvYmplY3RcIj09PWEoY1toXS5hX2F0dHIpKWZvcihvIGluIGNbaF0uYV9hdHRyKWlmKGNbaF0uYV9hdHRyLmhhc093blByb3BlcnR5KG8pKXtpZihcImlkXCI9PT1vKWNvbnRpbnVlO2RbbFtyXV0uYV9hdHRyW29dPT09dD9kW2xbcl1dLmFfYXR0cltvXT1jW2hdLmFfYXR0cltvXTpcImhyZWZcIj09PW8mJlwiI1wiPT09ZFtsW3JdXS5hX2F0dHJbb10/ZFtsW3JdXS5hX2F0dHIuaHJlZj1jW2hdLmFfYXR0ci5ocmVmOlwiY2xhc3NcIj09PW8mJihkW2xbcl1dLmFfYXR0ci5jbGFzcz1jW2hdLmFfYXR0ci5jbGFzcytcIiBcIitkW2xbcl1dLmFfYXR0ci5jbGFzcyl9fWRbZS5qc3RyZWUucm9vdF0udHlwZT1lLmpzdHJlZS5yb290fSx0aGlzKSksaS5iaW5kLmNhbGwodGhpcyl9LHRoaXMuZ2V0X2pzb249ZnVuY3Rpb24odCxuLHIpe3ZhciBzLGEsbz10aGlzLl9tb2RlbC5kYXRhLGQ9bj9lLmV4dGVuZCghMCx7fSxuLHtub19pZDohMX0pOnt9LGw9aS5nZXRfanNvbi5jYWxsKHRoaXMsdCxkLHIpO2lmKCExPT09bClyZXR1cm4hMTtpZihlLmlzQXJyYXkobCkpZm9yKHM9MCxhPWwubGVuZ3RoO3M8YTtzKyspbFtzXS50eXBlPWxbc10uaWQmJm9bbFtzXS5pZF0mJm9bbFtzXS5pZF0udHlwZT9vW2xbc10uaWRdLnR5cGU6XCJkZWZhdWx0XCIsbiYmbi5ub19pZCYmKGRlbGV0ZSBsW3NdLmlkLGxbc10ubGlfYXR0ciYmbFtzXS5saV9hdHRyLmlkJiZkZWxldGUgbFtzXS5saV9hdHRyLmlkLGxbc10uYV9hdHRyJiZsW3NdLmFfYXR0ci5pZCYmZGVsZXRlIGxbc10uYV9hdHRyLmlkKTtlbHNlIGwudHlwZT1sLmlkJiZvW2wuaWRdJiZvW2wuaWRdLnR5cGU/b1tsLmlkXS50eXBlOlwiZGVmYXVsdFwiLG4mJm4ubm9faWQmJihsPXRoaXMuX2RlbGV0ZV9pZHMobCkpO3JldHVybiBsfSx0aGlzLl9kZWxldGVfaWRzPWZ1bmN0aW9uKHQpe2lmKGUuaXNBcnJheSh0KSl7Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRbbl09dGhpcy5fZGVsZXRlX2lkcyh0W25dKTtyZXR1cm4gdH1yZXR1cm4gZGVsZXRlIHQuaWQsdC5saV9hdHRyJiZ0LmxpX2F0dHIuaWQmJmRlbGV0ZSB0LmxpX2F0dHIuaWQsdC5hX2F0dHImJnQuYV9hdHRyLmlkJiZkZWxldGUgdC5hX2F0dHIuaWQsdC5jaGlsZHJlbiYmZS5pc0FycmF5KHQuY2hpbGRyZW4pJiYodC5jaGlsZHJlbj10aGlzLl9kZWxldGVfaWRzKHQuY2hpbGRyZW4pKSx0fSx0aGlzLmNoZWNrPWZ1bmN0aW9uKG4scixzLGEsbyl7aWYoITE9PT1pLmNoZWNrLmNhbGwodGhpcyxuLHIscyxhLG8pKXJldHVybiExO3I9ciYmci5pZD9yOnRoaXMuZ2V0X25vZGUocikscz1zJiZzLmlkP3M6dGhpcy5nZXRfbm9kZShzKTt2YXIgZCxsLGMsaCx1PXImJnIuaWQ/byYmby5vcmlnaW4/by5vcmlnaW46ZS5qc3RyZWUucmVmZXJlbmNlKHIuaWQpOm51bGw7c3dpdGNoKHU9dSYmdS5fbW9kZWwmJnUuX21vZGVsLmRhdGE/dS5fbW9kZWwuZGF0YTpudWxsLG4pe2Nhc2VcImNyZWF0ZV9ub2RlXCI6Y2FzZVwibW92ZV9ub2RlXCI6Y2FzZVwiY29weV9ub2RlXCI6aWYoXCJtb3ZlX25vZGVcIiE9PW58fC0xPT09ZS5pbkFycmF5KHIuaWQscy5jaGlsZHJlbikpe2lmKChkPXRoaXMuZ2V0X3J1bGVzKHMpKS5tYXhfY2hpbGRyZW4hPT10JiYtMSE9PWQubWF4X2NoaWxkcmVuJiZkLm1heF9jaGlsZHJlbj09PXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInR5cGVzXCIsaWQ6XCJ0eXBlc18wMVwiLHJlYXNvbjpcIm1heF9jaGlsZHJlbiBwcmV2ZW50cyBmdW5jdGlvbjogXCIrbixkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6bixwb3M6YSxvYmo6ISghcnx8IXIuaWQpJiZyLmlkLHBhcjohKCFzfHwhcy5pZCkmJnMuaWR9KX0sITE7aWYoZC52YWxpZF9jaGlsZHJlbiE9PXQmJi0xIT09ZC52YWxpZF9jaGlsZHJlbiYmLTE9PT1lLmluQXJyYXkoci50eXBlfHxcImRlZmF1bHRcIixkLnZhbGlkX2NoaWxkcmVuKSlyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJ0eXBlc1wiLGlkOlwidHlwZXNfMDJcIixyZWFzb246XCJ2YWxpZF9jaGlsZHJlbiBwcmV2ZW50cyBmdW5jdGlvbjogXCIrbixkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6bixwb3M6YSxvYmo6ISghcnx8IXIuaWQpJiZyLmlkLHBhcjohKCFzfHwhcy5pZCkmJnMuaWR9KX0sITE7aWYodSYmci5jaGlsZHJlbl9kJiZyLnBhcmVudHMpe2ZvcihsPTAsYz0wLGg9ci5jaGlsZHJlbl9kLmxlbmd0aDtjPGg7YysrKWw9TWF0aC5tYXgobCx1W3IuY2hpbGRyZW5fZFtjXV0ucGFyZW50cy5sZW5ndGgpO2w9bC1yLnBhcmVudHMubGVuZ3RoKzF9KGw8PTB8fGw9PT10KSYmKGw9MSk7ZG97aWYoZC5tYXhfZGVwdGghPT10JiYtMSE9PWQubWF4X2RlcHRoJiZkLm1heF9kZXB0aDxsKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInR5cGVzXCIsaWQ6XCJ0eXBlc18wM1wiLHJlYXNvbjpcIm1heF9kZXB0aCBwcmV2ZW50cyBmdW5jdGlvbjogXCIrbixkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6bixwb3M6YSxvYmo6ISghcnx8IXIuaWQpJiZyLmlkLHBhcjohKCFzfHwhcy5pZCkmJnMuaWR9KX0sITE7cz10aGlzLmdldF9ub2RlKHMucGFyZW50KSxkPXRoaXMuZ2V0X3J1bGVzKHMpLGwrK313aGlsZShzKX19cmV0dXJuITB9LHRoaXMuZ2V0X3J1bGVzPWZ1bmN0aW9uKGUpe2lmKCEoZT10aGlzLmdldF9ub2RlKGUpKSlyZXR1cm4hMTt2YXIgbj10aGlzLmdldF90eXBlKGUsITApO3JldHVybiBuLm1heF9kZXB0aD09PXQmJihuLm1heF9kZXB0aD0tMSksbi5tYXhfY2hpbGRyZW49PT10JiYobi5tYXhfY2hpbGRyZW49LTEpLG4udmFsaWRfY2hpbGRyZW49PT10JiYobi52YWxpZF9jaGlsZHJlbj0tMSksbn0sdGhpcy5nZXRfdHlwZT1mdW5jdGlvbih0LG4pe3JldHVybiEhKHQ9dGhpcy5nZXRfbm9kZSh0KSkmJihuP2UuZXh0ZW5kKHt0eXBlOnQudHlwZX0sdGhpcy5zZXR0aW5ncy50eXBlc1t0LnR5cGVdKTp0LnR5cGUpfSx0aGlzLnNldF90eXBlPWZ1bmN0aW9uKG4saSl7dmFyIHIscyxvLGQsbCxjLGgsdSxmPXRoaXMuX21vZGVsLmRhdGE7aWYoZS5pc0FycmF5KG4pKXtmb3Iobj1uLnNsaWNlKCkscz0wLG89bi5sZW5ndGg7czxvO3MrKyl0aGlzLnNldF90eXBlKG5bc10saSk7cmV0dXJuITB9aWYocj10aGlzLnNldHRpbmdzLnR5cGVzLG49dGhpcy5nZXRfbm9kZShuKSwhcltpXXx8IW4pcmV0dXJuITE7aWYoKGg9dGhpcy5nZXRfbm9kZShuLCEwKSkmJmgubGVuZ3RoJiYodT1oLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikpLGQ9bi50eXBlLGw9dGhpcy5nZXRfaWNvbihuKSxuLnR5cGU9aSwoITA9PT1sfHwhcltkXXx8cltkXS5pY29uIT09dCYmbD09PXJbZF0uaWNvbikmJnRoaXMuc2V0X2ljb24obixyW2ldLmljb249PT10fHxyW2ldLmljb24pLHJbZF0mJnJbZF0ubGlfYXR0ciE9PXQmJlwib2JqZWN0XCI9PT1hKHJbZF0ubGlfYXR0cikpZm9yKGMgaW4gcltkXS5saV9hdHRyKWlmKHJbZF0ubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShjKSl7aWYoXCJpZFwiPT09Yyljb250aW51ZTtcImNsYXNzXCI9PT1jPyhmW24uaWRdLmxpX2F0dHIuY2xhc3M9KGZbbi5pZF0ubGlfYXR0ci5jbGFzc3x8XCJcIikucmVwbGFjZShyW2RdLmxpX2F0dHJbY10sXCJcIiksaCYmaC5yZW1vdmVDbGFzcyhyW2RdLmxpX2F0dHJbY10pKTpmW24uaWRdLmxpX2F0dHJbY109PT1yW2RdLmxpX2F0dHJbY10mJihmW24uaWRdLmxpX2F0dHJbY109bnVsbCxoJiZoLnJlbW92ZUF0dHIoYykpfWlmKHJbZF0mJnJbZF0uYV9hdHRyIT09dCYmXCJvYmplY3RcIj09PWEocltkXS5hX2F0dHIpKWZvcihjIGluIHJbZF0uYV9hdHRyKWlmKHJbZF0uYV9hdHRyLmhhc093blByb3BlcnR5KGMpKXtpZihcImlkXCI9PT1jKWNvbnRpbnVlO1wiY2xhc3NcIj09PWM/KGZbbi5pZF0uYV9hdHRyLmNsYXNzPShmW24uaWRdLmFfYXR0ci5jbGFzc3x8XCJcIikucmVwbGFjZShyW2RdLmFfYXR0cltjXSxcIlwiKSx1JiZ1LnJlbW92ZUNsYXNzKHJbZF0uYV9hdHRyW2NdKSk6ZltuLmlkXS5hX2F0dHJbY109PT1yW2RdLmFfYXR0cltjXSYmKFwiaHJlZlwiPT09Yz8oZltuLmlkXS5hX2F0dHJbY109XCIjXCIsdSYmdS5hdHRyKFwiaHJlZlwiLFwiI1wiKSk6KGRlbGV0ZSBmW24uaWRdLmFfYXR0cltjXSx1JiZ1LnJlbW92ZUF0dHIoYykpKX1pZihyW2ldLmxpX2F0dHIhPT10JiZcIm9iamVjdFwiPT09YShyW2ldLmxpX2F0dHIpKWZvcihjIGluIHJbaV0ubGlfYXR0cilpZihyW2ldLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoYykpe2lmKFwiaWRcIj09PWMpY29udGludWU7ZltuLmlkXS5saV9hdHRyW2NdPT09dD8oZltuLmlkXS5saV9hdHRyW2NdPXJbaV0ubGlfYXR0cltjXSxoJiYoXCJjbGFzc1wiPT09Yz9oLmFkZENsYXNzKHJbaV0ubGlfYXR0cltjXSk6aC5hdHRyKGMscltpXS5saV9hdHRyW2NdKSkpOlwiY2xhc3NcIj09PWMmJihmW24uaWRdLmxpX2F0dHIuY2xhc3M9cltpXS5saV9hdHRyW2NdK1wiIFwiK2Zbbi5pZF0ubGlfYXR0ci5jbGFzcyxoJiZoLmFkZENsYXNzKHJbaV0ubGlfYXR0cltjXSkpfWlmKHJbaV0uYV9hdHRyIT09dCYmXCJvYmplY3RcIj09PWEocltpXS5hX2F0dHIpKWZvcihjIGluIHJbaV0uYV9hdHRyKWlmKHJbaV0uYV9hdHRyLmhhc093blByb3BlcnR5KGMpKXtpZihcImlkXCI9PT1jKWNvbnRpbnVlO2Zbbi5pZF0uYV9hdHRyW2NdPT09dD8oZltuLmlkXS5hX2F0dHJbY109cltpXS5hX2F0dHJbY10sdSYmKFwiY2xhc3NcIj09PWM/dS5hZGRDbGFzcyhyW2ldLmFfYXR0cltjXSk6dS5hdHRyKGMscltpXS5hX2F0dHJbY10pKSk6XCJocmVmXCI9PT1jJiZcIiNcIj09PWZbbi5pZF0uYV9hdHRyW2NdPyhmW24uaWRdLmFfYXR0ci5ocmVmPXJbaV0uYV9hdHRyLmhyZWYsdSYmdS5hdHRyKFwiaHJlZlwiLHJbaV0uYV9hdHRyLmhyZWYpKTpcImNsYXNzXCI9PT1jJiYoZltuLmlkXS5hX2F0dHIuY2xhc3M9cltpXS5hX2F0dHIuY2xhc3MrXCIgXCIrZltuLmlkXS5hX2F0dHIuY2xhc3MsdSYmdS5hZGRDbGFzcyhyW2ldLmFfYXR0cltjXSkpfXJldHVybiEwfX0sZS5qc3RyZWUuZGVmYXVsdHMudW5pcXVlPXtjYXNlX3NlbnNpdGl2ZTohMSx0cmltX3doaXRlc3BhY2U6ITEsZHVwbGljYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrXCIgKFwiK3QrXCIpXCJ9fSxlLmpzdHJlZS5wbHVnaW5zLnVuaXF1ZT1mdW5jdGlvbihuLGkpe3RoaXMuY2hlY2s9ZnVuY3Rpb24odCxuLHIscyxhKXtpZighMT09PWkuY2hlY2suY2FsbCh0aGlzLHQsbixyLHMsYSkpcmV0dXJuITE7aWYobj1uJiZuLmlkP246dGhpcy5nZXRfbm9kZShuKSwhKHI9ciYmci5pZD9yOnRoaXMuZ2V0X25vZGUocikpfHwhci5jaGlsZHJlbilyZXR1cm4hMDt2YXIgbyxkLGwsYz1cInJlbmFtZV9ub2RlXCI9PT10P3M6bi50ZXh0LGg9W10sdT10aGlzLnNldHRpbmdzLnVuaXF1ZS5jYXNlX3NlbnNpdGl2ZSxmPXRoaXMuc2V0dGluZ3MudW5pcXVlLnRyaW1fd2hpdGVzcGFjZSxwPXRoaXMuX21vZGVsLmRhdGE7Zm9yKG89MCxkPXIuY2hpbGRyZW4ubGVuZ3RoO288ZDtvKyspbD1wW3IuY2hpbGRyZW5bb11dLnRleHQsdXx8KGw9bC50b0xvd2VyQ2FzZSgpKSxmJiYobD1sLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpKSxoLnB1c2gobCk7c3dpdGNoKHV8fChjPWMudG9Mb3dlckNhc2UoKSksZiYmKGM9Yy5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSksdCl7Y2FzZVwiZGVsZXRlX25vZGVcIjpyZXR1cm4hMDtjYXNlXCJyZW5hbWVfbm9kZVwiOnJldHVybiBsPW4udGV4dHx8XCJcIix1fHwobD1sLnRvTG93ZXJDYXNlKCkpLGYmJihsPWwucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIikpLChvPS0xPT09ZS5pbkFycmF5KGMsaCl8fG4udGV4dCYmbD09PWMpfHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJ1bmlxdWVcIixpZDpcInVuaXF1ZV8wMVwiLHJlYXNvbjpcIkNoaWxkIHdpdGggbmFtZSBcIitjK1wiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiBcIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpzLG9iajohKCFufHwhbi5pZCkmJm4uaWQscGFyOiEoIXJ8fCFyLmlkKSYmci5pZH0pfSksbztjYXNlXCJjcmVhdGVfbm9kZVwiOnJldHVybihvPS0xPT09ZS5pbkFycmF5KGMsaCkpfHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJ1bmlxdWVcIixpZDpcInVuaXF1ZV8wNFwiLHJlYXNvbjpcIkNoaWxkIHdpdGggbmFtZSBcIitjK1wiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiBcIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpzLG9iajohKCFufHwhbi5pZCkmJm4uaWQscGFyOiEoIXJ8fCFyLmlkKSYmci5pZH0pfSksbztjYXNlXCJjb3B5X25vZGVcIjpyZXR1cm4obz0tMT09PWUuaW5BcnJheShjLGgpKXx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidW5pcXVlXCIsaWQ6XCJ1bmlxdWVfMDJcIixyZWFzb246XCJDaGlsZCB3aXRoIG5hbWUgXCIrYytcIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogXCIrdCxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6dCxwb3M6cyxvYmo6ISghbnx8IW4uaWQpJiZuLmlkLHBhcjohKCFyfHwhci5pZCkmJnIuaWR9KX0pLG87Y2FzZVwibW92ZV9ub2RlXCI6cmV0dXJuKG89bi5wYXJlbnQ9PT1yLmlkJiYoIWF8fCFhLmlzX211bHRpKXx8LTE9PT1lLmluQXJyYXkoYyxoKSl8fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInVuaXF1ZVwiLGlkOlwidW5pcXVlXzAzXCIscmVhc29uOlwiQ2hpbGQgd2l0aCBuYW1lIFwiK2MrXCIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnMsb2JqOiEoIW58fCFuLmlkKSYmbi5pZCxwYXI6ISghcnx8IXIuaWQpJiZyLmlkfSl9KSxvfXJldHVybiEwfSx0aGlzLmNyZWF0ZV9ub2RlPWZ1bmN0aW9uKG4scixzLGEsbyl7aWYoIXJ8fHIudGV4dD09PXQpe2lmKG51bGw9PT1uJiYobj1lLmpzdHJlZS5yb290KSwhKG49dGhpcy5nZXRfbm9kZShuKSkpcmV0dXJuIGkuY3JlYXRlX25vZGUuY2FsbCh0aGlzLG4scixzLGEsbyk7aWYoIShzPXM9PT10P1wibGFzdFwiOnMpLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmIW8mJiF0aGlzLmlzX2xvYWRlZChuKSlyZXR1cm4gaS5jcmVhdGVfbm9kZS5jYWxsKHRoaXMsbixyLHMsYSxvKTtyfHwocj17fSk7dmFyIGQsbCxjLGgsdSxmLHA9dGhpcy5fbW9kZWwuZGF0YSxnPXRoaXMuc2V0dGluZ3MudW5pcXVlLmNhc2Vfc2Vuc2l0aXZlLF89dGhpcy5zZXR0aW5ncy51bmlxdWUudHJpbV93aGl0ZXNwYWNlLG09dGhpcy5zZXR0aW5ncy51bmlxdWUuZHVwbGljYXRlO2ZvcihsPWQ9dGhpcy5nZXRfc3RyaW5nKFwiTmV3IG5vZGVcIiksYz1bXSxoPTAsdT1uLmNoaWxkcmVuLmxlbmd0aDtoPHU7aCsrKWY9cFtuLmNoaWxkcmVuW2hdXS50ZXh0LGd8fChmPWYudG9Mb3dlckNhc2UoKSksXyYmKGY9Zi5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSksYy5wdXNoKGYpO2ZvcihoPTEsZj1sLGd8fChmPWYudG9Mb3dlckNhc2UoKSksXyYmKGY9Zi5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSk7LTEhPT1lLmluQXJyYXkoZixjKTspbD1tLmNhbGwodGhpcyxkLCsraCkudG9TdHJpbmcoKSxmPWwsZ3x8KGY9Zi50b0xvd2VyQ2FzZSgpKSxfJiYoZj1mLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpKTtyLnRleHQ9bH1yZXR1cm4gaS5jcmVhdGVfbm9kZS5jYWxsKHRoaXMsbixyLHMsYSxvKX19O3ZhciBwPWwuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtpZihwLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIikscC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIikscC5jbGFzc05hbWU9XCJqc3RyZWUtd2hvbGVyb3dcIixwLmlubmVySFRNTD1cIiYjMTYwO1wiLGUuanN0cmVlLnBsdWdpbnMud2hvbGVyb3c9ZnVuY3Rpb24odCxuKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtuLmJpbmQuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQub24oXCJyZWFkeS5qc3RyZWUgc2V0X3N0YXRlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGVfZG90cygpfSx0aGlzKSkub24oXCJpbml0LmpzdHJlZSBsb2FkaW5nLmpzdHJlZSByZWFkeS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoXCJqc3RyZWUtd2hvbGVyb3ctdWxcIil9LHRoaXMpKS5vbihcImRlc2VsZWN0X2FsbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLXdob2xlcm93LWNsaWNrZWRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKX0sdGhpcykpLm9uKFwiY2hhbmdlZC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLXdob2xlcm93LWNsaWNrZWRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKTt2YXIgbixpLHI9ITE7Zm9yKG49MCxpPXQuc2VsZWN0ZWQubGVuZ3RoO248aTtuKyspKHI9dGhpcy5nZXRfbm9kZSh0LnNlbGVjdGVkW25dLCEwKSkmJnIubGVuZ3RoJiZyLmNoaWxkcmVuKFwiLmpzdHJlZS13aG9sZXJvd1wiKS5hZGRDbGFzcyhcImpzdHJlZS13aG9sZXJvdy1jbGlja2VkXCIpfSx0aGlzKSkub24oXCJvcGVuX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZ2V0X25vZGUodC5ub2RlLCEwKS5maW5kKFwiLmpzdHJlZS1jbGlja2VkXCIpLnBhcmVudCgpLmNoaWxkcmVuKFwiLmpzdHJlZS13aG9sZXJvd1wiKS5hZGRDbGFzcyhcImpzdHJlZS13aG9sZXJvdy1jbGlja2VkXCIpfSx0aGlzKSkub24oXCJob3Zlcl9ub2RlLmpzdHJlZSBkZWhvdmVyX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe1wiaG92ZXJfbm9kZVwiPT09ZS50eXBlJiZ0aGlzLmlzX2Rpc2FibGVkKHQubm9kZSl8fHRoaXMuZ2V0X25vZGUodC5ub2RlLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtd2hvbGVyb3dcIilbXCJob3Zlcl9ub2RlXCI9PT1lLnR5cGU/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJqc3RyZWUtd2hvbGVyb3ctaG92ZXJlZFwiKX0sdGhpcykpLm9uKFwiY29udGV4dG1lbnUuanN0cmVlXCIsXCIuanN0cmVlLXdob2xlcm93XCIsZS5wcm94eShmdW5jdGlvbih0KXtpZih0aGlzLl9kYXRhLmNvbnRleHRtZW51KXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIG49ZS5FdmVudChcImNvbnRleHRtZW51XCIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5LHBhZ2VYOnQucGFnZVgscGFnZVk6dC5wYWdlWX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZmlyc3QoKS50cmlnZ2VyKG4pfX0sdGhpcykpXG4vKiFcbiAgIC5vbihcIm1vdXNlZG93bi5qc3RyZWUgdG91Y2hzdGFydC5qc3RyZWVcIiwgXCIuanN0cmVlLXdob2xlcm93XCIsIGZ1bmN0aW9uIChlKSB7XG4gICBcdFx0aWYoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgXHRcdFx0dmFyIGEgPSAkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpO1xuICAgXHRcdFx0ZS50YXJnZXQgPSBhWzBdO1xuICAgXHRcdFx0YS50cmlnZ2VyKGUpO1xuICAgXHRcdH1cbiAgIFx0fSlcbiAgICovLm9uKFwiY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLXdob2xlcm93XCIsZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgbj1lLkV2ZW50KFwiY2xpY2tcIix7bWV0YUtleTp0Lm1ldGFLZXksY3RybEtleTp0LmN0cmxLZXksYWx0S2V5OnQuYWx0S2V5LHNoaWZ0S2V5OnQuc2hpZnRLZXl9KTtlKHQuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZpcnN0KCkudHJpZ2dlcihuKS5mb2N1cygpfSkub24oXCJkYmxjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtd2hvbGVyb3dcIixmdW5jdGlvbih0KXt0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciBuPWUuRXZlbnQoXCJkYmxjbGlja1wiLHttZXRhS2V5OnQubWV0YUtleSxjdHJsS2V5OnQuY3RybEtleSxhbHRLZXk6dC5hbHRLZXksc2hpZnRLZXk6dC5zaGlmdEtleX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZmlyc3QoKS50cmlnZ2VyKG4pLmZvY3VzKCl9KS5vbihcImNsaWNrLmpzdHJlZVwiLFwiLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2xcIixlLnByb3h5KGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIG49ZS5FdmVudChcImNsaWNrXCIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5fSk7ZSh0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5maXJzdCgpLnRyaWdnZXIobikuZm9jdXMoKX0sdGhpcykpLm9uKFwibW91c2VvdmVyLmpzdHJlZVwiLFwiLmpzdHJlZS13aG9sZXJvdywgLmpzdHJlZS1pY29uXCIsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLmlzX2Rpc2FibGVkKGUuY3VycmVudFRhcmdldCl8fHRoaXMuaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpLCExfSx0aGlzKSkub24oXCJtb3VzZWxlYXZlLmpzdHJlZVwiLFwiLmpzdHJlZS1ub2RlXCIsZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLmRlaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpfSx0aGlzKSl9LHRoaXMudGVhcmRvd249ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLndob2xlcm93JiZ0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtd2hvbGVyb3dcIikucmVtb3ZlKCksbi50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKHQsaSxyLHMpe2lmKHQ9bi5yZWRyYXdfbm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe3ZhciBhPXAuY2xvbmVOb2RlKCEwKTstMSE9PWUuaW5BcnJheSh0LmlkLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCkmJihhLmNsYXNzTmFtZSs9XCIganN0cmVlLXdob2xlcm93LWNsaWNrZWRcIiksdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQmJnRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPT09dC5pZCYmKGEuY2xhc3NOYW1lKz1cIiBqc3RyZWUtd2hvbGVyb3ctaG92ZXJlZFwiKSx0Lmluc2VydEJlZm9yZShhLHQuY2hpbGROb2Rlc1swXSl9cmV0dXJuIHR9fSx3aW5kb3cuY3VzdG9tRWxlbWVudHMmJk9iamVjdCYmT2JqZWN0LmNyZWF0ZSl7dmFyIGc9T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpO2cuY3JlYXRlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dmFyIHQsbj17Y29yZTp7fSxwbHVnaW5zOltdfTtmb3IodCBpbiBlLmpzdHJlZS5wbHVnaW5zKWUuanN0cmVlLnBsdWdpbnMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuYXR0cmlidXRlc1t0XSYmKG4ucGx1Z2lucy5wdXNoKHQpLHRoaXMuZ2V0QXR0cmlidXRlKHQpJiZKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKHQpKSYmKG5bdF09SlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSh0KSkpKTtmb3IodCBpbiBlLmpzdHJlZS5kZWZhdWx0cy5jb3JlKWUuanN0cmVlLmRlZmF1bHRzLmNvcmUuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuYXR0cmlidXRlc1t0XSYmKG4uY29yZVt0XT1KU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKHQpKXx8dGhpcy5nZXRBdHRyaWJ1dGUodCkpO2UodGhpcykuanN0cmVlKG4pfTt0cnl7d2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInZha2F0YS1qc3RyZWVcIixmdW5jdGlvbigpe30se3Byb3RvdHlwZTpnfSl9Y2F0Y2goZSl7fX19fSk/aS5hcHBseSh0LHIpOmkpfHwoZS5leHBvcnRzPXMpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHQuZGF0YXNldC5uZ3VpcmVzaXplfHwodGhpcy5lbD10LHRoaXMuc2V0dGluZ3M9T2JqZWN0LmFzc2lnbih7fSx7Y29ubmVjdFdpdGg6ITEsbWluV2lkdGg6MTQwfSxuKSx0aGlzLmhhbmRsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMub25Nb3VzZVVwPXRoaXMub25Nb3VzZVVwLmJpbmQodGhpcyksdGhpcy5vbk1vdXNlTW92ZT10aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5pbml0KCkpfXJldHVybiBpKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsLmRhdGFzZXQubmd1aXJlc2l6ZT0hMCx0aGlzLnNldHRpbmdzLmNvbm5lY3RXaXRoJiYodGhpcy5jb25uZWN0ZWQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNldHRpbmdzLmNvbm5lY3RXaXRoKSksdGhpcy5pbml0aWFsUmVzaXplKCksdGhpcy5lbC5jbGFzc0xpc3QuYWRkKFwibmctdWktcmVzaXphYmxlXCIpLHRoaXMuaGFuZGxlLmNsYXNzTGlzdC5hZGQoXCJuZy11aS1yZXNpemFibGUtaGFuZGxlXCIpLHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5oYW5kbGUpLHRoaXMuc2V0dXBFdmVudHMoKX19LHtrZXk6XCJzZXR1cEV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXS5jbGFzc0xpc3QuYWRkKFwibmctdWktcmVzaXppbmdcIiksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixlLm9uTW91c2VNb3ZlLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixlLm9uTW91c2VVcCwhMSl9KX19LHtrZXk6XCJvbk1vdXNlVXBcIix2YWx1ZTpmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vbk1vdXNlVXAsITEpO3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTtlLmNsYXNzTGlzdC5jb250YWlucyhcIm5nLXVpLXJlc2l6aW5nXCIpJiYoZS5jbGFzc0xpc3QucmVtb3ZlKFwibmctdWktcmVzaXppbmdcIiksd2luZG93LnNlc3Npb25TdG9yYWdlLm5nVWlSZXNpemU9dGhpcy5lbC5vZmZzZXRXaWR0aCl9fSx7a2V5Olwib25Nb3VzZU1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnJlc2l6ZUVsKGUucGFnZVgtdGhpcy5lbC5vZmZzZXRMZWZ0KX19LHtrZXk6XCJpbml0aWFsUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXsod2luZG93LnNlc3Npb25TdG9yYWdlLm5nVWlSZXNpemV8fHRoaXMuZWwub2Zmc2V0V2lkdGgpPHRoaXMuc2V0dGluZ3MubWluV2lkdGg/dGhpcy5yZXNpemVFbCh0aGlzLnNldHRpbmdzLm1pbldpZHRoKTp3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubmdVaVJlc2l6ZSYmdGhpcy5yZXNpemVFbCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubmdVaVJlc2l6ZSl9fSx7a2V5OlwicmVzaXplRWxcIix2YWx1ZTpmdW5jdGlvbihlKXtlPHRoaXMuc2V0dGluZ3MubWluV2lkdGh8fChPYmplY3QuYXNzaWduKHRoaXMuZWwuc3R5bGUse2ZsZXg6XCIwIDAgXCIrZStcInB4XCJ9KSx0aGlzLnNldHRpbmdzLmNvbm5lY3RXaXRoJiZ0aGlzLmNvbm5lY3RlZCYmKHRoaXMuY29ubmVjdGVkLnN0eWxlLndpZHRoPWUrXCJweFwiKSl9fV0pLGV9KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuZWw9dCx0aGlzLnRpdGxlPXQudGl0bGUsdGhpcy52aXNpYmxlPSExLHRoaXMudGl0bGUubGVuZ3RoJiZ0aGlzLmluaXQoKX1yZXR1cm4gaShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoXCJ0aXRsZVwiKSx0aGlzLnRvb2x0aXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnRvb2x0aXAuY2xhc3NOYW1lPVwibmctdWktdHQtY29udGVudFwiLHRoaXMudG9vbHRpcC5pbm5lckhUTUw9dGhpcy50aXRsZSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5vbkhvdmVyLmJpbmQodGhpcykpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLm9uT3V0LmJpbmQodGhpcykpLHRoaXMudG9vbHRpcC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHRoaXMub25Ib3Zlci5iaW5kKHRoaXMpKSx0aGlzLnRvb2x0aXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLm9uT3V0LmJpbmQodGhpcykpfX0se2tleTpcIm9uSG92ZXJcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnNob3dUb29sdGlwKCl9fSx7a2V5Olwib25PdXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudG9vbHRpcC5jbGFzc0xpc3QuYWRkKFwib3V0XCIpLHRoaXMudGltZXI9c2V0VGltZW91dCh0aGlzLmhpZGVUb29sdGlwLmJpbmQodGhpcyksMjAwKX19LHtrZXk6XCJzaG93VG9vbHRpcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50b29sdGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJvdXRcIiksIXRoaXMudmlzaWJsZSYmdGhpcy50aXRsZS5sZW5ndGgmJih0aGlzLnZpc2libGU9ITAsZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCksdGhpcy5nZXRUb29sdGlwUG9zaXRpb24oKSl9fSx7a2V5OlwiaGlkZVRvb2x0aXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlzaWJsZSYmKHRoaXMudmlzaWJsZT0hMSx0aGlzLnRvb2x0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnRvb2x0aXApKX19LHtrZXk6XCJnZXRUb29sdGlwUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdD10aGlzLnRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZS5sZWZ0K2Uud2lkdGgvMj50LndpZHRoLzImJndpbmRvdy5pbm5lcldpZHRoLWUubGVmdC1lLndpZHRoLzI+dC53aWR0aC8yPyh0aGlzLng9XCJjZW50ZXJcIix0aGlzLnRvb2x0aXAuc3R5bGUubGVmdD1lLmxlZnQrZS53aWR0aC8yLXQud2lkdGgvMitcInB4XCIpOmUubGVmdD50LndpZHRoPyh0aGlzLng9XCJsZWZ0XCIsdGhpcy50b29sdGlwLnN0eWxlLmxlZnQ9ZS5sZWZ0LXQud2lkdGgtMTArXCJweFwiKToodGhpcy54PVwicmlnaHRcIix0aGlzLnRvb2x0aXAuc3R5bGUubGVmdD1lLmxlZnQrZS53aWR0aCsxMCtcInB4XCIpLFwiY2VudGVyXCIhPT10aGlzLng/ZS50b3ArZS5oZWlnaHQvMj50LmhlaWdodC8yJiZ3aW5kb3cuaW5uZXJIZWlnaHQtZS50b3AtZS5oZWlnaHQvMj50LmhlaWdodC8yPyh0aGlzLnk9XCJjZW50ZXJcIix0aGlzLnRvb2x0aXAuc3R5bGUudG9wPWUudG9wK2UuaGVpZ2h0LzItdC5oZWlnaHQvMitcInB4XCIpOmUudG9wPnQuaGVpZ2h0Pyh0aGlzLnk9XCJ0b3BcIix0aGlzLnRvb2x0aXAuc3R5bGUudG9wPWUudG9wK2UuaGVpZ2h0LXQuaGVpZ2h0K1wicHhcIik6KHRoaXMueT1cImJvdHRvbVwiLHRoaXMudG9vbHRpcC5zdHlsZS50b3A9ZS50b3ArXCJweFwiKTplLnRvcD50LmhlaWdodD8odGhpcy55PVwidG9wXCIsdGhpcy50b29sdGlwLnN0eWxlLnRvcD1lLnRvcC10LmhlaWdodC0xMCtcInB4XCIpOih0aGlzLnk9XCJib3R0b21cIix0aGlzLnRvb2x0aXAuc3R5bGUudG9wPWUudG9wK2UuaGVpZ2h0KzEwK1wicHhcIiksdGhpcy50b29sdGlwLmRhdGFzZXQueD10aGlzLngsdGhpcy50b29sdGlwLmRhdGFzZXQueT10aGlzLnl9fV0pLGV9KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO3QuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtkYXRhLWVuYWJsZV1cIik7QXJyYXkuZnJvbShlKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbj10LmRhdGFzZXQuZW5hYmxlO3JldHVybiBlLmluY2x1ZGVzKG4pfHxlLnB1c2gobiksZX0sW10pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyByKGUpfSl9O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMubmFtZT10LHRoaXMuaW5wdXRzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWVuYWJsZT1cIicrdCsnXCJdJyksdGhpcy5idXR0b25zPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVuYWJsZXI9XCInK3QrJ1wiXScpLHRoaXMuaW5pdCgpfXJldHVybiBpKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZUJ1dHRvbnMoKSx0aGlzLnNldHVwRXZlbnRzKCl9fSx7a2V5OlwiaXNDaGVja2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmlucHV0cykuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGVja2VkfSl9fSx7a2V5OlwidG9nZ2xlQnV0dG9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IXRoaXMuaXNDaGVja2VkKCk7dGhpcy5idXR0b25zLmZvckVhY2goZnVuY3Rpb24odCl7dC5kaXNhYmxlZD1lfSl9fSx7a2V5Olwic2V0dXBFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZS50b2dnbGVCdXR0b25zLmJpbmQoZSkpfSl9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O2k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7aT1pfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiOnIod2luZG93KSkmJihpPXdpbmRvdyl9ZS5leHBvcnRzPWl9XSl9KTsiXX0=
